(function(_0x556381,_0xeae275){const _0x5a6dd3=_0xda34,_0x515d49=_0x556381();while(!![]){try{const _0x2c9cf5=-parseInt(_0x5a6dd3(0x8e))/0x1+parseInt(_0x5a6dd3(0x97))/0x2+parseInt(_0x5a6dd3(0xb7))/0x3+-parseInt(_0x5a6dd3(0xa1))/0x4+-parseInt(_0x5a6dd3(0xca))/0x5+parseInt(_0x5a6dd3(0xba))/0x6*(parseInt(_0x5a6dd3(0xb1))/0x7)+parseInt(_0x5a6dd3(0x8d))/0x8;if(_0x2c9cf5===_0xeae275)break;else _0x515d49['push'](_0x515d49['shift']());}catch(_0x3ee7f9){_0x515d49['push'](_0x515d49['shift']());}}}(_0x5a13,0x23be6));let TableClothAvgRed=0x0,TableClothAvgGreen=0x0,TableClothAvgBlue=0x0,TableClothAvgBright=0x0,TableClothAvgSat=0x0,TableClothAvgHue=0x0;const TableClothHueRange=0xa;let TableClothMaxHue=0x0,TableClothMinHue=0x0;const TABLE_CLOTH_MIN_SAT=0x32,TABLE_CLOTH_MIN_BRIGHT=0x1e,TABLE_CLOTH_MIN_AVG_BRIGHT=0x3c;let TableClothMinSat=TABLE_CLOTH_MIN_SAT,TableClothMinBright=TABLE_CLOTH_MIN_BRIGHT;const TAB_TOP_LINE=0x0,TAB_RIGHT_LINE=0x1,TAB_BOTTOM_LINE=0x2,TAB_LEFT_LINE=0x3,TAB_V_MID_LINE=0x4,TAB_H_MID_LINE=0x5,TAB_LEFT_CROSS_LINE=0x6,TAB_RIGHT_CROSS_LINE=0x7,TAB_XY_RANGE=0x8,TAB_LINE_LENGTH=0x9;let BallWidthRange=[],TableLeftRightX=[],TableTopBottomY=[],TableConvertRange,TableLines=[],VideoWidth=0x500,VideoHeight=0x2d0,VideoWidth3=VideoWidth*0x3,VideoWidth4=VideoWidth*0x4,VideoDuration=0x0;const FRAME_TIME_MULTIPLE=0x64;let VideoFrameRate=0x1e,frameInSecond=0x1/VideoFrameRate,frameInSecondMultiple=Math['round'](frameInSecond*FRAME_TIME_MULTIPLE),frameInSecondMultiple2=frameInSecondMultiple*0x2;function myLog(_0x2c204e){}function setVideoWidthHeight(_0xd16c75,_0x1eeade){VideoWidth=_0xd16c75,VideoHeight=_0x1eeade,VideoWidth3=VideoWidth*0x3,VideoWidth4=VideoWidth*0x4;}function setFrameRate(_0x4269d4){const _0x2ad615=_0xda34;_0x4269d4>0x1e&&(_0x4269d4=0x1e),VideoFrameRate=_0x4269d4,frameInSecond=0x1/VideoFrameRate,frameInSecondMultiple=Math[_0x2ad615(0xb9)](frameInSecond*FRAME_TIME_MULTIPLE),frameInSecondMultiple2=frameInSecondMultiple*0x2;}let BallDivWidth=0x20d/(0x6*0xbe8);const TAB_BALL_TYPE_SNOOKER=0xc,TAB_BALL_TYPE_POOL=0x9;let TableBallType=TAB_BALL_TYPE_SNOOKER,CurrentCueSticks=[],CurrentBallGroups=[],WatchBallGroups=[],LastShotBallGroups=[],ShotCacheGroups=[],TempShotBeginGoneGroups=[],FastMoveGroups=[],LastScanTableTime=0x0,fillCanvasCrop=![];const BG_rect=0x0,BG_CenterX=0x1,BG_CenterY=0x2,BG_Score=0x3,BG_AvgHue=0x4,BG_AvgSat=0x5,BG_AvgBright=0x6,BG_WhiteScore=0x7,BG_WhiteBall=0x8,BG_FirstTime=0x9,BG_LastTime=0xa,BG_GoneTime=0xb,BG_DotTotal=0xc,BG_Radius=0xd,BG_PathBegin=0xe,BG_Found=0xf;function new_BallGroup(){let _0x43aa4f=[];return _0x43aa4f[BG_rect]=[0x0,0x0,0x0,0x0],_0x43aa4f[BG_CenterX]=0x0,_0x43aa4f[BG_CenterY]=0x0,_0x43aa4f[BG_Score]=0x0,_0x43aa4f[BG_AvgHue]=0x0,_0x43aa4f[BG_AvgSat]=0x0,_0x43aa4f[BG_AvgBright]=0x0,_0x43aa4f[BG_WhiteScore]=0x0,_0x43aa4f[BG_WhiteBall]=0x0,_0x43aa4f[BG_FirstTime]=0x0,_0x43aa4f[BG_LastTime]=0x0,_0x43aa4f[BG_GoneTime]=0x0,_0x43aa4f[BG_DotTotal]=0x0,_0x43aa4f[BG_Radius]=0x0,_0x43aa4f[BG_Found]=0x0,_0x43aa4f[BG_PathBegin]=0x0,_0x43aa4f;}function copy_BallGroup(_0x428cb4){let _0x1e2d28=[];return _0x1e2d28[BG_rect]=_0x428cb4[BG_rect],_0x1e2d28[BG_CenterX]=_0x428cb4[BG_CenterX],_0x1e2d28[BG_CenterY]=_0x428cb4[BG_CenterY],_0x1e2d28[BG_Score]=_0x428cb4[BG_Score],_0x1e2d28[BG_AvgHue]=_0x428cb4[BG_AvgHue],_0x1e2d28[BG_AvgSat]=_0x428cb4[BG_AvgSat],_0x1e2d28[BG_AvgBright]=_0x428cb4[BG_AvgBright],_0x1e2d28[BG_WhiteScore]=_0x428cb4[BG_WhiteScore],_0x1e2d28[BG_WhiteBall]=_0x428cb4[BG_WhiteBall],_0x1e2d28[BG_FirstTime]=_0x428cb4[BG_FirstTime],_0x1e2d28[BG_LastTime]=_0x428cb4[BG_LastTime],_0x1e2d28[BG_GoneTime]=_0x428cb4[BG_GoneTime],_0x1e2d28[BG_DotTotal]=_0x428cb4[BG_DotTotal],_0x1e2d28[BG_Radius]=_0x428cb4[BG_Radius],_0x1e2d28[BG_Found]=0x0,_0x1e2d28[BG_PathBegin]=0x0,_0x1e2d28;}function BallGroup2Str(_0x39c3bb){const _0x55e035=_0xda34;return _0x39c3bb[BG_CenterX]+','+_0x39c3bb[BG_CenterY]+_0x55e035(0xa0)+_0x39c3bb[BG_Score]+'\x20hsv('+_0x39c3bb[BG_AvgHue]+','+_0x39c3bb[BG_AvgSat]+','+_0x39c3bb[BG_AvgBright]+')'+_0x55e035(0xc0)+_0x39c3bb[BG_Radius]+_0x55e035(0xd2)+_0x39c3bb[BG_WhiteScore]+_0x55e035(0xa4)+_0x39c3bb[BG_DotTotal]+_0x55e035(0xa8)+_0x39c3bb[BG_FirstTime];}const BS_BEGIN_MOVE=0x0,BS_BEGIN=0x1,BS_END_MOVE=0x2,BS_END=0x3,BS_BEGIN_BALL_TOTAL=0x4,BS_END_BALL_TOTAL=0x5,BS_OUTPUT=0x6,BS_GEN_PATH=0x7,BS_OTHER_BALL_MOVE_TOTAL=0x8,BS_FIRST_CUE_STICK=0x9,BS_CUE_BALL_MOVE=0xa,BS_CUE_BALL_PATH=0xb,BS_FIRST_CUE_BALL=0xc,BS_BALL_GROUPS=0xd,BS_GEN_PATH_FRAME_TIMES=0xe,BS_DATA_VIDEO=0xf;let BallShots=[];function newBallShot(){let _0xb557ea=[];return _0xb557ea[BS_BEGIN_MOVE]=0x0,_0xb557ea[BS_BEGIN]=0x0,_0xb557ea[BS_END_MOVE]=0x0,_0xb557ea[BS_END]=0x0,_0xb557ea[BS_BEGIN_BALL_TOTAL]=0x0,_0xb557ea[BS_END_BALL_TOTAL]=0x0,_0xb557ea[BS_OUTPUT]=0x1,_0xb557ea[BS_GEN_PATH]=0x0,_0xb557ea[BS_FIRST_CUE_STICK]=[],_0xb557ea[BS_CUE_BALL_MOVE]=[],_0xb557ea[BS_CUE_BALL_PATH]=[],_0xb557ea[BS_FIRST_CUE_BALL]=null,_0xb557ea[BS_BALL_GROUPS]=[],_0xb557ea[BS_GEN_PATH_FRAME_TIMES]=[],_0xb557ea[BS_OTHER_BALL_MOVE_TOTAL]=0x0,_0xb557ea[BS_DATA_VIDEO]=0x0,_0xb557ea;}const SHOT_END_NO_MOVE_TIME=1.9*FRAME_TIME_MULTIPLE,MAX_WATCH_BALL_NOT_SEEN_TIME=0x4*FRAME_TIME_MULTIPLE,SHOT_BEGIN_DELAY_TIME=1.5,SHOT_END_DELAY_TIME=-0x1,MIN_SCAN_GAP=0.1,MAX_SCAN_GAP=0.5,HALF_MAX_SCAN_GAP_FRAME_TIME=0.2*FRAME_TIME_MULTIPLE,DOUBLE_MAX_SCAN_GAP=MAX_SCAN_GAP*0x2,BIG_JUMP_SCAN_GAP=0x3;let LastProcTime=0x0,CurrentProcTime=0x0,ProcStatus=0x0,ProcBeginTime=0x0,ProcEndTime=0x0,ProcStartupTime=0x0,ProcTotal=0x0,ProcSumTime=0x0,LastBigJumpScanTime=0x0,LastBigJumpScan=![],BigJumpTotal=0x0,BigJumpFail=0x0,BigJumpCache=null,BigJumpCacheHit=0x0,CurrentNewBalls=[],FrameEndShotPos=0x0,LastCheckFrameBeginPos=0x0;const FRAME_END_BALL_TOTAL=0x5;let ShotStatus=0x0,ShotBeginMoveTime=0x0,LastBallMoveTime=0x0,NewBallShot=null,IsFrameBegin=0x0,PlayShotStatus=0x0,PlayShotNo=0x0;const MODEL_URL='best_web_model/model.json';let model=null;const SCORE_THRESHOLD=0.2,SCORE_SURE_BALL=0x32,MAX_BALL_IOU=0.6,IOU_THRESHOLD=0.45,MODEL_SIZE=0x280;let cropRect=[0x0,0x0,0x0,0x0,0x0,0x0],letterBox=[],cropTableScaleX=0x0,cropTableScaleY=0x0;const POCKET_MODEL_URL='pocket_model/model.json';let pocketModel=null,fullLetterBox=[];function angleChangeInBounce(_0x49bad7,_0x35cbfb,_0x58893f,_0x3e4441,_0x30fa7d){const _0x109d48=_0xda34;if(_0x49bad7[BG_PathBegin]==0x1||_0x35cbfb[BG_PathBegin]==0x1||_0x58893f[BG_PathBegin]==0x1||_0x3e4441[BG_PathBegin]==0x1)return![];let _0x2b69fa=lineLength(_0x49bad7[BG_CenterX],_0x49bad7[BG_CenterY],_0x35cbfb[BG_CenterX],_0x35cbfb[BG_CenterY]),_0x1fde8a=lineLength(_0x35cbfb[BG_CenterX],_0x35cbfb[BG_CenterY],_0x58893f[BG_CenterX],_0x58893f[BG_CenterY]),_0x59bde0=lineLength(_0x58893f[BG_CenterX],_0x58893f[BG_CenterY],_0x3e4441[BG_CenterX],_0x3e4441[BG_CenterY]);if(_0x2b69fa<Math[_0x109d48(0xbe)](_0x49bad7[BG_Radius]/0x2,0x4))return![];if(_0x1fde8a<Math[_0x109d48(0xbe)](_0x35cbfb[BG_Radius]/0x3,0x3))return![];if(_0x59bde0<Math[_0x109d48(0xbe)](_0x58893f[BG_Radius]/0x2,0x4))return![];let _0x2f6410=getLineSegmentAngle(_0x49bad7[BG_CenterX],_0x49bad7[BG_CenterY],_0x35cbfb[BG_CenterX],_0x35cbfb[BG_CenterY]),_0x44fa39=getLineSegmentAngle(_0x35cbfb[BG_CenterX],_0x35cbfb[BG_CenterY],_0x58893f[BG_CenterX],_0x58893f[BG_CenterY]),_0x341640=getLineSegmentAngle(_0x58893f[BG_CenterX],_0x58893f[BG_CenterY],_0x3e4441[BG_CenterX],_0x3e4441[BG_CenterY]);if(_0x2f6410>0x5a&&_0x341640<0x5a||_0x2f6410<0x5a&&_0x341640>0x5a){if(diffLineSegmentAngle(_0x2f6410,_0x44fa39)>0xa&&diffLineSegmentAngle(_0x44fa39,_0x341640)>0xa)return!![];}return![];}function getCrossPointBall(_0x5d2edc,_0x5cb810,_0x23058d,_0x63b7fc){let _0x48faf7=new_BallGroup(),_0xfd2107=getCrossPoint(_0x5d2edc[BG_CenterX],_0x5d2edc[BG_CenterY],_0x5cb810[BG_CenterX],_0x5cb810[BG_CenterY],_0x23058d[BG_CenterX],_0x23058d[BG_CenterY],_0x63b7fc[BG_CenterX],_0x63b7fc[BG_CenterY]);if(_0xfd2107!=null){if(_0xfd2107[0x0]>cropRect[0x0]&&_0xfd2107[0x0]<cropRect[0x2]&&_0xfd2107[0x1]>cropRect[0x1]&&_0xfd2107[0x1]<cropRect[0x3])return _0x48faf7[BG_CenterX]=_0xfd2107[0x0],_0x48faf7[BG_CenterY]=_0xfd2107[0x1],_0x48faf7;}return null;}function get3BallsFromPath(_0x2d2ac1,_0x2b8341,_0x15e292,_0x4950cc){const _0x1d1631=_0xda34;let _0x192aa4=[],_0x56bdeb,_0x4ee68f=_0x2b8341,_0x3db3d9=_0x15e292;for(_0x56bdeb=_0x4950cc-0x1;_0x56bdeb>=0x0;_0x56bdeb--){if(_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb][BG_PathBegin]==0x1)continue;if(_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb][BG_CenterX]!=_0x4ee68f||_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb][BG_CenterY]!=_0x3db3d9){_0x192aa4['unshift'](_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb]);if(_0x192aa4[_0x1d1631(0xaa)]==0x2)break;_0x4ee68f=_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb][BG_CenterX],_0x3db3d9=_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb][BG_CenterY];}}if(_0x192aa4[_0x1d1631(0xaa)]!=0x2)return[];_0x4ee68f=_0x2b8341,_0x3db3d9=_0x15e292;for(_0x56bdeb=_0x4950cc+0x1;_0x56bdeb<_0x2d2ac1[BS_CUE_BALL_PATH][_0x1d1631(0xaa)];_0x56bdeb++){if(_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb][BG_PathBegin]==0x1)continue;if(_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb][BG_CenterX]!=_0x4ee68f||_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb][BG_CenterY]!=_0x3db3d9){_0x192aa4[_0x1d1631(0x9d)](_0x2d2ac1[BS_CUE_BALL_PATH][_0x56bdeb]);if(_0x192aa4[_0x1d1631(0xaa)]==0x3)return _0x192aa4;}}return[];}function ballsInStraightLine(_0x15f324,_0x551452,_0x2f53b5){const _0x3264e0=_0xda34;let _0x2a8a3a,_0x30b01d=0x0,_0x1fe73e=0x0,_0x180359=0x0,_0xb00200,_0x5931ec,_0x20173d=0x0,_0x549140=[],_0x52199e,_0x2a225a=_0x15f324[_0x551452][BG_CenterX],_0x2431af=_0x15f324[_0x551452][BG_CenterY],_0x2311fa=_0x15f324[_0x2f53b5][BG_CenterX],_0x1360c9=_0x15f324[_0x2f53b5][BG_CenterY];for(_0x2a8a3a=_0x551452+0x1;_0x2a8a3a<_0x2f53b5;_0x2a8a3a++){_0xb00200=_0x15f324[_0x2a8a3a];if(_0xb00200[BG_PathBegin]==0x1||_0xb00200[BG_Found]!=0x0)continue;_0x30b01d++,_0x5931ec=dotToLineDistanceSign(_0x2a225a,_0x2431af,_0x2311fa,_0x1360c9,_0xb00200[BG_CenterX],_0xb00200[BG_CenterY]);if(_0x5931ec>0x0)_0x1fe73e++;else _0x5931ec<0x0&&_0x180359++;if(Math['abs'](_0x5931ec)>_0xb00200[BG_Radius]/0x3)return 0x0;_0x20173d=_0x20173d+_0x5931ec,_0x5931ec=Math[_0x3264e0(0xb9)](lineLength(_0x2a225a,_0x2431af,_0xb00200[BG_CenterX],_0xb00200[BG_CenterY]));for(_0x52199e=0x0;_0x52199e<_0x549140[_0x3264e0(0xaa)];_0x52199e++){if(_0x5931ec<_0x549140[_0x52199e]-0x1)return 0x0;}_0x549140[_0x3264e0(0x9d)](_0x5931ec);}if(_0x30b01d<0x3)return 0x1;if(Math[_0x3264e0(0xc7)](_0x20173d)>(_0x15f324[_0x551452][BG_Radius]+_0x15f324[_0x2f53b5][BG_Radius])/0x3)return 0x0;if(_0x1fe73e>_0x30b01d/0x2||_0x180359>_0x30b01d/0x2)return 0x1;return 0x2;}function checkFastMoveGroups(_0x3d2252){const _0x17454d=_0xda34;let _0x5b9319,_0x5bebfc,_0x266e11;for(_0x5b9319=FastMoveGroups[_0x17454d(0xaa)]-0x1;_0x5b9319>=0x0;_0x5b9319--){_0x5bebfc=FastMoveGroups[_0x5b9319],_0x266e11=_0x3d2252-_0x5bebfc[BG_GoneTime];if(_0x266e11>=FRAME_TIME_MULTIPLE/0x2)break;_0x266e11<0x0&&(myLog(_0x17454d(0x9a)+_0x3d2252+'->'+_0x5bebfc[BG_GoneTime]+':\x20'+BallGroup2Str(_0x5bebfc)),_0x3d2252=_0x5bebfc[BG_GoneTime]);}return _0x3d2252;}function lastShotBallChange(){let _0x1362a6,_0x1b35e8;for(_0x1362a6 of LastShotBallGroups){_0x1b35e8=locateGroup(CurrentBallGroups,_0x1362a6[BG_CenterX],_0x1362a6[BG_CenterY]);if(_0x1b35e8==null){let _0x6215ab=getBallAreaColor(_0x1362a6,_0x1362a6[BG_Radius]);if(_0x6215ab<=_0x1362a6[BG_DotTotal]*0.7)return!![];continue;}if(lineLength(_0x1362a6[BG_CenterX],_0x1362a6[BG_CenterY],_0x1b35e8[BG_CenterX],_0x1b35e8[BG_CenterY])>=_0x1362a6[BG_Radius])return!![];}return![];}function checkFrameBeginBalls(){const _0x28f574=_0xda34;let _0x4055c2,_0x15705e,_0x4b9bd8=[null,null,null,null,null,null,null,null];if(CurrentBallGroups[_0x28f574(0xaa)]<0x8)return![];for(_0x4055c2 of CurrentBallGroups){if(Math[_0x28f574(0xc7)](_0x4055c2[BG_CenterX]-getLineX(TableLines[TAB_V_MID_LINE][0x0],TableLines[TAB_V_MID_LINE][0x1],TableLines[TAB_V_MID_LINE][0x2],TableLines[TAB_V_MID_LINE][0x3],_0x4055c2[BG_CenterY]))<0x2*_0x4055c2[BG_Radius]){_0x15705e=_0x4055c2[BG_CenterY]-getLineY(TableLines[TAB_H_MID_LINE][0x0],TableLines[TAB_H_MID_LINE][0x1],TableLines[TAB_H_MID_LINE][0x2],TableLines[TAB_H_MID_LINE][0x3],_0x4055c2[BG_CenterX]);if(Math['abs'](_0x15705e)<0x2*_0x4055c2[BG_Radius]){_0x4b9bd8[0x5]=_0x4055c2;continue;}else{if(-_0x15705e>0x4*_0x4055c2[BG_Radius]){if(_0x4b9bd8[0x4]==null)_0x4b9bd8[0x4]=_0x4055c2;else _0x4b9bd8[0x4][BG_CenterY]<_0x4055c2[BG_CenterY]&&(_0x4b9bd8[0x4]=_0x4055c2);continue;}else{if(_0x15705e>0xa*_0x4055c2[BG_Radius]){if(_0x4b9bd8[0x7]==null)_0x4b9bd8[0x7]=_0x4055c2;else _0x4b9bd8[0x7][BG_CenterY]<_0x4055c2[BG_CenterY]&&(_0x4b9bd8[0x7]=_0x4055c2);continue;}}}}}if(_0x4b9bd8[0x4]==null||_0x4b9bd8[0x5]==null||_0x4b9bd8[0x7]==null)return![];for(_0x4055c2 of CurrentBallGroups){if(_0x4055c2==_0x4b9bd8[0x4]||_0x4055c2==_0x4b9bd8[0x5]||_0x4055c2==_0x4b9bd8[0x7])continue;if(_0x4055c2[BG_CenterX]<_0x4b9bd8[0x4][BG_CenterX]-0x6*_0x4055c2[BG_Radius]&&Math['abs'](_0x4055c2[BG_CenterY]-_0x4b9bd8[0x4][BG_CenterY])<0x2*_0x4055c2[BG_Radius]){_0x4b9bd8[0x2]=_0x4055c2;break;}}if(_0x4b9bd8[0x2]==null)return![];let _0x3787a0=_0x4b9bd8[0x4][BG_CenterX]-_0x4b9bd8[0x2][BG_CenterX],_0x5ab1dd=_0x4b9bd8[0x2][BG_CenterX]-_0x4b9bd8[0x2][BG_Radius],_0x1855c5=_0x4b9bd8[0x4][BG_CenterX]+_0x3787a0+_0x4b9bd8[0x2][BG_Radius],_0x2b88c5=_0x4b9bd8[0x7][BG_CenterY]-0x3*_0x4b9bd8[0x7][BG_Radius];for(_0x4055c2 of CurrentBallGroups){if(_0x4055c2==_0x4b9bd8[0x2]||_0x4055c2==_0x4b9bd8[0x4]||_0x4055c2==_0x4b9bd8[0x5]||_0x4055c2==_0x4b9bd8[0x7])continue;if(_0x4055c2[BG_CenterX]<_0x5ab1dd||_0x4055c2[BG_CenterX]>_0x1855c5)return![];if(_0x4055c2[BG_CenterY]>_0x2b88c5)return![];}return!![];}function cueStickPointAt(_0x5bdbe2,_0x444b8e){const _0x4fca01=_0xda34;let _0x877b09,_0x535dd8,_0x5a72ad,_0x40fd39,_0x3d860d,_0x398f4d;_0x398f4d=getLineSegmentAngle(_0x5bdbe2[BG_CenterX],_0x5bdbe2[BG_CenterY],_0x444b8e[BG_CenterX],_0x444b8e[BG_CenterY]);for(_0x877b09 of CurrentCueSticks){let _0x29bf1b=BallWidthRange[_0x877b09[BG_rect][0x1]];if(rectOverlap(_0x5bdbe2[BG_rect][0x0],_0x5bdbe2[BG_rect][0x1],_0x5bdbe2[BG_rect][0x2],_0x5bdbe2[BG_rect][0x3],_0x877b09[BG_rect][0x0],_0x877b09[BG_rect][0x1],_0x877b09[BG_rect][0x2],_0x877b09[BG_rect][0x3])!=0x1)continue;if(_0x877b09[BG_rect][0x3]-_0x877b09[BG_rect][0x1]<_0x29bf1b){_0x535dd8=_0x877b09[BG_rect][0x0],_0x40fd39=_0x877b09[BG_rect][0x2],_0x5a72ad=Math[_0x4fca01(0xb9)]((_0x877b09[BG_rect][0x1]+_0x877b09[BG_rect][0x3])/0x2),_0x3d860d=_0x5a72ad;if(Math['abs'](getLineSegmentAngle(_0x535dd8,_0x5a72ad,_0x40fd39,_0x3d860d)-_0x398f4d)<0xa)return!![];}else{if(_0x877b09[BG_rect][0x2]-_0x877b09[BG_rect][0x0]<_0x29bf1b){_0x535dd8=Math['round']((_0x877b09[BG_rect][0x0]+_0x877b09[BG_rect][0x2])/0x2),_0x40fd39=_0x40fd39,_0x5a72ad=_0x877b09[BG_rect][0x1],_0x3d860d=_0x877b09[BG_rect][0x3];if(Math[_0x4fca01(0xc7)](getLineSegmentAngle(_0x535dd8,_0x5a72ad,_0x40fd39,_0x3d860d)-_0x398f4d)<0xa)return!![];}}_0x535dd8=_0x877b09[BG_rect][0x0],_0x40fd39=_0x877b09[BG_rect][0x2],_0x5a72ad=_0x877b09[BG_rect][0x1],_0x3d860d=_0x877b09[BG_rect][0x3];if(Math[_0x4fca01(0xc7)](getLineSegmentAngle(_0x535dd8,_0x5a72ad,_0x40fd39,_0x3d860d)-_0x398f4d)<0xa)return!![];_0x535dd8=_0x877b09[BG_rect][0x0],_0x40fd39=_0x877b09[BG_rect][0x2],_0x5a72ad=_0x877b09[BG_rect][0x3],_0x3d860d=_0x877b09[BG_rect][0x1];if(Math[_0x4fca01(0xc7)](getLineSegmentAngle(_0x535dd8,_0x5a72ad,_0x40fd39,_0x3d860d)-_0x398f4d)<0xa)return!![];}return![];}function getBallWidth(_0x28a8e5){const _0x295644=_0xda34;let _0x14397c=TableLines[TAB_TOP_LINE][0x2]-TableLines[TAB_TOP_LINE][0x0];return TableLeftRightX[_0x28a8e5][0x1]>0x0&&(_0x14397c=Math[_0x295644(0xbe)](_0x14397c,TableLeftRightX[_0x28a8e5][0x1]-TableLeftRightX[_0x28a8e5][0x0])),(_0x28a8e5>=TableLines[TAB_BOTTOM_LINE][0x1]||_0x28a8e5>=TableLines[TAB_BOTTOM_LINE][0x3])&&(_0x14397c=Math[_0x295644(0xbe)](_0x14397c,TableLines[TAB_BOTTOM_LINE][0x2]-TableLines[TAB_BOTTOM_LINE][0x0])),Math['round'](_0x14397c*BallDivWidth);}function initFullLetterBox(){const _0xcdf930=_0xda34;let _0x2bea57=VideoWidth,_0x333a09=VideoHeight,_0x5b3c7a=Math[_0xcdf930(0xb5)](MODEL_SIZE/_0x2bea57,MODEL_SIZE/_0x333a09),_0x45f4ca=Math[_0xcdf930(0xb9)](_0x2bea57*_0x5b3c7a),_0x2078c5=Math[_0xcdf930(0xb9)](_0x333a09*_0x5b3c7a),_0x551eeb=Math[_0xcdf930(0xb9)]((MODEL_SIZE-_0x45f4ca)/0x2),_0x5364a4=Math['round']((MODEL_SIZE-_0x2078c5)/0x2);fullLetterBox=[_0x551eeb,_0x5364a4,_0x45f4ca,_0x2078c5],fillCanvasCrop=![],resetGlobalVariables();}function initTableLines(){const _0x16a8fe=_0xda34;let _0x8bc8f1;cropRect=[Math[_0x16a8fe(0xb5)](tableLineDef[0x0],tableLineDef[0x6]),Math[_0x16a8fe(0xb5)](tableLineDef[0x1],tableLineDef[0x3])-0x1e,Math[_0x16a8fe(0xbe)](tableLineDef[0x2],tableLineDef[0x4]),Math['max'](tableLineDef[0x5],tableLineDef[0x7])+0xa],cropRect[0x0]=Math[_0x16a8fe(0xbe)](cropRect[0x0],0x0),cropRect[0x1]=Math[_0x16a8fe(0xbe)](cropRect[0x1],0x0),cropRect[0x2]=Math[_0x16a8fe(0xb5)](cropRect[0x2],VideoWidth-0x1),cropRect[0x3]=Math['min'](cropRect[0x3],VideoHeight-0x1),cropRect[0x4]=cropRect[0x2]-cropRect[0x0],cropRect[0x5]=cropRect[0x3]-cropRect[0x1];let _0x57072d=cropRect[0x4],_0x39c886=cropRect[0x5],_0x5982ba=Math['min'](MODEL_SIZE/_0x57072d,MODEL_SIZE/_0x39c886),_0x5b2cf3=Math['round'](_0x57072d*_0x5982ba),_0x36e666=Math[_0x16a8fe(0xb9)](_0x39c886*_0x5982ba),_0x2b6f85=Math['round']((MODEL_SIZE-_0x5b2cf3)/0x2),_0x456675=Math['round']((MODEL_SIZE-_0x36e666)/0x2);letterBox=[_0x2b6f85,_0x456675,_0x5b2cf3,_0x36e666],cropTableScaleX=cropRect[0x4]/letterBox[0x2],cropTableScaleY=cropRect[0x5]/letterBox[0x3],_0x57072d=VideoWidth,_0x39c886=VideoHeight,_0x5982ba=Math[_0x16a8fe(0xb5)](MODEL_SIZE/_0x57072d,MODEL_SIZE/_0x39c886),_0x5b2cf3=Math['round'](_0x57072d*_0x5982ba),_0x36e666=Math[_0x16a8fe(0xb9)](_0x39c886*_0x5982ba),_0x2b6f85=Math['round']((MODEL_SIZE-_0x5b2cf3)/0x2),_0x456675=Math[_0x16a8fe(0xb9)]((MODEL_SIZE-_0x36e666)/0x2),fullLetterBox=[_0x2b6f85,_0x456675,_0x5b2cf3,_0x36e666],fillCanvasCrop=![],resetGlobalVariables(),TableClothAvgHue=0x0;TableBallType==TAB_BALL_TYPE_POOL?BallDivWidth=0x23b/(4.5*0xbe8):BallDivWidth=0x20d/(0x6*0xbe8);for(_0x8bc8f1=0x0;_0x8bc8f1<TAB_LINE_LENGTH;_0x8bc8f1++){TableLines[_0x8bc8f1]=[];}TableLines[TAB_TOP_LINE][0x0]=parseInt(tableLineDef[0x0]),TableLines[TAB_TOP_LINE][0x1]=parseInt(tableLineDef[0x1]),TableLines[TAB_LEFT_LINE][0x0]=parseInt(tableLineDef[0x0]),TableLines[TAB_LEFT_LINE][0x1]=parseInt(tableLineDef[0x1]),TableLines[TAB_TOP_LINE][0x2]=parseInt(tableLineDef[0x2]),TableLines[TAB_TOP_LINE][0x3]=parseInt(tableLineDef[0x3]),TableLines[TAB_RIGHT_LINE][0x0]=parseInt(tableLineDef[0x2]),TableLines[TAB_RIGHT_LINE][0x1]=parseInt(tableLineDef[0x3]),TableLines[TAB_BOTTOM_LINE][0x2]=parseInt(tableLineDef[0x4]),TableLines[TAB_BOTTOM_LINE][0x3]=parseInt(tableLineDef[0x5]),TableLines[TAB_RIGHT_LINE][0x2]=parseInt(tableLineDef[0x4]),TableLines[TAB_RIGHT_LINE][0x3]=parseInt(tableLineDef[0x5]),TableLines[TAB_BOTTOM_LINE][0x0]=parseInt(tableLineDef[0x6]),TableLines[TAB_BOTTOM_LINE][0x1]=parseInt(tableLineDef[0x7]),TableLines[TAB_LEFT_LINE][0x2]=parseInt(tableLineDef[0x6]),TableLines[TAB_LEFT_LINE][0x3]=parseInt(tableLineDef[0x7]),TableLines[TAB_LEFT_CROSS_LINE][0x0]=TableLines[TAB_TOP_LINE][0x0],TableLines[TAB_LEFT_CROSS_LINE][0x1]=TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_LEFT_CROSS_LINE][0x2]=TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_LEFT_CROSS_LINE][0x3]=TableLines[TAB_BOTTOM_LINE][0x3],TableLines[TAB_RIGHT_CROSS_LINE][0x0]=TableLines[TAB_TOP_LINE][0x2],TableLines[TAB_RIGHT_CROSS_LINE][0x1]=TableLines[TAB_TOP_LINE][0x3],TableLines[TAB_RIGHT_CROSS_LINE][0x2]=TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_RIGHT_CROSS_LINE][0x3]=TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_V_MID_LINE][0x0]=TableLines[TAB_TOP_LINE][0x0]+TableLines[TAB_TOP_LINE][0x2]>>0x1,TableLines[TAB_V_MID_LINE][0x1]=TableLines[TAB_TOP_LINE][0x1]+TableLines[TAB_TOP_LINE][0x3]>>0x1,TableLines[TAB_V_MID_LINE][0x2]=TableLines[TAB_BOTTOM_LINE][0x0]+TableLines[TAB_BOTTOM_LINE][0x2]>>0x1,TableLines[TAB_V_MID_LINE][0x3]=TableLines[TAB_BOTTOM_LINE][0x1]+TableLines[TAB_BOTTOM_LINE][0x3]>>0x1;let _0x4a4765=getCrossPoint(TableLines[TAB_RIGHT_CROSS_LINE][0x0],TableLines[TAB_RIGHT_CROSS_LINE][0x1],TableLines[TAB_RIGHT_CROSS_LINE][0x2],TableLines[TAB_RIGHT_CROSS_LINE][0x3],TableLines[TAB_LEFT_CROSS_LINE][0x0],TableLines[TAB_LEFT_CROSS_LINE][0x1],TableLines[TAB_LEFT_CROSS_LINE][0x2],TableLines[TAB_LEFT_CROSS_LINE][0x3]);if(_0x4a4765[0x0]==0x0){myLog('Err:\x20initTableLines\x20getCrossPoint\x20pt1');return;}let _0x2d8ba1=((TableLines[TAB_TOP_LINE][0x3]-TableLines[TAB_TOP_LINE][0x1])/(TableLines[TAB_TOP_LINE][0x2]-TableLines[TAB_TOP_LINE][0x0])+(TableLines[TAB_BOTTOM_LINE][0x3]-TableLines[TAB_BOTTOM_LINE][0x1])/(TableLines[TAB_BOTTOM_LINE][0x2]-TableLines[TAB_BOTTOM_LINE][0x0]))/0x2,_0x2b9f0c=_0x4a4765[0x1]-_0x2d8ba1*_0x4a4765[0x0],_0x211086=_0x4a4765[0x0]+0x32,_0x11c6f4=Math[_0x16a8fe(0xb9)](_0x2d8ba1*_0x211086+_0x2b9f0c),_0x153a64=getCrossPoint(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x4a4765[0x0],_0x4a4765[0x1],_0x211086,_0x11c6f4);if(_0x153a64[0x0]==0x0){myLog('Err:\x20initTableLines\x20getCrossPoint\x20ptLeft');return;}let _0xe097e=getCrossPoint(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x4a4765[0x0],_0x4a4765[0x1],_0x211086,_0x11c6f4);if(_0xe097e[0x0]==0x0){myLog(_0x16a8fe(0xc9));return;}TableLines[TAB_H_MID_LINE][0x0]=_0x153a64[0x0],TableLines[TAB_H_MID_LINE][0x1]=_0x153a64[0x1],TableLines[TAB_H_MID_LINE][0x2]=_0xe097e[0x0],TableLines[TAB_H_MID_LINE][0x3]=_0xe097e[0x1],TableLines[TAB_XY_RANGE][0x0]=Math[_0x16a8fe(0xb5)](Math[_0x16a8fe(0xb5)](Math[_0x16a8fe(0xb5)](TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x2]),TableLines[TAB_TOP_LINE][0x0]),TableLines[TAB_BOTTOM_LINE][0x0]),TableLines[TAB_XY_RANGE][0x2]=Math[_0x16a8fe(0xbe)](Math[_0x16a8fe(0xbe)](Math[_0x16a8fe(0xbe)](TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x2]),TableLines[TAB_TOP_LINE][0x2]),TableLines[TAB_BOTTOM_LINE][0x2]),TableLines[TAB_XY_RANGE][0x1]=Math[_0x16a8fe(0xb5)](Math[_0x16a8fe(0xb5)](Math[_0x16a8fe(0xb5)](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1]),TableLines[TAB_TOP_LINE][0x1]),TableLines[TAB_BOTTOM_LINE][0x1]),TableLines[TAB_XY_RANGE][0x3]=Math[_0x16a8fe(0xbe)](Math['max'](Math[_0x16a8fe(0xbe)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3]),TableLines[TAB_TOP_LINE][0x3]),TableLines[TAB_BOTTOM_LINE][0x3]),getTableLeftRightX(),getTableTopBottomY(),BallWidthRange=[];for(_0x11c6f4=0x0;_0x11c6f4<VideoHeight;_0x11c6f4++){BallWidthRange[_0x11c6f4]=getBallWidth(_0x11c6f4);}_0x8bc8f1=Math[_0x16a8fe(0xb9)](BallWidthRange[TableLines[TAB_XY_RANGE][0x3]]/0x2),TableConvertRange=[],TableConvertRange[0x0]=Math['max'](TableLines[TAB_XY_RANGE][0x0]-_0x8bc8f1,0x0),TableConvertRange[0x1]=Math['max'](TableLines[TAB_XY_RANGE][0x1]-_0x8bc8f1,0x0),TableConvertRange[0x2]=Math[_0x16a8fe(0xb5)](TableLines[TAB_XY_RANGE][0x2]+_0x8bc8f1,VideoWidth-0x1),TableConvertRange[0x3]=Math['min'](TableLines[TAB_XY_RANGE][0x3]+_0x8bc8f1,VideoHeight-0x1);}function getTableLeftRightX(){const _0x44bac8=_0xda34;TableLeftRightX=[];let _0x179222;for(_0x179222=0x0;_0x179222<VideoHeight;_0x179222++){TableLeftRightX[_0x179222]=[0x0,0x0];}for(_0x179222=TableLines[TAB_XY_RANGE][0x1];_0x179222<=TableLines[TAB_XY_RANGE][0x3];_0x179222++){if(_0x179222>=Math['min'](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x179222<=Math[_0x44bac8(0xbe)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3])){if(_0x179222>=TableLines[TAB_LEFT_LINE][0x1]&&_0x179222<=TableLines[TAB_LEFT_LINE][0x3])TableLeftRightX[_0x179222][0x0]=getLineX(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x179222);else{if(_0x179222>=Math[_0x44bac8(0xb5)](TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x3])&&_0x179222<=Math['max'](TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x3]))TableLeftRightX[_0x179222][0x0]=getLineX(TableLines[TAB_TOP_LINE][0x0],TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x2],TableLines[TAB_TOP_LINE][0x3],_0x179222);else _0x179222>=Math[_0x44bac8(0xb5)](TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x3])&&_0x179222<=Math['max'](TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x3])&&(TableLeftRightX[_0x179222][0x0]=getLineX(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0x179222));}if(_0x179222>=TableLines[TAB_RIGHT_LINE][0x1]&&_0x179222<=TableLines[TAB_RIGHT_LINE][0x3])TableLeftRightX[_0x179222][0x1]=getLineX(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x179222);else{if(_0x179222>=Math[_0x44bac8(0xb5)](TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x3])&&_0x179222<=Math[_0x44bac8(0xbe)](TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x3]))TableLeftRightX[_0x179222][0x1]=getLineX(TableLines[TAB_TOP_LINE][0x0],TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x2],TableLines[TAB_TOP_LINE][0x3],_0x179222);else _0x179222>=Math[_0x44bac8(0xb5)](TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x3])&&_0x179222<=Math[_0x44bac8(0xbe)](TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x3])&&(TableLeftRightX[_0x179222][0x1]=getLineX(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0x179222));}TableLeftRightX[_0x179222][0x0]=Math[_0x44bac8(0xbe)](TableLeftRightX[_0x179222][0x0],0x0),TableLeftRightX[_0x179222][0x1]=Math[_0x44bac8(0xb5)](TableLeftRightX[_0x179222][0x1],VideoWidth-0x1);}}}function getTableTopBottomY(){TableTopBottomY=[];let _0x3486a8;for(_0x3486a8=0x0;_0x3486a8<VideoWidth;_0x3486a8++){TableTopBottomY[_0x3486a8]=[0x0,0x0];}for(_0x3486a8=TableLines[TAB_XY_RANGE][0x0];_0x3486a8<=TableLines[TAB_XY_RANGE][0x2];_0x3486a8++){if(_0x3486a8>=TableLines[TAB_TOP_LINE][0x0]&&_0x3486a8<=TableLines[TAB_TOP_LINE][0x2]){TableTopBottomY[_0x3486a8][0x0]=getLineY(TableLines[TAB_TOP_LINE][0x0],TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x2],TableLines[TAB_TOP_LINE][0x3],_0x3486a8);if(_0x3486a8>=TableLines[TAB_BOTTOM_LINE][0x0]&&_0x3486a8<=TableLines[TAB_BOTTOM_LINE][0x2])TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0x3486a8);else{if(_0x3486a8>=TableLines[TAB_LEFT_LINE][0x0]&&_0x3486a8<=TableLines[TAB_LEFT_LINE][0x2])TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x3486a8);else _0x3486a8>=TableLines[TAB_RIGHT_LINE][0x0]&&_0x3486a8<=TableLines[TAB_RIGHT_LINE][0x2]&&(TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x3486a8));}}else{if(_0x3486a8>=TableLines[TAB_LEFT_LINE][0x0]&&_0x3486a8<=TableLines[TAB_LEFT_LINE][0x2]||_0x3486a8>=TableLines[TAB_LEFT_LINE][0x2]&&_0x3486a8<=TableLines[TAB_LEFT_LINE][0x0]){TableTopBottomY[_0x3486a8][0x0]=getLineY(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x3486a8);if(_0x3486a8>=TableLines[TAB_BOTTOM_LINE][0x0]&&_0x3486a8<=TableLines[TAB_BOTTOM_LINE][0x2])TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0x3486a8);else{if(_0x3486a8>=TableLines[TAB_LEFT_LINE][0x0]&&_0x3486a8<=TableLines[TAB_LEFT_LINE][0x2])TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x3486a8);else _0x3486a8>=TableLines[TAB_RIGHT_LINE][0x0]&&_0x3486a8<=TableLines[TAB_RIGHT_LINE][0x2]&&(TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x3486a8));}}else{if(_0x3486a8>=TableLines[TAB_RIGHT_LINE][0x0]&&_0x3486a8<=TableLines[TAB_RIGHT_LINE][0x2]){TableTopBottomY[_0x3486a8][0x0]=getLineY(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x3486a8);if(_0x3486a8>=TableLines[TAB_BOTTOM_LINE][0x0]&&_0x3486a8<=TableLines[TAB_BOTTOM_LINE][0x2])TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0x3486a8);else{if(_0x3486a8>=TableLines[TAB_LEFT_LINE][0x0]&&_0x3486a8<=TableLines[TAB_LEFT_LINE][0x2])TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x3486a8);else _0x3486a8>=TableLines[TAB_RIGHT_LINE][0x0]&&_0x3486a8<=TableLines[TAB_RIGHT_LINE][0x2]&&(TableTopBottomY[_0x3486a8][0x1]=getLineY(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x3486a8));}}}}}}function getCrossPoint(_0x4da885,_0x14b7a3,_0x418f7d,_0x4e4ec1,_0x478b98,_0x3554e3,_0x152ea7,_0x33b987){const _0x3ead58=_0xda34;let _0xf686d7=[0x0,0x0];if(_0x14b7a3==_0x4e4ec1||_0x478b98==_0x152ea7)return _0xf686d7;let _0x38108e=(_0x418f7d-_0x4da885)/(_0x4e4ec1-_0x14b7a3),_0x5ba70=(_0x33b987-_0x3554e3)/(_0x152ea7-_0x478b98);if(_0x38108e*_0x5ba70==0x1)return myLog('Err:\x20no\x20cross\x20point:\x20'+_0x4da885+','+_0x14b7a3+_0x3ead58(0xbd)+_0x418f7d+','+_0x4e4ec1+'\x20and\x20'+_0x478b98+','+_0x3554e3+_0x3ead58(0xbd)+_0x152ea7+','+_0x33b987+_0x3ead58(0xb6)),_0xf686d7;_0xf686d7[0x1]=Math[_0x3ead58(0xb9)]((_0x5ba70*_0x152ea7+_0x38108e*_0x5ba70*_0x4e4ec1-_0x5ba70*_0x418f7d-_0x33b987)/(_0x38108e*_0x5ba70-0x1)),_0xf686d7[0x0]=Math['round'](_0x418f7d-_0x38108e*_0x4e4ec1+_0x38108e*_0xf686d7[0x1]);if(_0xf686d7[0x0]<=0x0||_0xf686d7[0x0]>=VideoWidth||_0xf686d7[0x1]<=0x0||_0xf686d7[0x1]>=VideoHeight)return myLog(_0x3ead58(0x95)+_0x4da885+','+_0x14b7a3+_0x3ead58(0xbd)+_0x418f7d+','+_0x4e4ec1+_0x3ead58(0xa9)+_0x478b98+','+_0x3554e3+'\x20-\x20'+_0x152ea7+','+_0x33b987+_0x3ead58(0xbb)+_0xf686d7[0x0]+_0x3ead58(0xaf)+_0xf686d7[0x1]),[0x0,0x0];return _0xf686d7;}function nonMaxSuppression(_0x3d2268,_0x56c651){const _0x2bd482=_0xda34;_0x3d2268['sort']((_0x3c53dd,_0x41b548)=>_0x41b548[0x4]-_0x3c53dd[0x4]);const _0x4b4511=[],_0x54e91c=new Array(_0x3d2268['length'])[_0x2bd482(0xd4)](![]);for(let _0x21f68d=0x0;_0x21f68d<_0x3d2268[_0x2bd482(0xaa)];_0x21f68d++){if(_0x54e91c[_0x21f68d])continue;const _0x5662ea=_0x3d2268[_0x21f68d];_0x4b4511[_0x2bd482(0x9d)](_0x5662ea),_0x54e91c[_0x21f68d]=!![];for(let _0x245cba=_0x21f68d+0x1;_0x245cba<_0x3d2268[_0x2bd482(0xaa)];_0x245cba++){if(_0x54e91c[_0x245cba])continue;if(_0x5662ea[0x5]!==_0x3d2268[_0x245cba][0x5])continue;computeIoU(_0x5662ea,_0x3d2268[_0x245cba])>_0x56c651&&(_0x54e91c[_0x245cba]=!![]);}}return _0x4b4511;}function computeIoU(_0x42d3bd,_0x21a2cd){const _0x2936d6=_0xda34,_0x24aafb=Math[_0x2936d6(0xbe)](_0x42d3bd[0x0],_0x21a2cd[0x0]),_0x28994c=Math[_0x2936d6(0xbe)](_0x42d3bd[0x1],_0x21a2cd[0x1]),_0x2525f0=Math[_0x2936d6(0xb5)](_0x42d3bd[0x2],_0x21a2cd[0x2]),_0x13af66=Math[_0x2936d6(0xb5)](_0x42d3bd[0x3],_0x21a2cd[0x3]),_0x14a9d5=Math['max'](0x0,_0x2525f0-_0x24aafb)*Math['max'](0x0,_0x13af66-_0x28994c),_0x4e8d82=(_0x42d3bd[0x2]-_0x42d3bd[0x0])*(_0x42d3bd[0x3]-_0x42d3bd[0x1]),_0x4e2435=(_0x21a2cd[0x2]-_0x21a2cd[0x0])*(_0x21a2cd[0x3]-_0x21a2cd[0x1]),_0x487125=_0x4e8d82+_0x4e2435-_0x14a9d5;if(_0x487125===0x0)return 0x0;if(_0x14a9d5>=_0x4e8d82*0.9||_0x14a9d5>=_0x4e2435*0.9)return 0x1;return _0x14a9d5/_0x487125;}function ballIoU(_0x490378,_0x326558){const _0xe94f1b=_0xda34,_0x54dde8=Math[_0xe94f1b(0xbe)](_0x490378[0x0],_0x326558[0x0]),_0x16c743=Math[_0xe94f1b(0xbe)](_0x490378[0x1],_0x326558[0x1]),_0x331a65=Math['min'](_0x490378[0x2],_0x326558[0x2]),_0x5780e8=Math['min'](_0x490378[0x3],_0x326558[0x3]),_0x27dc46=Math[_0xe94f1b(0xbe)](0x0,_0x331a65-_0x54dde8)*Math[_0xe94f1b(0xbe)](0x0,_0x5780e8-_0x16c743),_0x343bb1=(_0x490378[0x2]-_0x490378[0x0])*(_0x490378[0x3]-_0x490378[0x1]),_0x1d4bfa=(_0x326558[0x2]-_0x326558[0x0])*(_0x326558[0x3]-_0x326558[0x1]);if(_0x343bb1==0x0||_0x1d4bfa==0x0)return 0x0;return _0x27dc46/Math['min'](_0x343bb1,_0x1d4bfa);}function processDetections(_0x4d9ad6,_0x2d5c39){const _0x27a675=_0xda34,_0x509cb3=[],_0x3dd361=_0x4d9ad6[0x0]['length'];for(let _0x3f5e08=0x0;_0x3f5e08<_0x3dd361;_0x3f5e08++){const _0xc16c06=_0x4d9ad6[_0x27a675(0x90)](0x4)[_0x27a675(0xa2)](_0x256a92=>_0x256a92[_0x3f5e08]),_0x3315f7=Math['max'](..._0xc16c06),_0x27fe89=_0xc16c06[_0x27a675(0x99)](_0x3315f7);if(_0x3315f7>SCORE_THRESHOLD){const _0xbd211a=_0x4d9ad6[0x0][_0x3f5e08],_0x293863=_0x4d9ad6[0x1][_0x3f5e08],_0x264c9a=_0x4d9ad6[0x2][_0x3f5e08],_0x5a552c=_0x4d9ad6[0x3][_0x3f5e08],_0x294b94=_0xbd211a-_0x264c9a/0x2,_0x21df95=_0x293863-_0x5a552c/0x2,_0x519667=_0xbd211a+_0x264c9a/0x2,_0x3a1fcc=_0x293863+_0x5a552c/0x2;_0x509cb3[_0x27a675(0x9d)]([_0x294b94,_0x21df95,_0x519667,_0x3a1fcc,_0x3315f7,_0x27fe89]);}}return _0x509cb3;}function _0xda34(_0x5ac971,_0x131b99){_0x5ac971=_0x5ac971-0x8b;const _0x5a1366=_0x5a13();let _0xda34a8=_0x5a1366[_0x5ac971];return _0xda34a8;}function getBallAreaColor(_0x5b9f22,_0x1090e4){let _0x4662d1,_0x5d360a,_0x5990ec,_0x4735de,_0x27fb5c;const _0x460d2b=_0x5b9f22[BG_CenterX]-_0x1090e4,_0x5f11ca=_0x5b9f22[BG_CenterX]+_0x1090e4,_0x48e8e0=_0x5b9f22[BG_CenterY]-_0x1090e4,_0xb64699=_0x5b9f22[BG_CenterY]+_0x1090e4,_0x56b0b6=_0x1090e4*_0x1090e4;let _0x42850d,_0x3382d9,_0x1ed9e5,_0x2d9ba1,_0x4dcef8=0x0;for(_0x5d360a=_0x48e8e0;_0x5d360a<=_0xb64699;_0x5d360a++){_0x460d2b>TableLines[TAB_LEFT_LINE][0x0]&&_0x5f11ca<TableLines[TAB_RIGHT_LINE][0x0]&&_0x5d360a-TableTopBottomY[_0x460d2b][0x0]<_0x5b9f22[BG_Radius]*0x3?_0x1ed9e5=TableClothAvgBright/0x3:_0x1ed9e5=TableClothMinBright;_0x3382d9=_0x5d360a-_0x5b9f22[BG_CenterY],_0x3382d9=_0x3382d9*_0x3382d9;for(_0x4662d1=_0x460d2b;_0x4662d1<=_0x5f11ca;_0x4662d1++){_0x42850d=_0x4662d1-_0x5b9f22[BG_CenterX],_0x42850d*_0x42850d+_0x3382d9<=_0x56b0b6&&([_0x5990ec,_0x4735de,_0x27fb5c]=videoPixelRGB(_0x4662d1,_0x5d360a),_0x2d9ba1=rgbToHsv(_0x5990ec,_0x4735de,_0x27fb5c),!(_0x2d9ba1[0x1]>=TableClothMinSat&&_0x2d9ba1[0x2]>=_0x1ed9e5&&TableClothMinHue<=_0x2d9ba1[0x0]&&_0x2d9ba1[0x0]<=TableClothMaxHue)&&_0x4dcef8++);}}return _0x4dcef8;}function getBallColor(_0x26c121,_0x542874){const _0x566e0b=_0xda34;let _0x59a798,_0x37741b,_0x4dd804,_0x261190,_0x2f6b46,_0x40ce5c,_0x319ff3,_0x2b0ed1=0x0,_0x5db174=0x0,_0x31a64f=0x0,_0x48a2cd=0x0,_0x3bb168=0x0,_0x40a336,_0x327d50,_0x166f88=[],_0x47c410=[],_0x287225=0x0,_0x359b13=0x0;const _0xc6a00d=_0x26c121[BG_CenterX],_0x265c50=_0x26c121[BG_CenterY],_0x19833e=_0xc6a00d-_0x542874,_0x3c0c7d=_0xc6a00d+_0x542874,_0x46a622=_0x265c50-_0x542874,_0x5328c0=_0x265c50+_0x542874,_0x144b00=_0x542874*_0x542874;_0x26c121[BG_DotTotal]=0x0;for(_0x37741b=_0x46a622;_0x37741b<=_0x5328c0;_0x37741b++){_0x319ff3=_0x37741b-_0x265c50,_0x319ff3=_0x319ff3*_0x319ff3;for(_0x59a798=_0x19833e;_0x59a798<=_0x3c0c7d;_0x59a798++){_0x40ce5c=_0x59a798-_0xc6a00d;if(_0x40ce5c*_0x40ce5c+_0x319ff3<=_0x144b00){[_0x4dd804,_0x261190,_0x2f6b46]=videoPixelRGB(_0x59a798,_0x37741b),_0x40a336=rgbToHsv(_0x4dd804,_0x261190,_0x2f6b46);if(!(_0x40a336[0x1]>=TableClothMinSat&&_0x40a336[0x2]>=TableClothMinBright&&TableClothMinHue<=_0x40a336[0x0]&&_0x40a336[0x0]<=TableClothMaxHue)){_0x26c121[BG_DotTotal]++;if(_0x37741b<=_0x265c50){if(_0x40a336[0x0]<=0x14)_0x359b13=0x1;else _0x40a336[0x0]>=0xa0&&(_0x287225=0x1);_0x166f88[_0x566e0b(0x9d)](_0x40a336);}}else _0x37741b<=_0x265c50&&_0x47c410[_0x566e0b(0x9d)](_0x40a336);}}}_0x47c410[_0x566e0b(0xaa)]>_0x166f88[_0x566e0b(0xaa)]&&(_0x166f88=_0x47c410);_0x2b0ed1=_0x166f88[_0x566e0b(0xaa)];if(_0x2b0ed1>0x0){let _0x10243c,_0x43e887=0x0,_0x1d7da6=0x0,_0x37e685=0x0,_0x2bcd92=0x0;for(_0x40a336 of _0x166f88){_0x327d50=_0x40a336[0x0],_0x359b13==0x1&&_0x287225==0x1&&_0x327d50<0x64&&(_0x327d50=0xb4+_0x327d50),_0x5db174=_0x5db174+_0x327d50,_0x31a64f=_0x31a64f+_0x40a336[0x1],_0x48a2cd=_0x48a2cd+_0x40a336[0x2],_0x40a336[0x1]>=0x2&&(_0x3bb168=_0x3bb168+_0x327d50,_0x2bcd92++);}_0x5db174=Math[_0x566e0b(0xb9)](_0x5db174/_0x2b0ed1),_0x31a64f=Math[_0x566e0b(0xb9)](_0x31a64f/_0x2b0ed1),_0x48a2cd=Math['round'](_0x48a2cd/_0x2b0ed1),_0x2bcd92<_0x2b0ed1&&_0x2bcd92>_0x2b0ed1/0x2&&(_0x59a798=Math[_0x566e0b(0xb9)](_0x3bb168/_0x2bcd92),_0x5db174!=_0x59a798&&(_0x5db174=_0x59a798)),_0x359b13==0x1&&_0x287225==0x1&&_0x5db174>=0xb4&&(_0x5db174=_0x5db174-0xb4),_0x26c121[BG_AvgHue]=_0x5db174,_0x26c121[BG_AvgSat]=_0x31a64f,_0x26c121[BG_AvgBright]=_0x48a2cd;}}function diffHSV(_0xcef33e,_0x5c1aba,_0x23050f,_0x240bff,_0x25d888,_0x71d02d){const _0x4b5ec2=_0xda34;return diffHue(_0xcef33e,_0x240bff)*0x2+Math[_0x4b5ec2(0xc7)](_0x5c1aba-_0x25d888)+Math[_0x4b5ec2(0xc7)](_0x23050f-_0x71d02d);}function diffHue(_0x2e8b96,_0x2e8edf){const _0xe65695=_0xda34;if(_0x2e8b96<0x28&&_0x2e8edf>0x8c)return Math[_0xe65695(0xc7)](_0x2e8b96+0xb4-_0x2e8edf);else return _0x2e8edf<0x28&&_0x2e8b96>0x8c?Math[_0xe65695(0xc7)](_0x2e8edf+0xb4-_0x2e8b96):Math[_0xe65695(0xc7)](_0x2e8b96-_0x2e8edf);}function rectOverlap(_0x4db9f3,_0x37b8c7,_0x290690,_0x2cfd80,_0x509853,_0xfee81a,_0x662312,_0x144bfa){return _0x4db9f3>_0x662312||_0x290690<_0x509853||_0x37b8c7>_0x144bfa||_0x2cfd80<_0xfee81a?0x0:0x1;}function rgbToHsv(_0xc7852,_0x3b0147,_0x323ad0){const _0x40272e=_0xda34;_0xc7852/=0xff,_0x3b0147/=0xff,_0x323ad0/=0xff;const _0x4b9666=Math[_0x40272e(0xbe)](_0xc7852,_0x3b0147,_0x323ad0),_0x3e54ec=Math[_0x40272e(0xb5)](_0xc7852,_0x3b0147,_0x323ad0);let _0x25b90f,_0x3a2367,_0x3f6da2=_0x4b9666;const _0x276953=_0x4b9666-_0x3e54ec;_0x3a2367=_0x4b9666==0x0?0x0:_0x276953/_0x4b9666;if(_0x4b9666==_0x3e54ec)_0x25b90f=0x0;else{switch(_0x4b9666){case _0xc7852:_0x25b90f=(_0x3b0147-_0x323ad0)/_0x276953+(_0x3b0147<_0x323ad0?0x6:0x0);break;case _0x3b0147:_0x25b90f=(_0x323ad0-_0xc7852)/_0x276953+0x2;break;case _0x323ad0:_0x25b90f=(_0xc7852-_0x3b0147)/_0x276953+0x4;break;}_0x25b90f/=0x6;}return _0x25b90f=Math[_0x40272e(0xb9)](_0x25b90f*0xb4),_0x25b90f==0xb4&&(_0x25b90f=0x0),[_0x25b90f,Math[_0x40272e(0xb9)](_0x3a2367*0xff),Math[_0x40272e(0xb9)](_0x3f6da2*0xff)];}function checkBallCenter(_0x684ce2){const _0x1f02d7=_0xda34;let _0x5669d3=Math['round'](_0x684ce2[BG_Radius]/0x2),_0x1a80d4=_0x684ce2[BG_CenterY]+0x1,_0x481507=_0x1a80d4-_0x5669d3,_0x28b172=_0x684ce2[BG_CenterX]-_0x5669d3,_0x229cd1=_0x684ce2[BG_CenterX]+_0x5669d3,_0x454db3=[],_0x19040f=[],_0x197908,_0x31359a,_0x1ec056,_0x4105c6,_0xb57a4d,_0x498ac,_0x33a0c7,_0x2c185b,_0x37f7bd,_0x1a3d68=_0x684ce2[BG_CenterX],_0x1b3af0=_0x684ce2[BG_CenterY];for(_0x31359a=_0x481507;_0x31359a<=_0x1a80d4;_0x31359a++){_0x498ac=_0x28b172-_0x684ce2[BG_Radius];for(_0x197908=_0x28b172;_0x197908>=_0x498ac;_0x197908--){[_0x1ec056,_0x4105c6,_0xb57a4d]=videoPixelRGB(_0x197908,_0x31359a),_0x37f7bd=rgbToHsv(_0x1ec056,_0x4105c6,_0xb57a4d);if(TableClothMinHue<=_0x37f7bd[0x0]&&_0x37f7bd[0x0]<=TableClothMaxHue&&_0x37f7bd[0x1]>=TableClothMinSat&&_0x37f7bd[0x2]>=TableClothMinBright){_0x454db3['push'](_0x197908);break;}}bytePos4=(_0x31359a*VideoWidth+_0x229cd1)*0x4,_0x498ac=_0x229cd1+_0x684ce2[BG_Radius];for(_0x197908=_0x229cd1;_0x197908<=_0x498ac;_0x197908++,bytePos4=bytePos4+0x4){[_0x1ec056,_0x4105c6,_0xb57a4d]=videoPixelRGB(_0x197908,_0x31359a),_0x37f7bd=rgbToHsv(_0x1ec056,_0x4105c6,_0xb57a4d);if(TableClothMinHue<=_0x37f7bd[0x0]&&_0x37f7bd[0x0]<=TableClothMaxHue&&_0x37f7bd[0x1]>=TableClothMinSat&&_0x37f7bd[0x2]>=TableClothMinBright){_0x19040f[_0x1f02d7(0x9d)](_0x197908);break;}}}let _0x44410b=0x0;if(_0x454db3['length']==_0x19040f[_0x1f02d7(0xaa)]&&_0x454db3['length']==_0x1a80d4-_0x481507+0x1){_0x197908=0x0;for(_0x2c185b=0x0;_0x2c185b<_0x454db3[_0x1f02d7(0xaa)];_0x2c185b++){_0x197908=_0x197908+(_0x454db3[_0x2c185b]+_0x19040f[_0x2c185b])/0x2,_0x44410b=Math[_0x1f02d7(0xbe)](_0x44410b,_0x19040f[_0x2c185b]-_0x454db3[_0x2c185b]+0x1);}_0x197908=Math['round'](_0x197908/_0x454db3[_0x1f02d7(0xaa)]),_0x197908!=_0x684ce2[BG_CenterX]&&_0x44410b>=_0x684ce2[BG_Radius]*0x2&&(_0x1a3d68=_0x197908);}return[_0x1a3d68,_0x1b3af0];}function lineLength(_0x2d84e0,_0x22e254,_0x119917,_0x3e8ffa){const _0x497915=_0xda34,_0x5438d5=_0x119917-_0x2d84e0,_0x2fd729=_0x3e8ffa-_0x22e254;return Math[_0x497915(0x92)](_0x5438d5*_0x5438d5+_0x2fd729*_0x2fd729);}function dotToLineDistanceSign(_0xd359e6,_0x3e8964,_0x402710,_0x337d29,_0x3eb061,_0x54dada){const _0x2ec756=_0xda34,_0x415151=_0x3eb061-_0xd359e6,_0x3771bd=_0x54dada-_0x3e8964,_0x33cd52=_0x402710-_0xd359e6,_0x400f5d=_0x337d29-_0x3e8964,_0x196a9f=_0x415151*_0x400f5d-_0x3771bd*_0x33cd52,_0x5013bb=Math[_0x2ec756(0x92)](_0x33cd52*_0x33cd52+_0x400f5d*_0x400f5d);if(_0x5013bb===0x0)return Math[_0x2ec756(0x92)](_0x415151*_0x415151+_0x3771bd*_0x3771bd);const _0x8e8799=_0x196a9f/_0x5013bb;return _0x8e8799;}function diffLineSegmentAngle(_0x1bdf65,_0x6ac2a1){const _0x4c4115=_0xda34;let _0x2d7cce=Math[_0x4c4115(0xc7)](_0x1bdf65-_0x6ac2a1);return _0x2d7cce>0x5a&&(_0x2d7cce=0xb4-_0x2d7cce),_0x2d7cce;}function getLineSegmentAngle(_0x26070a,_0x26c56a,_0xad4c22,_0x27b13a){const _0x4bd797=_0xda34,_0x46cefb=_0xad4c22-_0x26070a,_0xb27e6d=_0x27b13a-_0x26c56a,_0x26127b=Math[_0x4bd797(0xa3)](_0xb27e6d,_0x46cefb);let _0x49db32=_0x26127b*(0xb4/Math['PI']);return _0x49db32<0x0&&(_0x49db32+=0xb4),_0x49db32>=0xb4&&(_0x49db32-=0xb4),_0x49db32;}function getLineX(_0x26a96c,_0x1e4c23,_0x214329,_0x3ba7d0,_0x47af23){const _0x2218b0=_0xda34,_0x571160=_0x3ba7d0-_0x1e4c23;if(_0x571160==0x0)return-0x1;return Math[_0x2218b0(0xb9)](((_0x214329-_0x26a96c)*_0x47af23-_0x214329*_0x1e4c23+_0x26a96c*_0x3ba7d0)/_0x571160);}function getLineY(_0x27273d,_0x2c2862,_0x7e0a64,_0x40e588,_0x2a497e){const _0x308335=_0x7e0a64-_0x27273d;if(_0x308335==0x0)return-0x1;return Math['round'](((_0x40e588-_0x2c2862)*_0x2a497e-_0x40e588*_0x27273d+_0x2c2862*_0x7e0a64)/_0x308335);}function locateGroupRect(_0x47102b,_0x4f7178,_0x842b89){let _0x2c89a6;for(_0x2c89a6 of _0x47102b){if(_0x2c89a6==_0x842b89)continue;if(rectOverlap(_0x2c89a6[BG_rect][0x0],_0x2c89a6[BG_rect][0x1],_0x2c89a6[BG_rect][0x2],_0x2c89a6[BG_rect][0x3],_0x4f7178[0x0],_0x4f7178[0x1],_0x4f7178[0x2],_0x4f7178[0x3])==0x1)return _0x2c89a6;}return null;}function locateCacheGroups(_0x3e0453,_0x562155,_0x6e7b21){let _0x5bf7a2=null;for(let _0x5b57bd of _0x3e0453[BS_BALL_GROUPS]){if(_0x5b57bd[0x0]==_0x562155)return _0x5b57bd;else{if(Math['abs'](_0x5b57bd[0x0]-_0x562155)<=_0x6e7b21)_0x5bf7a2=_0x5b57bd;else{if(_0x5b57bd[0x0]>_0x562155)break;}}}if(_0x5bf7a2!=null)return _0x5bf7a2;return null;}function overlapWithStick(_0x2a68d4,_0x3cfe5e){for(let _0x396cb0 of _0x2a68d4){if(rectOverlap(_0x3cfe5e[BG_rect][0x0],_0x3cfe5e[BG_rect][0x1],_0x3cfe5e[BG_rect][0x2],_0x3cfe5e[BG_rect][0x3],_0x396cb0[BG_rect][0x0],_0x396cb0[BG_rect][0x1],_0x396cb0[BG_rect][0x2],_0x396cb0[BG_rect][0x3])==0x1)return!![];}return![];}function ballInMiddle(_0x57308d,_0x100ed9,_0xaab678){const _0x23aca7=lineLength(_0x57308d[BG_CenterX],_0x57308d[BG_CenterY],_0xaab678[BG_CenterX],_0xaab678[BG_CenterY]);if(_0x23aca7>lineLength(_0x57308d[BG_CenterX],_0x57308d[BG_CenterY],_0x100ed9[BG_CenterX],_0x100ed9[BG_CenterY])&&_0x23aca7>lineLength(_0x100ed9[BG_CenterX],_0x100ed9[BG_CenterY],_0xaab678[BG_CenterX],_0xaab678[BG_CenterY]))return!![];return![];}function linePassBall(_0x20c890,_0x3c5d43,_0x343d05,_0x3a149e,_0x1b2d68){const _0x448fb3=_0xda34;if(Math['abs'](_0x20c890-_0x343d05)>=Math[_0x448fb3(0xc7)](_0x3c5d43-_0x3a149e)){let _0x4bc1bd=getLineY(_0x20c890,_0x3c5d43,_0x343d05,_0x3a149e,_0x1b2d68[BG_CenterX]);if(_0x1b2d68[BG_rect][0x1]<=_0x4bc1bd&&_0x4bc1bd<=_0x1b2d68[BG_rect][0x3])return!![];}else{let _0x234687=getLineX(_0x20c890,_0x3c5d43,_0x343d05,_0x3a149e,_0x1b2d68[BG_CenterY]);if(_0x1b2d68[BG_rect][0x0]<=_0x234687&&_0x234687<=_0x1b2d68[BG_rect][0x2])return!![];}}function hasBallInMiddle(_0x1be27e,_0x52ddd0,_0x461775,_0x8b3c3a,_0x47af1b,_0x28b2e2){const _0x2b6db3=_0xda34;let _0x39b5bb;const _0x3c1bb0=[Math[_0x2b6db3(0xb5)](_0x52ddd0,_0x8b3c3a),Math[_0x2b6db3(0xb5)](_0x461775,_0x47af1b),Math[_0x2b6db3(0xbe)](_0x52ddd0,_0x8b3c3a),Math[_0x2b6db3(0xbe)](_0x461775,_0x47af1b)];for(_0x39b5bb of _0x1be27e){if(_0x28b2e2==_0x39b5bb)continue;if(_0x28b2e2!=null){if(rectOverlap(_0x39b5bb[BG_rect][0x0],_0x39b5bb[BG_rect][0x1],_0x39b5bb[BG_rect][0x2],_0x39b5bb[BG_rect][0x3],_0x28b2e2[BG_rect][0x0],_0x28b2e2[BG_rect][0x1],_0x28b2e2[BG_rect][0x2],_0x28b2e2[BG_rect][0x3])==0x1)continue;}if(rectOverlap(_0x39b5bb[BG_rect][0x0],_0x39b5bb[BG_rect][0x1],_0x39b5bb[BG_rect][0x2],_0x39b5bb[BG_rect][0x3],_0x3c1bb0[0x0],_0x3c1bb0[0x1],_0x3c1bb0[0x2],_0x3c1bb0[0x3])==0x1){if(linePassBall(_0x52ddd0,_0x461775,_0x8b3c3a,_0x47af1b,_0x39b5bb))return!![];}}return![];}function onCushion(_0x16aa53,_0x784601,_0x1e70aa){const _0x1ab818=_0x1e70aa>>0x1;if(_0x16aa53<TableLeftRightX[_0x784601][0x0]+_0x1e70aa&&_0x784601>TableLines[TAB_TOP_LINE][0x1]+_0x1e70aa&&_0x784601<TableLines[TAB_BOTTOM_LINE][0x1]-_0x1e70aa)return 0x1;if(_0x16aa53>TableLeftRightX[_0x784601][0x1]-_0x1e70aa&&_0x784601>TableLines[TAB_TOP_LINE][0x1]+_0x1e70aa&&_0x784601<TableLines[TAB_BOTTOM_LINE][0x1]-_0x1e70aa)return 0x1;if(_0x784601>TableTopBottomY[_0x16aa53][0x1]-_0x1ab818)return 0x1;}async function loadModel(_0x41e01a){const _0x512a42=_0xda34;model=await tf['loadGraphModel'](MODEL_URL);if(_0x41e01a==0x1){const _0x29dd83=performance[_0x512a42(0xc4)]();tf['tidy'](()=>{const _0x371317=_0x512a42,_0x1f2385=tf['zeros']([0x1,0x280,0x280,0x3]),_0x3c39c2=model['execute'](_0x1f2385),_0x53c0a3=_0x3c39c2[_0x371317(0xb4)]();}),myLog(_0x512a42(0xae)+Math[_0x512a42(0xb9)](performance['now']()-_0x29dd83)+'ms');}}async function loadPocketModel(_0x5f285c){const _0x23a880=_0xda34;if(pocketModel!=null){_0x5f285c();return;}try{pocketModel=await tf[_0x23a880(0xbf)](POCKET_MODEL_URL),pocketModel!=null&&(_0x5f285c!=null&&_0x5f285c());}catch(_0x1e5f5c){myLog(_0x23a880(0xc8)+_0x1e5f5c),myLog(_0x1e5f5c['stack']),pocketModel=null;}}function videoPixelRGB(_0x227058,_0x15f869){const _0x10bdee=_0xda34,_0x58a7bd=Math['round']((_0x227058-cropRect[0x0])/cropTableScaleX)+letterBox[0x0],_0x207de4=Math[_0x10bdee(0xb9)]((_0x15f869-cropRect[0x1])/cropTableScaleY)+letterBox[0x1],_0x516feb=_0x207de4*0x280+_0x58a7bd<<0x2;return[videoPixels640[_0x516feb],videoPixels640[_0x516feb+0x1],videoPixels640[_0x516feb+0x2]];}function ScanTable(){const _0x51cba0=_0xda34;let _0x270bed,_0x412fc4,_0x413edd,_0x38967d,_0x186272=0x0,_0x216f04,_0x270384,_0x32b1ed,_0x545695,_0x573ace,_0x1d5172,_0x5039ac=[];_0x1d5172=BallWidthRange[TableLines[TAB_XY_RANGE][0x1]];for(_0x412fc4=TableLines[TAB_XY_RANGE][0x1]+_0x1d5172*0x2;_0x412fc4<=TableLines[TAB_XY_RANGE][0x3];_0x412fc4=_0x412fc4+0xa){if(TableLeftRightX[_0x412fc4][0x1]<=0x0)continue;_0x270bed=TableLeftRightX[_0x412fc4][0x0];for(;_0x270bed<=TableLeftRightX[_0x412fc4][0x1];_0x270bed++){if(TableTopBottomY[_0x270bed][0x1]>0x0&&(_0x412fc4<TableTopBottomY[_0x270bed][0x0]||_0x412fc4>TableTopBottomY[_0x270bed][0x1]))continue;[_0x32b1ed,_0x573ace,_0x545695]=videoPixelRGB(_0x270bed,_0x412fc4),_0x186272++,_0x38967d=(_0x32b1ed>>0x3<<0xa)+(_0x573ace>>0x3<<0x5)+(_0x545695>>0x3),_0x5039ac[_0x38967d]?_0x5039ac[_0x38967d]++:_0x5039ac[_0x38967d]=0x1;}}_0x216f04=0x0,_0x270384=0x0;for(_0x38967d=0x0;_0x38967d<_0x5039ac[_0x51cba0(0xaa)];_0x38967d++){_0x5039ac[_0x38967d]&&(_0x5039ac[_0x38967d]>_0x270384&&(_0x216f04=_0x38967d,_0x270384=_0x5039ac[_0x38967d]));}let _0x2f6ae9=_0x216f04>>0xa<<0x3,_0x2bd5e5=(_0x216f04>>0x5&0x1f)<<0x3,_0x28e215=(_0x216f04&0x1f)<<0x3,_0x51ec40=_0x2f6ae9*_0x270384,_0x2bd99a=_0x2bd5e5*_0x270384,_0x2a7403=_0x28e215*_0x270384,_0x2dc40e=_0x270384;for(_0x38967d=0x0;_0x38967d<_0x5039ac[_0x51cba0(0xaa)];_0x38967d++){if(_0x38967d==_0x216f04)continue;_0x5039ac[_0x38967d]&&(_0x270384=_0x5039ac[_0x38967d],_0x32b1ed=_0x38967d>>0xa<<0x3,_0x573ace=(_0x38967d>>0x5&0x1f)<<0x3,_0x545695=(_0x38967d&0x1f)<<0x3,Math[_0x51cba0(0xc7)](_0x32b1ed-_0x2f6ae9)<0x32&&Math[_0x51cba0(0xc7)](_0x573ace-_0x2bd5e5)<0x32&&Math[_0x51cba0(0xc7)](_0x545695-_0x28e215)<0x32&&(_0x51ec40=_0x51ec40+_0x32b1ed*_0x270384,_0x2bd99a=_0x2bd99a+_0x573ace*_0x270384,_0x2a7403=_0x2a7403+_0x545695*_0x270384,_0x2dc40e=_0x2dc40e+_0x270384));}_0x32b1ed=Math['round'](_0x51ec40/_0x2dc40e),_0x573ace=Math['round'](_0x2bd99a/_0x2dc40e),_0x545695=Math[_0x51cba0(0xb9)](_0x2a7403/_0x2dc40e);if(_0x2dc40e>_0x186272*0.6){let _0x157426=rgbToHsv(_0x32b1ed,_0x573ace,_0x545695);_0x157426[0x2]>TABLE_CLOTH_MIN_AVG_BRIGHT&&_0x157426[0x1]>TABLE_CLOTH_MIN_SAT&&(TableClothAvgRed=_0x32b1ed,TableClothAvgGreen=_0x573ace,TableClothAvgBlue=_0x545695,TableClothAvgHue=_0x157426[0x0],TableClothAvgSat=_0x157426[0x1],TableClothAvgBright=_0x157426[0x2],TableClothMinBright=Math[_0x51cba0(0xbe)](TableClothAvgBright/0x2,TABLE_CLOTH_MIN_BRIGHT),TableClothMinSat=Math['max'](TableClothAvgSat/0x2,TABLE_CLOTH_MIN_SAT),TableClothMaxHue=TableClothAvgHue+TableClothHueRange,TableClothMinHue=TableClothAvgHue-TableClothHueRange);}else return 0x1;return 0x0;}function checkWatchBall(_0x2ee414){const _0x50e3cc=_0xda34;let _0x20feb9=[],_0x536eb1=[],_0x138eee=null,_0x1b31b9=null;for(g of CurrentBallGroups){g[BG_WhiteBall]==0x1&&g[BG_WhiteScore]>=SCORE_SURE_BALL&&(_0x138eee=g);}for(g of WatchBallGroups){g[BG_WhiteBall]==0x1&&g[BG_WhiteScore]>=SCORE_SURE_BALL&&(_0x1b31b9=g);}CurrentNewBalls=[];for(g of WatchBallGroups){let _0xadc34=BallWidthRange[g[BG_CenterY]],_0x57bb00=Math['round'](_0xadc34/0x2),_0x16a2d0=locateGroup(CurrentBallGroups,g[BG_CenterX],g[BG_CenterY]);if(_0x16a2d0!=null){let _0x541f5d=lineLength(g[BG_CenterX],g[BG_CenterY],_0x16a2d0[BG_CenterX],_0x16a2d0[BG_CenterY]);if(_0x541f5d>=_0x57bb00)_0x16a2d0=null;else{if(g[BG_WhiteBall]==0x1&&g[BG_WhiteScore]>=SCORE_SURE_BALL&&_0x16a2d0[BG_WhiteBall]==0x0){if(_0x138eee!=null){if(diffHSV(g[BG_AvgHue],g[BG_AvgSat],g[BG_AvgBright],_0x138eee[BG_AvgHue],_0x138eee[BG_AvgSat],_0x138eee[BG_AvgBright])<diffHSV(g[BG_AvgHue],g[BG_AvgSat],g[BG_AvgBright],_0x16a2d0[BG_AvgHue],_0x16a2d0[BG_AvgSat],_0x16a2d0[BG_AvgBright]))continue;}}else{if(_0x16a2d0[BG_WhiteBall]==0x1&&_0x16a2d0[BG_WhiteScore]>=SCORE_SURE_BALL&&g[BG_WhiteBall]==0x0){if(_0x1b31b9!=null){if(diffHSV(_0x16a2d0[BG_AvgHue],_0x16a2d0[BG_AvgSat],_0x16a2d0[BG_AvgBright],_0x1b31b9[BG_AvgHue],_0x1b31b9[BG_AvgSat],_0x1b31b9[BG_AvgBright])<diffHSV(g[BG_AvgHue],g[BG_AvgSat],g[BG_AvgBright],_0x16a2d0[BG_AvgHue],_0x16a2d0[BG_AvgSat],_0x16a2d0[BG_AvgBright]))continue;}}}g[BG_LastTime]=_0x2ee414,_0x16a2d0[BG_Found]=0x1;if(_0x2ee414-g[BG_FirstTime]>SHOT_END_NO_MOVE_TIME&&diffHue(g[BG_AvgHue],_0x16a2d0[BG_AvgHue])<=0x5){g[BG_rect]=_0x16a2d0[BG_rect],g[BG_CenterX]=_0x16a2d0[BG_CenterX],g[BG_CenterY]=_0x16a2d0[BG_CenterY];let _0x5b2c5e=0x0;for(let _0x4eb4b3 of WatchBallGroups){if(_0x4eb4b3==g)continue;if(_0x4eb4b3[BG_CenterX]==g[BG_CenterX]&&_0x4eb4b3[BG_CenterY]==g[BG_CenterY]){_0x5b2c5e=0x1;break;}}if(_0x5b2c5e==0x1)continue;}_0x541f5d<=_0x57bb00/0x2&&g[BG_LastTime]>g[BG_FirstTime]&&(_0x16a2d0[BG_WhiteBall]==0x1&&g[BG_WhiteBall]==0x0&&(g[BG_WhiteBall]=0x1,g[BG_WhiteScore]=_0x16a2d0[BG_WhiteScore]),g[BG_Score]=Math[_0x50e3cc(0xbe)](_0x16a2d0[BG_Score],g[BG_Score]),g[BG_WhiteScore]=Math[_0x50e3cc(0xbe)](_0x16a2d0[BG_WhiteScore],g[BG_WhiteScore]));}}if(_0x16a2d0==null){let _0x1d4707=getBallAreaColor(g,g[BG_Radius]);if(_0x1d4707<=g[BG_DotTotal]*0.7){ShotStatus==0x0&&myLog(CurrentProcTime+_0x50e3cc(0xac)+g[BG_CenterX]+','+g[BG_CenterY]+'\x20dot:'+_0x1d4707+'\x20:\x20'+g[BG_DotTotal]+_0x50e3cc(0xa0)+g[BG_Score]+'\x20t='+g[BG_FirstTime]+','+g[BG_LastTime]);g[BG_GoneTime]=_0x2ee414,_0x20feb9['push'](g);continue;}if(_0x2ee414-g[BG_LastTime]>MAX_WATCH_BALL_NOT_SEEN_TIME){if(locateGroup(CurrentCueSticks,g[BG_CenterX],g[BG_CenterY])==null)continue;}}_0x536eb1[_0x50e3cc(0x9d)](g);}WatchBallGroups=_0x536eb1;for(g of CurrentBallGroups){if(g[BG_Found]==0x1)continue;let _0x58940c=locateGroup(WatchBallGroups,g[BG_CenterX],g[BG_CenterY]);if(_0x58940c!=null){let _0x30cbb6=BallWidthRange[g[BG_CenterY]],_0x52d059=Math['round'](_0x30cbb6/0x2),_0x1a19e4=lineLength(g[BG_CenterX],g[BG_CenterY],_0x58940c[BG_CenterX],_0x58940c[BG_CenterY]);if(_0x1a19e4>=_0x52d059){if(ballIoU(g[BG_rect],_0x58940c[BG_rect])>MAX_BALL_IOU&&g[BG_Score]<SCORE_SURE_BALL)continue;_0x58940c=null;}}_0x58940c==null&&(g[BG_FirstTime]=_0x2ee414,g[BG_LastTime]=_0x2ee414,WatchBallGroups[_0x50e3cc(0x9d)](g),CurrentNewBalls[_0x50e3cc(0x9d)](g));}return _0x20feb9;}function _0x5a13(){const _0x5a7c7a=['Fast\x20move\x20','\x20dis=','Bottom\x20line\x20fail','push','forEach','sort','\x20score=','854504ZNlltM','map','atan2','\x20dot=','rgb(114,\x20114,\x20114)','yellow','width','\x20t=','\x20and\x20','length','height','\x20Gone:\x20','webkitAudioDecodedByteCount','Warm-up\x20',',y=','expandDims','1763027LiCjwh','fromPixels','\x20->\x20','dataSync','min','.\x20a1*a2=1','875619gkibia','data','round','6jhsGBx','.\x20x=','currentTime','\x20-\x20','max','loadGraphModel','\x20r=','\x20:\x20','execute','browser','now','mozHasAudio','fillStyle','abs','Pocket\x20model\x20load\x20failed:\x20','Err:\x20initTableLines\x20getCrossPoint\x20ptRight','935915RVGpkq','Top\x20line\x20fail','toFixed','Right\x20line\x20fail','tan','\x20pockets','No\x20cue\x20balls\x20between\x20','toFloat','\x20w_score=','Err:\x20Detect\x20Table\x20rgb=','fill','audioTracks','getImageData','Left\x20line\x20fail','225040loJqaK','64344yneQaF','div','slice','white','sqrt','tidy','floor','Err:\x20no\x20cross\x20point:\x20','connect\x20last\x20','79390BkOHqa','drawImage','indexOf'];_0x5a13=function(){return _0x5a7c7a;};return _0x5a13();}function detectPocket(){const _0x3d208f=_0xda34;let _0x1fba25=[];return contextCrop[_0x3d208f(0xc6)]=_0x3d208f(0xa5),contextCrop['fillRect'](0x0,0x0,MODEL_SIZE,MODEL_SIZE),fillCanvasCrop=![],contextCrop[_0x3d208f(0x98)](videoObject,0x0,0x0,VideoWidth,VideoHeight,fullLetterBox[0x0],fullLetterBox[0x1],fullLetterBox[0x2],fullLetterBox[0x3]),tf[_0x3d208f(0x93)](()=>{const _0x2e8022=_0x3d208f,_0x32b64c=tf[_0x2e8022(0xc3)][_0x2e8022(0xb2)](canvasCrop)[_0x2e8022(0xd1)]()[_0x2e8022(0x8f)](0xff)[_0x2e8022(0xb0)](0x0),_0x3522ed=pocketModel['execute'](_0x32b64c),_0x5105ec=_0x3522ed[_0x2e8022(0xb4)](),_0x5d77c1=_0x3522ed['shape'],_0x4478f1=_0x5d77c1[0x1],_0x43fe4a=_0x5d77c1[0x2],_0x3b6428=[];for(let _0x6f9e03=0x0;_0x6f9e03<_0x4478f1;_0x6f9e03++){const _0x5a0239=_0x5105ec['slice'](_0x6f9e03*_0x43fe4a,(_0x6f9e03+0x1)*_0x43fe4a);_0x3b6428[_0x2e8022(0x9d)](_0x5a0239);}const _0x4768df=_0x3b6428[0x0][_0x2e8022(0xaa)]-0x4,_0x1e5e79=processDetections(_0x3b6428,_0x4768df),_0x3e01a0=nonMaxSuppression(_0x1e5e79,IOU_THRESHOLD),_0x4d0a66=VideoWidth/fullLetterBox[0x2],_0x1c2f52=VideoHeight/fullLetterBox[0x3];_0x3e01a0[_0x2e8022(0x9e)](_0x46bb77=>{const _0x137146=_0x2e8022,[_0x228c90,_0x57db7d,_0x47e7fa,_0x305cb6,_0x2ada86,_0x89d8c4]=_0x46bb77;let _0x4c5ff7=Math['round']((_0x228c90-fullLetterBox[0x0])*_0x4d0a66),_0x11039c=Math[_0x137146(0xb9)]((_0x57db7d-fullLetterBox[0x1])*_0x1c2f52),_0xd4d876=Math['round']((_0x47e7fa-_0x228c90)*_0x4d0a66),_0x39a78c=Math['round']((_0x305cb6-_0x57db7d)*_0x1c2f52);_0x4c5ff7=Math[_0x137146(0xbe)](_0x4c5ff7,0x0),_0xd4d876=Math[_0x137146(0xb5)](_0xd4d876,VideoWidth-_0x4c5ff7),_0x11039c=Math['max'](_0x11039c,0x0),_0x39a78c=Math['min'](_0x39a78c,VideoHeight-_0x11039c);let _0x1e9b78=0x0,_0x2bcd67;for(_0x2bcd67=0x0;_0x2bcd67<_0x1fba25[_0x137146(0xaa)];_0x2bcd67++){_0x1fba25[_0x2bcd67][0x5]==_0x89d8c4&&_0x1e9b78++;}if(_0x1e9b78>=0x2){for(_0x2bcd67=0x0;_0x2bcd67<_0x1fba25[_0x137146(0xaa)];_0x2bcd67++){if(_0x1fba25[_0x2bcd67][0x5]==_0x89d8c4){if(_0x1fba25[_0x2bcd67][0x4]<_0x2ada86)break;}}if(_0x2bcd67>=_0x1fba25['length'])return;}_0x1fba25[_0x137146(0x9d)]([_0x4c5ff7,_0x11039c,_0xd4d876,_0x39a78c,_0x2ada86,_0x89d8c4]);});}),_0x1fba25;}function detectBall(_0x7d111a,_0xf06e49,_0x25f5a7){const _0xaf1229=_0xda34;CurrentBallGroups=[],CurrentCueSticks=[],videoPixels=null;if(BigJumpCache!=null){let _0xc8fe98=Math[_0xaf1229(0x94)](_0x7d111a[_0xaf1229(0xbc)]*FRAME_TIME_MULTIPLE);if(_0xc8fe98==BigJumpCache[0x0])return CurrentBallGroups=BigJumpCache[0x1],CurrentCueSticks=BigJumpCache[0x2],BigJumpCache=null,BigJumpCacheHit++,0x0;}fillCanvasCrop==![]&&(contextCrop[_0xaf1229(0xc6)]=_0xaf1229(0xa5),contextCrop['fillRect'](0x0,0x0,MODEL_SIZE,MODEL_SIZE),fillCanvasCrop=!![]);contextCrop[_0xaf1229(0x98)](_0x7d111a,cropRect[0x0],cropRect[0x1],cropRect[0x4],cropRect[0x5],letterBox[0x0],letterBox[0x1],letterBox[0x2],letterBox[0x3]);if(_0xf06e49==0x1){const _0x325e46=contextCrop[_0xaf1229(0x8b)](0x0,0x0,canvasCrop[_0xaf1229(0xa7)],canvasCrop[_0xaf1229(0xab)]);videoPixels640=_0x325e46[_0xaf1229(0xb8)],(TableClothAvgHue==0x0||LastScanTableTime==0x0||Math[_0xaf1229(0xc7)](_0x7d111a[_0xaf1229(0xbc)]+_0x25f5a7-LastScanTableTime)>0xa)&&(ScanTable(),LastScanTableTime=_0x7d111a[_0xaf1229(0xbc)]+_0x25f5a7);}return tf[_0xaf1229(0x93)](()=>{const _0x4849c1=_0xaf1229,_0x53ad0b=tf[_0x4849c1(0xc3)][_0x4849c1(0xb2)](canvasCrop)[_0x4849c1(0xd1)]()['div'](0xff)[_0x4849c1(0xb0)](0x0),_0x413e80=model[_0x4849c1(0xc2)](_0x53ad0b),_0x25a5b6=_0x413e80[_0x4849c1(0xb4)](),_0x3ec7a5=_0x413e80['shape'],_0x546c24=_0x3ec7a5[0x1],_0x1e3010=_0x3ec7a5[0x2],_0x3997dc=[];for(let _0x15614a=0x0;_0x15614a<_0x546c24;_0x15614a++){const _0x50e2b5=_0x25a5b6[_0x4849c1(0x90)](_0x15614a*_0x1e3010,(_0x15614a+0x1)*_0x1e3010);_0x3997dc['push'](_0x50e2b5);}const _0x103ba4=_0x3997dc[0x0][_0x4849c1(0xaa)]-0x4,_0x3a9821=processDetections(_0x3997dc,_0x103ba4),_0x5030e6=nonMaxSuppression(_0x3a9821,IOU_THRESHOLD),_0x10e48c=cropTableScaleX,_0x3118be=cropTableScaleY;_0x5030e6[_0x4849c1(0x9e)](_0xcc57cb=>{const _0x648d7=_0x4849c1,[_0x5870eb,_0x2ef2f7,_0x441d96,_0x11cb6f,_0x2d233c,_0x20b6b6]=_0xcc57cb,_0x4c736b=Math[_0x648d7(0xb9)]((_0x5870eb-letterBox[0x0])*_0x10e48c)+cropRect[0x0],_0x524dfe=Math['round']((_0x2ef2f7-letterBox[0x1])*_0x3118be)+cropRect[0x1],_0x49eadf=Math[_0x648d7(0xb9)]((_0x441d96-_0x5870eb)*_0x10e48c),_0x3f14ca=Math[_0x648d7(0xb9)]((_0x11cb6f-_0x2ef2f7)*_0x3118be);if(_0x4c736b<cropRect[0x0]||_0x4c736b+_0x49eadf>cropRect[0x2])return;if(_0x524dfe<cropRect[0x1]||_0x524dfe+_0x3f14ca>cropRect[0x3])return;if(_0x20b6b6==0x1){if(_0x4c736b+_0x49eadf<TableLeftRightX[_0x524dfe][0x0]&&_0x4c736b+_0x49eadf<TableLines[TAB_LEFT_LINE][0x0]||_0x4c736b>TableLeftRightX[_0x524dfe][0x1]&&_0x4c736b>TableLines[TAB_RIGHT_LINE][0x0])return;let _0x540040=new_BallGroup();_0x540040[BG_rect]=[_0x4c736b,_0x524dfe,_0x4c736b+_0x49eadf,_0x524dfe+_0x3f14ca],_0x540040[BG_CenterX]=_0x4c736b+Math['round'](_0x49eadf/0x2),_0x540040[BG_CenterY]=_0x524dfe+Math[_0x648d7(0xb9)](_0x3f14ca/0x2),_0x540040[BG_Score]=Math[_0x648d7(0xb9)](_0x2d233c*0x64),CurrentCueSticks[_0x648d7(0x9d)](_0x540040);return;}if(TableLeftRightX[_0x524dfe][0x1]<=0x0||TableTopBottomY[_0x4c736b][0x1]<=0x0)return;if(_0x4c736b<TableLeftRightX[_0x524dfe][0x0]&&_0x4c736b<TableLines[TAB_LEFT_LINE][0x0]||_0x4c736b+_0x49eadf/0x2>TableLeftRightX[_0x524dfe][0x1]&&_0x4c736b+_0x49eadf>TableLines[TAB_RIGHT_LINE][0x0])return;if(_0x524dfe<TableTopBottomY[_0x4c736b][0x0]-0x14||_0x524dfe+_0x3f14ca>TableTopBottomY[_0x4c736b][0x1]+0xa)return;const _0x2460ac=BallWidthRange[_0x524dfe],_0x323dbd=_0x2460ac>>0x1;if(_0x49eadf<_0x323dbd+_0x323dbd/0x2||_0x3f14ca<_0x323dbd+_0x323dbd/0x2){if(onCushion(_0x4c736b+Math[_0x648d7(0xb9)](_0x49eadf/0x2),_0x524dfe+Math['round'](_0x3f14ca/0x2),_0x2460ac)==0x1)return;}let _0x281fc1=new_BallGroup();_0x281fc1[BG_rect]=[_0x4c736b,_0x524dfe,_0x4c736b+_0x49eadf,_0x524dfe+_0x3f14ca],_0x281fc1[BG_CenterX]=_0x4c736b+Math[_0x648d7(0xb9)](_0x49eadf/0x2),_0x281fc1[BG_CenterY]=_0x524dfe+_0x323dbd,_0x281fc1[BG_Score]=Math[_0x648d7(0xb9)](_0x2d233c*0x64),_0x281fc1[BG_Radius]=_0x323dbd;_0x20b6b6==0x2&&(_0x281fc1[BG_WhiteBall]=0x1,_0x281fc1[BG_WhiteScore]=_0x281fc1[BG_Score]);if(_0xf06e49==0x1){getBallColor(_0x281fc1,_0x323dbd);if(_0x49eadf<_0x2460ac&&_0x3f14ca<_0x2460ac&&_0x281fc1[BG_Score]<SCORE_SURE_BALL){if(_0x281fc1[BG_DotTotal]<_0x323dbd*_0x323dbd*3.14/0x3)return;}}CurrentBallGroups[_0x648d7(0x9d)](_0x281fc1);});let _0x37d0e2=0x0;for(let _0x3f508a=0x0;_0x3f508a<CurrentBallGroups[_0x4849c1(0xaa)];_0x3f508a++){let _0x28337a=CurrentBallGroups[_0x3f508a];if(_0x28337a[BG_WhiteBall]==0x1)for(let _0x24ed3f=0x0;_0x24ed3f<CurrentBallGroups[_0x4849c1(0xaa)];_0x24ed3f++){let _0x4f1906=CurrentBallGroups[_0x24ed3f];if(_0x4f1906[BG_WhiteBall]==0x0){if(ballIoU(_0x28337a[BG_rect],_0x4f1906[BG_rect])>=MAX_BALL_IOU){_0x28337a[BG_Score]=Math[_0x4849c1(0xbe)](_0x28337a[BG_Score],_0x4f1906[BG_Score]),_0x4f1906[BG_Found]=0x1,_0x37d0e2++;break;}}}}if(_0x37d0e2>0x0){let _0x2fc794=[];for(let _0xba0bd5 of CurrentBallGroups){_0xba0bd5[BG_Found]==0x0&&_0x2fc794[_0x4849c1(0x9d)](_0xba0bd5);}CurrentBallGroups=_0x2fc794;}}),0x0;}function locateGroup(_0x176b5c,_0x800788,_0x2f1fd7){let _0x9807be,_0x4dd694=null,_0x389379=0x0,_0x34a8bb;for(_0x9807be of _0x176b5c){_0x9807be[BG_rect][0x0]<=_0x800788&&_0x800788<=_0x9807be[BG_rect][0x2]&&_0x9807be[BG_rect][0x1]<=_0x2f1fd7&&_0x2f1fd7<=_0x9807be[BG_rect][0x3]&&(_0x4dd694==null?(_0x4dd694=_0x9807be,_0x389379=lineLength(_0x9807be[BG_CenterX],_0x9807be[BG_CenterY],_0x800788,_0x2f1fd7)):(_0x34a8bb=lineLength(_0x9807be[BG_CenterX],_0x9807be[BG_CenterY],_0x800788,_0x2f1fd7),_0x34a8bb<_0x389379&&(_0x4dd694=_0x9807be,_0x389379=_0x34a8bb)));}return _0x4dd694;}function addPath(_0xb84de6,_0x990966,_0x4176ff){const _0x42522d=_0xda34;let _0x39f24f=copy_BallGroup(_0x990966);_0x39f24f[BG_PathBegin]=_0x4176ff,_0xb84de6[BS_CUE_BALL_PATH][_0x42522d(0x9d)](_0x39f24f);}function searchCacheGroupsAfter(_0x5ed06b,_0xd18051){for(let _0x2a8ead of _0x5ed06b[BS_BALL_GROUPS]){if(_0x2a8ead[0x0]>_0xd18051)return _0x2a8ead;}return null;}function getPathTotalLength(_0x1d60e0){let _0x390b18=0x0,_0x39404a=null;for(let _0x116afe of _0x1d60e0[BS_CUE_BALL_PATH]){if(_0x39404a==null){_0x39404a=_0x116afe;continue;}_0x390b18=_0x390b18+lineLength(_0x116afe[BG_CenterX],_0x116afe[BG_CenterY],_0x39404a[BG_CenterX],_0x39404a[BG_CenterY]),_0x39404a=_0x116afe;}return _0x390b18;}function bestMatchCueBall(_0x27b948,_0x46c5e5,_0x40f9f7){let _0x3495c9=0x0,_0x3e0e2e,_0x24299f,_0x55c4b1=null;for(_0x24299f of _0x27b948){_0x3e0e2e=lineLength(_0x24299f[BG_CenterX],_0x24299f[BG_CenterY],_0x46c5e5[BG_CenterX],_0x46c5e5[BG_CenterY]),_0x3e0e2e<=_0x40f9f7&&(_0x3495c9<_0x24299f[BG_WhiteScore]&&(_0x3495c9=_0x24299f[BG_WhiteScore],_0x55c4b1=_0x24299f));}return _0x55c4b1;}function getLastCueBall2(_0x4de9f4,_0x236fcc){const _0x4cb86b=_0xda34;let _0x4274c1=null;for(let _0x4ccd1a=_0x4de9f4[BS_CUE_BALL_PATH][_0x4cb86b(0xaa)]-0x2;_0x4ccd1a>=0x0;_0x4ccd1a--){_0x4274c1=_0x4de9f4[BS_CUE_BALL_PATH][_0x4ccd1a];if(lineLength(_0x4274c1[BG_CenterX],_0x4274c1[BG_CenterY],_0x236fcc[BG_CenterX],_0x236fcc[BG_CenterY])>=_0x236fcc[BG_Radius])break;}return _0x4274c1;}function nearCushion(_0x281524,_0x2e460e,_0xe027c){const _0x59288b=_0xda34;if(_0x281524<TableLines[TAB_LEFT_LINE][0x0]+0x6*_0xe027c&&_0x281524-TableLeftRightX[_0x2e460e][0x0]<0x6*_0xe027c&&_0x2e460e>Math['max'](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x2e460e<Math[_0x59288b(0xb5)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3]))return!![];else{if(_0x281524>TableLines[TAB_RIGHT_LINE][0x0]-0x6*_0xe027c&&TableLeftRightX[_0x2e460e][0x1]-_0x281524<0x6*_0xe027c&&_0x2e460e>Math[_0x59288b(0xbe)](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x2e460e<Math[_0x59288b(0xb5)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3]))return!![];else{if(_0x281524>TableLines[TAB_TOP_LINE][0x0]&&_0x281524<TableLines[TAB_TOP_LINE][0x2]&&_0x2e460e-TableTopBottomY[_0x281524][0x0]<0x4*_0xe027c)return!![];else{if(TableTopBottomY[_0x281524][0x1]-_0x2e460e<0x4*_0xe027c)return!![];}}}return![];}function hasBallChange(){const _0x4ce31a=_0xda34;let _0x4ae4e0;for(_0x4ae4e0 of WatchBallGroups){let _0x1575b5=BallWidthRange[_0x4ae4e0[BG_CenterY]],_0xd00404=Math[_0x4ce31a(0xb9)](_0x1575b5/0x2),_0x49f281=locateGroup(CurrentBallGroups,_0x4ae4e0[BG_CenterX],_0x4ae4e0[BG_CenterY]);if(_0x49f281!=null){if(_0x4ae4e0[BG_WhiteBall]!=_0x49f281[BG_WhiteBall])return!![];let _0x42d220=lineLength(_0x4ae4e0[BG_CenterX],_0x4ae4e0[BG_CenterY],_0x49f281[BG_CenterX],_0x49f281[BG_CenterY]);if(_0x42d220<_0xd00404){_0x49f281[BG_Found]=0x1;continue;}}else{let _0x6ae339=getBallAreaColor(_0x4ae4e0,_0x4ae4e0[BG_Radius]);if(_0x6ae339>=_0x4ae4e0[BG_DotTotal]*0.7)continue;}return!![];}let _0x48b3a5=[],_0x18410b=null;for(_0x4ae4e0 of CurrentBallGroups){if(_0x4ae4e0[BG_Found]!=0x1){if(_0x4ae4e0[BG_WhiteBall]==0x1)return!![];let _0x5769b1=0x0;for(let _0x388ab0 of CurrentBallGroups){if(_0x388ab0==_0x4ae4e0)continue;if(ballIoU(_0x4ae4e0[BG_rect],_0x388ab0[BG_rect])>=0.3){_0x5769b1=0x1;break;}}if(_0x5769b1==0x1)continue;if(_0x4ae4e0[BG_Score]>=SCORE_SURE_BALL)return!![];else _0x48b3a5[_0x4ce31a(0x9d)](_0x4ae4e0);}else _0x4ae4e0[BG_WhiteBall]==0x1&&_0x4ae4e0[BG_WhiteScore]>=SCORE_SURE_BALL&&(_0x18410b=_0x4ae4e0);}if(_0x48b3a5[_0x4ce31a(0xaa)]>0x0){if(_0x18410b!=null)return![];return!![];}return![];}function resetGlobalVariables(){CurrentProcTime=0x0,ProcStatus=0x0,ProcTotal=0x0,ProcSumTime=0x0,ShotStatus=0x0,ShotBeginMoveTime=0x0,LastBallMoveTime=0x0,PlayShotStatus=0x0,PlayShotNo=0x0,LastScanTableTime=0x0,LastProcTime=0x0,WatchBallGroups=[],ShotCacheGroups=[],TempShotBeginGoneGroups=[],FastMoveGroups=[],BallShots=[],CurrentBallGroups=[],CurrentCueSticks=[],LastBigJumpScan=![],LastBigJumpScanTime=0x0,BigJumpTotal=0x0,BigJumpFail=0x0,BigJumpCacheHit=0x0,BigJumpCache=null,FrameEndShotPos=0x0,LastCheckFrameBeginPos=0x0,IsFrameBegin=0x0;}function addWhiteBallPath(_0x25db35,_0x4b1965,_0x551070){const _0x464880=_0xda34;let _0x2be3f0=copy_BallGroup(_0x4b1965);_0x2be3f0[BG_FirstTime]=_0x551070,_0x2be3f0[BG_PathBegin]=0x1,_0x25db35[BS_CUE_BALL_PATH][_0x464880(0x9d)](_0x2be3f0),_0x25db35[BS_CUE_BALL_PATH]['sort']((_0x55b5bb,_0x557097)=>_0x55b5bb[BG_FirstTime]-_0x557097[BG_FirstTime]);}function pushInitWhiteBallPath(_0x4d69f2,_0xe550b9,_0x599aa2){const _0x55528f=_0xda34;let _0x80f888=copy_BallGroup(_0xe550b9);_0x80f888[BG_FirstTime]=_0x599aa2,_0x80f888[BG_PathBegin]=0x1,_0x4d69f2[BS_CUE_BALL_PATH][_0x55528f(0x9d)](_0x80f888);}function threeBallInPathLine(_0x4fdbae,_0x5a56f0,_0x5b1d00,_0x420200){const _0x490cfd=_0xda34,_0x58970e=lineLength(_0x4fdbae[BG_CenterX],_0x4fdbae[BG_CenterY],_0x5b1d00[BG_CenterX],_0x5b1d00[BG_CenterY]),_0x5d90bb=lineLength(_0x4fdbae[BG_CenterX],_0x4fdbae[BG_CenterY],_0x5a56f0[BG_CenterX],_0x5a56f0[BG_CenterY]),_0x30a0fa=lineLength(_0x5a56f0[BG_CenterX],_0x5a56f0[BG_CenterY],_0x5b1d00[BG_CenterX],_0x5b1d00[BG_CenterY]);if(!(_0x58970e>_0x5d90bb&&_0x58970e>_0x30a0fa))return![];if(_0x5d90bb<_0x4fdbae[BG_Radius]||_0x30a0fa<_0x5a56f0[BG_Radius])return![];const _0x1aa8bd=_0x5a56f0[BG_FirstTime]-_0x4fdbae[BG_FirstTime],_0x1b7348=_0x5b1d00[BG_FirstTime]-_0x5a56f0[BG_FirstTime];if(_0x1aa8bd<=0x0||_0x1b7348<=0x0)return![];if(_0x5d90bb/_0x1aa8bd>_0x30a0fa/_0x1b7348*0x3)return myLog('speed\x20err:\x20'+(_0x5d90bb/_0x1aa8bd)['toFixed'](0x4)+_0x490cfd(0xc1)+(_0x30a0fa/_0x1b7348)[_0x490cfd(0xcc)](0x4)+'\x20'+[_0x4fdbae[BG_FirstTime],_0x4fdbae[BG_CenterX],_0x4fdbae[BG_CenterY]]+_0x490cfd(0xb3)+[_0x5a56f0[BG_FirstTime],_0x4fdbae[BG_CenterX],_0x5a56f0[BG_CenterY]]+_0x490cfd(0xb3)+[_0x5b1d00[BG_FirstTime],_0x5b1d00[BG_CenterX],_0x5b1d00[BG_CenterY]]),![];const _0x1ad059=getLineSegmentAngle(_0x4fdbae[BG_CenterX],_0x4fdbae[BG_CenterY],_0x5b1d00[BG_CenterX],_0x5b1d00[BG_CenterY]),_0x528fd8=getLineSegmentAngle(_0x4fdbae[BG_CenterX],_0x4fdbae[BG_CenterY],_0x5a56f0[BG_CenterX],_0x5a56f0[BG_CenterY]),_0x2cc03f=getLineSegmentAngle(_0x5a56f0[BG_CenterX],_0x5a56f0[BG_CenterY],_0x5b1d00[BG_CenterX],_0x5b1d00[BG_CenterY]),_0x2b7c36=0x2;if(diffLineSegmentAngle(_0x1ad059,_0x2cc03f)<=_0x2b7c36&&diffLineSegmentAngle(_0x528fd8,_0x2cc03f)<=_0x2b7c36)return myLog([_0x4fdbae[BG_FirstTime],_0x4fdbae[BG_CenterX],_0x4fdbae[BG_CenterY]]+'\x20->\x20'+[_0x5a56f0[BG_FirstTime],_0x4fdbae[BG_CenterX],_0x5a56f0[BG_CenterY]]+_0x490cfd(0xb3)+[_0x5b1d00[BG_FirstTime],_0x5b1d00[BG_CenterX],_0x5b1d00[BG_CenterY]]+'\x20angle='+Math[_0x490cfd(0xb9)](_0x1ad059)+','+Math[_0x490cfd(0xb9)](_0x528fd8)+','+Math[_0x490cfd(0xb9)](_0x2cc03f)),!![];if(_0x58970e<g[BG_Radius]*0x6){const _0xff89bd=Math[_0x490cfd(0xc7)](dotToLineDistanceSign(_0x4fdbae[BG_CenterX],_0x4fdbae[BG_CenterY],_0x5b1d00[BG_CenterX],_0x5b1d00[BG_CenterY],_0x5a56f0[BG_CenterX],_0x5a56f0[BG_CenterY])),_0x58123c=Math[_0x490cfd(0xbe)](_0x5a56f0[BG_Radius]/0x3,0x2);if(_0xff89bd<=_0x58123c)return myLog([_0x4fdbae[BG_FirstTime],_0x4fdbae[BG_CenterX],_0x4fdbae[BG_CenterY]]+'\x20->\x20'+[_0x5a56f0[BG_FirstTime],_0x4fdbae[BG_CenterX],_0x5a56f0[BG_CenterY]]+_0x490cfd(0xb3)+[_0x5b1d00[BG_FirstTime],_0x5b1d00[BG_CenterX],_0x5b1d00[BG_CenterY]]+_0x490cfd(0x9b)+Math[_0x490cfd(0xb9)](_0xff89bd)+_0x490cfd(0xc0)+_0x5a56f0[BG_Radius]),!![];}return![];}function getTimeGap(_0x422175,_0x327429,_0x1a14a9){const _0x7cd1e2=_0xda34;let _0x45cf53=[_0x327429,_0x1a14a9];for(let _0x101a9a of _0x422175[BS_GEN_PATH_FRAME_TIMES]){_0x327429<_0x101a9a[0x0]&&_0x101a9a[0x0]<_0x1a14a9&&_0x45cf53[_0x7cd1e2(0x9d)](_0x101a9a[0x0]);}_0x45cf53[_0x7cd1e2(0x9f)]((_0x8e0a77,_0x57f956)=>_0x8e0a77-_0x57f956);let _0x2f437e,_0x13e239,_0x3bc5cb=0x0,_0x5de4a3=0x0,_0x3b140=0x0;for(_0x2f437e=0x0;_0x2f437e<_0x45cf53['length']-0x1;_0x2f437e++){_0x13e239=_0x45cf53[_0x2f437e+0x1]-_0x45cf53[_0x2f437e];if(_0x13e239<frameInSecondMultiple2)continue;_0x13e239>_0x3bc5cb&&(_0x3bc5cb=_0x13e239,_0x5de4a3=_0x45cf53[_0x2f437e],_0x3b140=_0x45cf53[_0x2f437e+0x1]);}if(_0x1a14a9-_0x327429>(_0x3b140-_0x5de4a3)*0x5)return myLog(_0x7cd1e2(0xd0)+_0x327429+'-'+_0x1a14a9),[0x0,0x0];let _0x46241c=Math['round']((_0x5de4a3+_0x3b140)/0x2);return _0x46241c>0x0&&(locatePathFrameTimes(_0x422175,_0x46241c)!=null&&(_0x3bc5cb=0x0,_0x46241c=0x0)),[_0x3bc5cb,_0x46241c];}function locatePathFrameTimes(_0x2cb684,_0x188d36){for(let _0x30d98d of _0x2cb684[BS_GEN_PATH_FRAME_TIMES]){if(Math['abs'](_0x30d98d[0x0]-_0x188d36)<frameInSecondMultiple)return _0x30d98d;}return null;}function connectCueBallPath(_0x5e9002){const _0x295c41=_0xda34;let _0xc1ab5a,_0x2c33af,_0x2ecf87,_0xaea151,_0x296ab9,_0x4dfc75,_0x4738ae,_0x3dbb1c,_0x5014f9,_0x4f9dc7,_0xa3d496,_0x40b04e,_0x4b4d25,_0x2ace72,_0x3dc43a,_0x44a0c2;for(_0xc1ab5a=0x0;_0xc1ab5a<_0x5e9002[BS_CUE_BALL_PATH]['length']-0x2;_0xc1ab5a++){_0x2ecf87=_0x5e9002[BS_CUE_BALL_PATH][_0xc1ab5a],_0xaea151=_0x5e9002[BS_CUE_BALL_PATH][_0xc1ab5a+0x1],_0x296ab9=_0x5e9002[BS_CUE_BALL_PATH][_0xc1ab5a+0x2];if(_0xaea151[BG_PathBegin]==0x0&&_0x296ab9[BG_PathBegin]==0x0)continue;_0xa3d496=lineLength(_0x2ecf87[BG_CenterX],_0x2ecf87[BG_CenterY],_0xaea151[BG_CenterX],_0xaea151[BG_CenterY]),_0x40b04e=lineLength(_0xaea151[BG_CenterX],_0xaea151[BG_CenterY],_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY]),_0x44a0c2=0x0,_0x4b4d25=-0x1,_0x2ace72=-0x1;_0xa3d496>_0x2ecf87[BG_Radius]/0x2&&(_0x4b4d25=getLineSegmentAngle(_0x2ecf87[BG_CenterX],_0x2ecf87[BG_CenterY],_0xaea151[BG_CenterX],_0xaea151[BG_CenterY]));_0x40b04e>_0xaea151[BG_Radius]/0x2&&(_0x2ace72=getLineSegmentAngle(_0xaea151[BG_CenterX],_0xaea151[BG_CenterY],_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY]));_0x4b4d25>=0x0&&_0x2ace72>=0x0&&((diffLineSegmentAngle(_0x4b4d25,_0x2ace72)>0x14||ballInMiddle(_0x2ecf87,_0xaea151,_0x296ab9)==![])&&(_0x44a0c2=0x1));_0xc1ab5a>0x0&&_0x44a0c2==0x0&&(_0x4dfc75=_0x5e9002[BS_CUE_BALL_PATH][_0xc1ab5a-0x1],lineLength(_0x4dfc75[BG_CenterX],_0x4dfc75[BG_CenterY],_0x2ecf87[BG_CenterX],_0x2ecf87[BG_CenterY])>_0x2ecf87[BG_Radius]/0x2&&(_0x3dc43a=getLineSegmentAngle(_0x4dfc75[BG_CenterX],_0x4dfc75[BG_CenterY],_0x2ecf87[BG_CenterX],_0x2ecf87[BG_CenterY]),_0x2ace72>=0x0&&(diffLineSegmentAngle(_0x2ace72,_0x3dc43a)>0x14&&(_0x44a0c2=0x2)),_0x4b4d25>=0x0&&(diffLineSegmentAngle(_0x4b4d25,_0x3dc43a)>0x14&&(_0x44a0c2=0x2)),ballInMiddle(_0x4dfc75,_0x2ecf87,_0x296ab9)==![]&&(_0x44a0c2=0x1)));_0xc1ab5a+0x3<_0x5e9002[BS_CUE_BALL_PATH][_0x295c41(0xaa)]&&_0x44a0c2==0x0&&(_0x4dfc75=_0x5e9002[BS_CUE_BALL_PATH][_0xc1ab5a+0x3],lineLength(_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY],_0x4dfc75[BG_CenterX],_0x4dfc75[BG_CenterY])>_0x296ab9[BG_Radius]/0x2&&(_0x3dc43a=getLineSegmentAngle(_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY],_0x4dfc75[BG_CenterX],_0x4dfc75[BG_CenterY]),_0x4b4d25>=0x0&&(diffLineSegmentAngle(_0x4b4d25,_0x3dc43a)>0x14&&(_0x44a0c2=0x2)),_0x2ace72>=0x0&&(diffLineSegmentAngle(_0x2ace72,_0x3dc43a)>0x14&&(_0x44a0c2=0x2)),ballInMiddle(_0x2ecf87,_0x296ab9,_0x4dfc75)==![]&&(_0x44a0c2=0x1)));(_0xa3d496<_0x2ecf87[BG_Radius]*0x2&&_0x44a0c2==0x0||_0xa3d496<_0x2ecf87[BG_Radius]*0x6&&_0xaea151[BG_FirstTime]-_0x2ecf87[BG_FirstTime]<frameInSecondMultiple2)&&(_0xaea151[BG_PathBegin]=0x0);if(_0x40b04e<_0xaea151[BG_Radius]*0x2&&_0x44a0c2==0x0||_0x40b04e<_0xaea151[BG_Radius]*0x6&&_0x296ab9[BG_FirstTime]-_0xaea151[BG_FirstTime]<frameInSecondMultiple2)_0x296ab9[BG_PathBegin]=0x0;else _0x40b04e<_0xaea151[BG_Radius]*0x4&&_0xc1ab5a+0x2==_0x5e9002[BS_CUE_BALL_PATH][_0x295c41(0xaa)]-0x1&&_0x296ab9[BG_PathBegin]==0x1&&(_0x296ab9[BG_PathBegin]=0x0,myLog(_0x295c41(0x96)+[_0xaea151[BG_FirstTime],_0xaea151[BG_CenterX],_0xaea151[BG_CenterY]]+'\x20->\x20'+[_0x296ab9[BG_FirstTime],_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY]]));_0x4f9dc7=locateCacheGroups(_0x5e9002,_0x2ecf87[BG_FirstTime],0x0);if(_0x4f9dc7==null)continue;_0x4738ae=_0x4f9dc7[0x1],_0x4f9dc7=locateCacheGroups(_0x5e9002,_0xaea151[BG_FirstTime],0x0);if(_0x4f9dc7==null)continue;_0x3dbb1c=_0x4f9dc7[0x1],_0x4f9dc7=locateCacheGroups(_0x5e9002,_0x296ab9[BG_FirstTime],0x0);if(_0x4f9dc7==null)continue;groups2=_0x4f9dc7[0x1];if(hasBallInMiddle(_0x4738ae,_0x2ecf87[BG_CenterX],_0x2ecf87[BG_CenterY],_0xaea151[BG_CenterX],_0xaea151[BG_CenterY],_0x2ecf87)||hasBallInMiddle(_0x3dbb1c,_0xaea151[BG_CenterX],_0xaea151[BG_CenterY],_0x2ecf87[BG_CenterX],_0x2ecf87[BG_CenterY],_0xaea151))continue;if(_0xaea151[BG_FirstTime]-_0x2ecf87[BG_FirstTime]>=frameInSecondMultiple2||_0x296ab9[BG_FirstTime]-_0xaea151[BG_FirstTime]>=frameInSecondMultiple2){if(_0x44a0c2==0x1)continue;}if(_0x296ab9[BG_FirstTime]-_0xaea151[BG_FirstTime]>=frameInSecondMultiple2){if(hasBallInMiddle(_0x3dbb1c,_0xaea151[BG_CenterX],_0xaea151[BG_CenterY],_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY],_0xaea151)&&hasBallInMiddle(groups2,_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY],_0xaea151[BG_CenterX],_0xaea151[BG_CenterY],_0x296ab9))continue;if(hasBallInMiddle(_0x4738ae,_0x2ecf87[BG_CenterX],_0x2ecf87[BG_CenterY],_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY],_0x2ecf87)||hasBallInMiddle(groups2,_0x296ab9[BG_CenterX],_0x296ab9[BG_CenterY],_0x2ecf87[BG_CenterX],_0x2ecf87[BG_CenterY],_0x296ab9))continue;}threeBallInPathLine(_0x2ecf87,_0xaea151,_0x296ab9,_0x44a0c2)&&(_0xaea151[BG_PathBegin]=0x0,_0x296ab9[BG_PathBegin]=0x0);}}function captureWhoteImage(){const _0x1c36c0=_0xda34;contextCapture[_0x1c36c0(0x98)](videoObject,0x0,0x0,canvasCapture[_0x1c36c0(0xa7)],canvasCapture[_0x1c36c0(0xab)]);const _0x4c049d=contextCapture['getImageData'](0x0,0x0,canvasCapture[_0x1c36c0(0xa7)],canvasCapture['height']);videoPixels=_0x4c049d[_0x1c36c0(0xb8)];}function doDetectTable(_0x278c07){const _0x29bc1c=_0xda34,_0x39a340=[_0x29bc1c(0xa6),_0x29bc1c(0x91)];let _0x590f6a,_0x402431,_0x3a58dc,_0x105705,_0x4b3e0b,_0x53bed0=0x0,_0x32658d,_0x2ff1b7,_0x2f0fe9,_0x279309,_0x47f937,_0x3715ae,_0x3f7a45=[],_0x2662e1,_0x5537f4,_0x11c570,_0x4ba211,_0x8d7c31,_0x21ef88=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0x20f099=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];captureWhoteImage();let _0x5e7c55=detectPocket();if(_0x5e7c55[_0x29bc1c(0xaa)]!=0x4)return myLog('Only\x20'+_0x5e7c55[_0x29bc1c(0xaa)]+_0x29bc1c(0xcf)),0x1;_0x590f6a=VideoWidth/0x2;for(_0x3715ae=0x0;_0x3715ae<_0x5e7c55[_0x29bc1c(0xaa)];_0x3715ae++){if(_0x5e7c55[_0x3715ae][0x5]==0x0)_0x5e7c55[_0x3715ae][0x0]<_0x590f6a?(_0x20f099[0x0]=_0x5e7c55[_0x3715ae][0x0]+_0x5e7c55[_0x3715ae][0x2],_0x20f099[0x1]=_0x5e7c55[_0x3715ae][0x1]+_0x5e7c55[_0x3715ae][0x3],_0x21ef88[0x0]=_0x5e7c55[_0x3715ae][0x0],_0x21ef88[0x1]=_0x5e7c55[_0x3715ae][0x1]):(_0x20f099[0x2]=_0x5e7c55[_0x3715ae][0x0],_0x20f099[0x3]=_0x5e7c55[_0x3715ae][0x1]+_0x5e7c55[_0x3715ae][0x3],_0x21ef88[0x2]=_0x5e7c55[_0x3715ae][0x0]+_0x5e7c55[_0x3715ae][0x2],_0x21ef88[0x3]=_0x5e7c55[_0x3715ae][0x1]);else _0x5e7c55[_0x3715ae][0x5]==0x1&&(_0x5e7c55[_0x3715ae][0x0]<_0x590f6a?(_0x20f099[0x6]=_0x5e7c55[_0x3715ae][0x0]+_0x5e7c55[_0x3715ae][0x2],_0x20f099[0x7]=_0x5e7c55[_0x3715ae][0x1],_0x21ef88[0x6]=_0x5e7c55[_0x3715ae][0x0],_0x21ef88[0x7]=_0x5e7c55[_0x3715ae][0x1]+_0x5e7c55[_0x3715ae][0x3]):(_0x20f099[0x4]=_0x5e7c55[_0x3715ae][0x0],_0x20f099[0x5]=_0x5e7c55[_0x3715ae][0x1],_0x21ef88[0x4]=_0x5e7c55[_0x3715ae][0x0]+_0x5e7c55[_0x3715ae][0x2],_0x21ef88[0x5]=_0x5e7c55[_0x3715ae][0x1]+_0x5e7c55[_0x3715ae][0x3]));}_0x5537f4=Math[_0x29bc1c(0xbe)](_0x20f099[0x1],_0x20f099[0x3])+0x1e,_0x4ba211=Math[_0x29bc1c(0xb5)](_0x20f099[0x5],_0x20f099[0x7])-0x1e,_0x2662e1=Math[_0x29bc1c(0xbe)](_0x20f099[0x0],_0x20f099[0x6])+0x1e,_0x11c570=Math[_0x29bc1c(0xb5)](_0x20f099[0x2],_0x20f099[0x4])-0x1e;for(_0x402431=_0x5537f4;_0x402431<=_0x4ba211;_0x402431++){_0x590f6a=_0x2662e1,_0x105705=(_0x402431*VideoWidth+_0x590f6a)*0x4;for(;_0x590f6a<=_0x11c570;_0x590f6a++,_0x105705=_0x105705+0x4){_0x2f0fe9=videoPixels[_0x105705],_0x47f937=videoPixels[_0x105705+0x1],_0x279309=videoPixels[_0x105705+0x2],_0x53bed0++,_0x4b3e0b=(_0x2f0fe9>>0x3<<0xa)+(_0x47f937>>0x3<<0x5)+(_0x279309>>0x3),_0x3f7a45[_0x4b3e0b]?_0x3f7a45[_0x4b3e0b]++:_0x3f7a45[_0x4b3e0b]=0x1;}}_0x32658d=0x0,_0x2ff1b7=0x0;for(_0x4b3e0b=0x0;_0x4b3e0b<_0x3f7a45[_0x29bc1c(0xaa)];_0x4b3e0b++){if(_0x3f7a45[_0x4b3e0b]){if(_0x3f7a45[_0x4b3e0b]>_0x2ff1b7){_0x2f0fe9=_0x4b3e0b>>0xa<<0x3,_0x47f937=(_0x4b3e0b>>0x5&0x1f)<<0x3,_0x279309=(_0x4b3e0b&0x1f)<<0x3,_0x8d7c31=rgbToHsv(_0x2f0fe9,_0x47f937,_0x279309);if(_0x8d7c31[0x1]<0x64||_0x8d7c31[0x2]<0x50)continue;_0x32658d=_0x4b3e0b,_0x2ff1b7=_0x3f7a45[_0x4b3e0b];}}}let _0x3163c4=_0x32658d>>0xa<<0x3,_0x45dedd=(_0x32658d>>0x5&0x1f)<<0x3,_0x14f5fd=(_0x32658d&0x1f)<<0x3,_0x544a87=_0x3163c4*_0x2ff1b7,_0x12091d=_0x45dedd*_0x2ff1b7,_0x245008=_0x14f5fd*_0x2ff1b7,_0x586aac=_0x2ff1b7;for(_0x4b3e0b=0x0;_0x4b3e0b<_0x3f7a45['length'];_0x4b3e0b++){if(_0x4b3e0b==_0x32658d)continue;_0x3f7a45[_0x4b3e0b]&&(_0x2ff1b7=_0x3f7a45[_0x4b3e0b],_0x2f0fe9=_0x4b3e0b>>0xa<<0x3,_0x47f937=(_0x4b3e0b>>0x5&0x1f)<<0x3,_0x279309=(_0x4b3e0b&0x1f)<<0x3,Math[_0x29bc1c(0xc7)](_0x2f0fe9-_0x3163c4)<0x32&&Math[_0x29bc1c(0xc7)](_0x47f937-_0x45dedd)<0x32&&Math[_0x29bc1c(0xc7)](_0x279309-_0x14f5fd)<0x32&&(_0x544a87=_0x544a87+_0x2f0fe9*_0x2ff1b7,_0x12091d=_0x12091d+_0x47f937*_0x2ff1b7,_0x245008=_0x245008+_0x279309*_0x2ff1b7,_0x586aac=_0x586aac+_0x2ff1b7));}_0x2f0fe9=Math[_0x29bc1c(0xb9)](_0x544a87/_0x586aac),_0x47f937=Math['round'](_0x12091d/_0x586aac),_0x279309=Math[_0x29bc1c(0xb9)](_0x245008/_0x586aac);let _0x2f07cd,_0x39c943,_0x2c099f,_0x50c4e3;if(_0x586aac>_0x53bed0*0.5){_0x8d7c31=rgbToHsv(_0x2f0fe9,_0x47f937,_0x279309);if(_0x8d7c31[0x2]>TABLE_CLOTH_MIN_AVG_BRIGHT&&_0x8d7c31[0x1]>TABLE_CLOTH_MIN_SAT)_0x2f07cd=Math[_0x29bc1c(0xbe)](_0x8d7c31[0x2]/0x2,TABLE_CLOTH_MIN_BRIGHT),_0x39c943=Math['max'](_0x8d7c31[0x1]/0x2,TABLE_CLOTH_MIN_SAT),_0x2c099f=_0x8d7c31[0x0]+TableClothHueRange,_0x50c4e3=_0x8d7c31[0x0]-TableClothHueRange;else return[];}else return myLog(_0x29bc1c(0xd3)+_0x2f0fe9+','+_0x47f937+','+_0x279309+'\x20total='+_0x586aac+'/'+_0x53bed0),[];let _0xa37244=[],_0x555c8f=[],_0x341b22=[],_0x264c43=[];for(_0x590f6a=0x0;_0x590f6a<VideoWidth;_0x590f6a++){_0x341b22[_0x590f6a]=0x0,_0x264c43[_0x590f6a]=0x0;}for(_0x402431=0x0;_0x402431<VideoHeight;_0x402431++){_0xa37244[_0x402431]=0x0,_0x555c8f[_0x402431]=0x0;}let _0x6820d=[_0x21ef88[0x0],_0x21ef88[0x1],_0x21ef88[0x2],_0x21ef88[0x3]],_0x10739d=[_0x21ef88[0x0],_0x20f099[0x1],_0x21ef88[0x2],_0x20f099[0x3]];_0x2662e1=Math[_0x29bc1c(0xbe)](_0x20f099[0x0],0x1),_0x11c570=Math[_0x29bc1c(0xb5)](_0x20f099[0x2],VideoWidth-0x1);for(_0x590f6a=_0x2662e1;_0x590f6a<=_0x11c570;_0x590f6a++){_0x402431=Math[_0x29bc1c(0xbe)](getLineY(_0x6820d[0x0],_0x6820d[0x1],_0x6820d[0x2],_0x6820d[0x3],_0x590f6a),0x1),_0x4ba211=getLineY(_0x10739d[0x0],_0x10739d[0x1],_0x10739d[0x2],_0x10739d[0x3],_0x590f6a),_0x105705=(_0x402431*VideoWidth+_0x590f6a)*0x4;for(;_0x402431<=_0x4ba211;_0x402431++,_0x105705=_0x105705+VideoWidth4){_0x2f0fe9=videoPixels[_0x105705],_0x47f937=videoPixels[_0x105705+0x1],_0x279309=videoPixels[_0x105705+0x2],_0x8d7c31=rgbToHsv(_0x2f0fe9,_0x47f937,_0x279309);if(_0x50c4e3<=_0x8d7c31[0x0]&&_0x8d7c31[0x0]<=_0x2c099f&&_0x8d7c31[0x1]>=_0x39c943&&_0x8d7c31[0x2]>=_0x2f07cd){_0x341b22[_0x590f6a]=_0x402431;break;}}}let _0x234e2a=[_0x21ef88[0x6],_0x21ef88[0x7],_0x21ef88[0x4],_0x21ef88[0x5]],_0x1868a0=[_0x21ef88[0x6],_0x20f099[0x7],_0x21ef88[0x4],_0x20f099[0x5]];_0x2662e1=Math[_0x29bc1c(0xbe)](_0x20f099[0x6],0x1),_0x11c570=Math[_0x29bc1c(0xb5)](_0x20f099[0x4],VideoWidth-0x1);for(_0x590f6a=_0x2662e1;_0x590f6a<=_0x11c570;_0x590f6a++){_0x402431=Math['min'](getLineY(_0x234e2a[0x0],_0x234e2a[0x1],_0x234e2a[0x2],_0x234e2a[0x3],_0x590f6a),VideoHeight-0x1),_0x4ba211=getLineY(_0x1868a0[0x0],_0x1868a0[0x1],_0x1868a0[0x2],_0x1868a0[0x3],_0x590f6a),_0x105705=(_0x402431*VideoWidth+_0x590f6a)*0x4;for(;_0x402431>=_0x4ba211;_0x402431--,_0x105705=_0x105705-VideoWidth4){_0x2f0fe9=videoPixels[_0x105705],_0x47f937=videoPixels[_0x105705+0x1],_0x279309=videoPixels[_0x105705+0x2],_0x8d7c31=rgbToHsv(_0x2f0fe9,_0x47f937,_0x279309);if(_0x50c4e3<=_0x8d7c31[0x0]&&_0x8d7c31[0x0]<=_0x2c099f&&_0x8d7c31[0x1]>=_0x39c943&&_0x8d7c31[0x2]>=_0x2f07cd){_0x264c43[_0x590f6a]=_0x402431;break;}}}let _0x383e20=[_0x21ef88[0x0],_0x21ef88[0x1],_0x21ef88[0x6],_0x20f099[0x7]],_0x2cd2b9=[_0x20f099[0x0],_0x20f099[0x1],_0x20f099[0x6],_0x21ef88[0x7]];_0x5537f4=Math[_0x29bc1c(0xbe)](_0x20f099[0x1],0x1),_0x4ba211=Math['min'](_0x20f099[0x7],VideoHeight-0x1);for(_0x402431=_0x5537f4;_0x402431<=_0x4ba211;_0x402431++){_0x590f6a=Math[_0x29bc1c(0xbe)](getLineX(_0x383e20[0x0],_0x383e20[0x1],_0x383e20[0x2],_0x383e20[0x3],_0x402431),0x1),_0x11c570=getLineX(_0x2cd2b9[0x0],_0x2cd2b9[0x1],_0x2cd2b9[0x2],_0x2cd2b9[0x3],_0x402431),_0x105705=(_0x402431*VideoWidth+_0x590f6a)*0x4;for(;_0x590f6a<=_0x11c570;_0x590f6a++,_0x105705=_0x105705+0x4){_0x2f0fe9=videoPixels[_0x105705],_0x47f937=videoPixels[_0x105705+0x1],_0x279309=videoPixels[_0x105705+0x2],_0x8d7c31=rgbToHsv(_0x2f0fe9,_0x47f937,_0x279309);if(_0x50c4e3<=_0x8d7c31[0x0]&&_0x8d7c31[0x0]<=_0x2c099f&&_0x8d7c31[0x1]>=_0x39c943&&_0x8d7c31[0x2]>=_0x2f07cd){_0xa37244[_0x402431]=_0x590f6a;break;}}}let _0x2316fd=[_0x21ef88[0x2],_0x21ef88[0x3],_0x21ef88[0x4],_0x20f099[0x5]],_0x5870d2=[_0x20f099[0x2],_0x20f099[0x3],_0x20f099[0x4],_0x21ef88[0x5]];_0x5537f4=Math[_0x29bc1c(0xbe)](_0x20f099[0x1],0x1),_0x4ba211=Math[_0x29bc1c(0xb5)](_0x20f099[0x7],VideoHeight-0x1);for(_0x402431=_0x5537f4;_0x402431<=_0x4ba211;_0x402431++){_0x590f6a=Math[_0x29bc1c(0xb5)](getLineX(_0x2316fd[0x0],_0x2316fd[0x1],_0x2316fd[0x2],_0x2316fd[0x3],_0x402431),VideoWidth-0x1),_0x11c570=getLineX(_0x5870d2[0x0],_0x5870d2[0x1],_0x5870d2[0x2],_0x5870d2[0x3],_0x402431),_0x105705=(_0x402431*VideoWidth+_0x590f6a)*0x4;for(;_0x590f6a>=_0x11c570;_0x590f6a--,_0x105705=_0x105705-0x4){_0x2f0fe9=videoPixels[_0x105705],_0x47f937=videoPixels[_0x105705+0x1],_0x279309=videoPixels[_0x105705+0x2],_0x8d7c31=rgbToHsv(_0x2f0fe9,_0x47f937,_0x279309);if(_0x50c4e3<=_0x8d7c31[0x0]&&_0x8d7c31[0x0]<=_0x2c099f&&_0x8d7c31[0x1]>=_0x39c943&&_0x8d7c31[0x2]>=_0x2f07cd){_0x555c8f[_0x402431]=_0x590f6a;break;}}}let _0x4f7c61=[],_0x5a4acb=0x0,_0x374c1b,_0x195ef7,_0x5f3a01=[];_0x195ef7=Math[_0x29bc1c(0xb9)](VideoWidth/0x2);for(_0x374c1b=0x5a;_0x374c1b>0x1e;_0x374c1b--){line=[0x0,0x0,0x0,VideoHeight-0x1],line[0x2]=-Math[_0x29bc1c(0xb9)](VideoHeight/Math[_0x29bc1c(0xce)](_0x374c1b*(Math['PI']/0xb4)));while(line[0x2]<_0x195ef7){for(_0x402431=0x0;_0x402431<VideoHeight;_0x402431++){if(_0xa37244[_0x402431]>0x0){if(getLineX(line[0x0],line[0x1],line[0x2],line[0x3],_0x402431)>=_0xa37244[_0x402431]){_0x5f3a01[_0x29bc1c(0x9d)]([line,leftRightErrorSquare(_0xa37244,line),_0x374c1b]);break;}}}if(_0x402431<VideoHeight)break;line[0x0]++,line[0x2]++;}}minY=-0x1,line=null;for(_0x3715ae=0x0;_0x3715ae<_0x5f3a01[_0x29bc1c(0xaa)];_0x3715ae++){if(minY<0x0)minY=_0x5f3a01[_0x3715ae][0x1],line=_0x5f3a01[_0x3715ae][0x0];else minY>_0x5f3a01[_0x3715ae][0x1]&&(minY=_0x5f3a01[_0x3715ae][0x1],line=_0x5f3a01[_0x3715ae][0x0]);}if(line!=null)_0x4f7c61[TAB_LEFT_LINE]=line,_0x5a4acb=_0x5a4acb+minY;else return myLog(_0x29bc1c(0x8c)),[];_0x5f3a01=[],_0x195ef7=Math[_0x29bc1c(0xb9)](VideoWidth/0x2);for(_0x374c1b=0x5a;_0x374c1b<0x96;_0x374c1b++){line=[VideoWidth-0x1,0x0,0x0,VideoHeight-0x1],line[0x2]=VideoWidth+Math[_0x29bc1c(0xc7)](Math[_0x29bc1c(0xb9)](VideoHeight/Math[_0x29bc1c(0xce)](_0x374c1b*(Math['PI']/0xb4))));while(line[0x2]>_0x195ef7){for(_0x402431=0x0;_0x402431<VideoHeight;_0x402431++){if(_0x555c8f[_0x402431]>0x0){if(getLineX(line[0x0],line[0x1],line[0x2],line[0x3],_0x402431)<=_0x555c8f[_0x402431]){_0x5f3a01[_0x29bc1c(0x9d)]([line,leftRightErrorSquare(_0x555c8f,line),_0x374c1b]);break;}}}if(_0x402431<VideoHeight)break;line[0x0]--,line[0x2]--;}}minY=-0x1,line=null;for(_0x3715ae=0x0;_0x3715ae<_0x5f3a01[_0x29bc1c(0xaa)];_0x3715ae++){if(minY<0x0)minY=_0x5f3a01[_0x3715ae][0x1],line=_0x5f3a01[_0x3715ae][0x0];else minY>_0x5f3a01[_0x3715ae][0x1]&&(minY=_0x5f3a01[_0x3715ae][0x1],line=_0x5f3a01[_0x3715ae][0x0]);}if(line!=null)_0x4f7c61[TAB_RIGHT_LINE]=line,_0x5a4acb=_0x5a4acb+minY;else return myLog(_0x29bc1c(0xcd)),[];_0x5f3a01=[],_0x195ef7=Math['round'](VideoHeight/0x2);for(_0x374c1b=-0x1e;_0x374c1b<=0x1e;_0x374c1b++){line=[0x0,0x0,VideoWidth-0x1,0x0];_0x374c1b<=0x0?line[0x1]=-Math[_0x29bc1c(0xc7)](Math['round'](VideoWidth*Math[_0x29bc1c(0xce)](_0x374c1b*(Math['PI']/0xb4)))):line[0x3]=-Math['abs'](Math[_0x29bc1c(0xb9)](VideoWidth*Math['tan'](_0x374c1b*(Math['PI']/0xb4))));while(line[0x1]<_0x195ef7||line[0x3]<_0x195ef7){for(_0x590f6a=0x0;_0x590f6a<VideoWidth;_0x590f6a++){if(_0x341b22[_0x590f6a]>0x0){if(getLineY(line[0x0],line[0x1],line[0x2],line[0x3],_0x590f6a)>=_0x341b22[_0x590f6a]){_0x5f3a01[_0x29bc1c(0x9d)]([line,topBottomErrorSquare(_0x341b22,line),_0x374c1b]);break;}}}if(_0x590f6a<VideoWidth)break;line[0x1]++,line[0x3]++;}}minY=-0x1,line=null;for(_0x3715ae=0x0;_0x3715ae<_0x5f3a01['length'];_0x3715ae++){if(minY<0x0)minY=_0x5f3a01[_0x3715ae][0x1],line=_0x5f3a01[_0x3715ae][0x0];else minY>_0x5f3a01[_0x3715ae][0x1]&&(minY=_0x5f3a01[_0x3715ae][0x1],line=_0x5f3a01[_0x3715ae][0x0]);}if(line!=null)_0x4f7c61[TAB_TOP_LINE]=line,_0x5a4acb=_0x5a4acb+minY;else return myLog(_0x29bc1c(0xcb)),[];_0x5f3a01=[],_0x195ef7=Math[_0x29bc1c(0xb9)](VideoHeight/0x2);for(_0x374c1b=-0x1e;_0x374c1b<=0x1e;_0x374c1b++){line=[0x0,VideoHeight-0x1,VideoWidth-0x1,VideoHeight-0x1];_0x374c1b<=0x0?line[0x3]=VideoHeight+Math[_0x29bc1c(0xc7)](Math[_0x29bc1c(0xb9)](VideoWidth*Math['tan'](_0x374c1b*(Math['PI']/0xb4)))):line[0x1]=VideoHeight+Math[_0x29bc1c(0xc7)](Math[_0x29bc1c(0xb9)](VideoWidth*Math[_0x29bc1c(0xce)](_0x374c1b*(Math['PI']/0xb4))));while(line[0x1]>_0x195ef7||line[0x3]>_0x195ef7){for(_0x590f6a=0x0;_0x590f6a<VideoWidth;_0x590f6a++){if(_0x264c43[_0x590f6a]>0x0){if(getLineY(line[0x0],line[0x1],line[0x2],line[0x3],_0x590f6a)<=_0x264c43[_0x590f6a]){_0x5f3a01['push']([line,topBottomErrorSquare(_0x264c43,line),_0x374c1b]);break;}}}if(_0x590f6a<VideoWidth)break;line[0x1]--,line[0x3]--;}}minY=-0x1,line=null;for(_0x3715ae=0x0;_0x3715ae<_0x5f3a01['length'];_0x3715ae++){if(minY<0x0)minY=_0x5f3a01[_0x3715ae][0x1],line=_0x5f3a01[_0x3715ae][0x0];else minY>_0x5f3a01[_0x3715ae][0x1]&&(minY=_0x5f3a01[_0x3715ae][0x1],line=_0x5f3a01[_0x3715ae][0x0]);}if(line!=null)_0x4f7c61[TAB_BOTTOM_LINE]=line,_0x5a4acb=_0x5a4acb+minY;else return myLog(_0x29bc1c(0x9c)),[];_0x4f7c61[TAB_TOP_LINE][0x1]=Math[_0x29bc1c(0xbe)](_0x4f7c61[TAB_TOP_LINE][0x1]-0x2,0x0),_0x4f7c61[TAB_TOP_LINE][0x3]=Math[_0x29bc1c(0xbe)](_0x4f7c61[TAB_TOP_LINE][0x3]-0x2,0x0);let _0x1b03ec=getCrossPoint(_0x4f7c61[TAB_RIGHT_LINE][0x0],_0x4f7c61[TAB_RIGHT_LINE][0x1],_0x4f7c61[TAB_RIGHT_LINE][0x2],_0x4f7c61[TAB_RIGHT_LINE][0x3],_0x4f7c61[TAB_TOP_LINE][0x0],_0x4f7c61[TAB_TOP_LINE][0x1],_0x4f7c61[TAB_TOP_LINE][0x2],_0x4f7c61[TAB_TOP_LINE][0x3]);return _0x1b03ec[0x0]!=0x0?(_0x4f7c61[TAB_TOP_LINE][0x2]=_0x1b03ec[0x0],_0x4f7c61[TAB_TOP_LINE][0x3]=_0x1b03ec[0x1],_0x4f7c61[TAB_RIGHT_LINE][0x0]=_0x1b03ec[0x0],_0x4f7c61[TAB_RIGHT_LINE][0x1]=_0x1b03ec[0x1]):_0x4f7c61[TAB_TOP_LINE][0x3]<0x0&&(_0x4f7c61[TAB_TOP_LINE][0x2]=getLineX(_0x4f7c61[TAB_TOP_LINE][0x0],_0x4f7c61[TAB_TOP_LINE][0x1],_0x4f7c61[TAB_TOP_LINE][0x2],_0x4f7c61[TAB_TOP_LINE][0x3],0x0),_0x4f7c61[TAB_TOP_LINE][0x3]=0x0),_0x1b03ec=getCrossPoint(_0x4f7c61[TAB_LEFT_LINE][0x0],_0x4f7c61[TAB_LEFT_LINE][0x1],_0x4f7c61[TAB_LEFT_LINE][0x2],_0x4f7c61[TAB_LEFT_LINE][0x3],_0x4f7c61[TAB_TOP_LINE][0x0],_0x4f7c61[TAB_TOP_LINE][0x1],_0x4f7c61[TAB_TOP_LINE][0x2],_0x4f7c61[TAB_TOP_LINE][0x3]),_0x1b03ec[0x0]!=0x0?(_0x4f7c61[TAB_TOP_LINE][0x0]=_0x1b03ec[0x0],_0x4f7c61[TAB_TOP_LINE][0x1]=_0x1b03ec[0x1],_0x4f7c61[TAB_LEFT_LINE][0x0]=_0x1b03ec[0x0],_0x4f7c61[TAB_LEFT_LINE][0x1]=_0x1b03ec[0x1]):_0x4f7c61[TAB_TOP_LINE][0x1]<0x0&&(_0x4f7c61[TAB_TOP_LINE][0x0]=getLineX(_0x4f7c61[TAB_TOP_LINE][0x0],_0x4f7c61[TAB_TOP_LINE][0x1],_0x4f7c61[TAB_TOP_LINE][0x2],_0x4f7c61[TAB_TOP_LINE][0x3],0x0),_0x4f7c61[TAB_TOP_LINE][0x1]=0x0),_0x1b03ec=getCrossPoint(_0x4f7c61[TAB_LEFT_LINE][0x0],_0x4f7c61[TAB_LEFT_LINE][0x1],_0x4f7c61[TAB_LEFT_LINE][0x2],_0x4f7c61[TAB_LEFT_LINE][0x3],_0x4f7c61[TAB_BOTTOM_LINE][0x0],_0x4f7c61[TAB_BOTTOM_LINE][0x1],_0x4f7c61[TAB_BOTTOM_LINE][0x2],_0x4f7c61[TAB_BOTTOM_LINE][0x3]),_0x1b03ec[0x0]!=0x0?(_0x4f7c61[TAB_BOTTOM_LINE][0x0]=_0x1b03ec[0x0],_0x4f7c61[TAB_BOTTOM_LINE][0x1]=_0x1b03ec[0x1],_0x4f7c61[TAB_LEFT_LINE][0x2]=_0x1b03ec[0x0],_0x4f7c61[TAB_LEFT_LINE][0x3]=_0x1b03ec[0x1]):(_0x4f7c61[TAB_BOTTOM_LINE][0x1]>=VideoHeight&&(_0x4f7c61[TAB_BOTTOM_LINE][0x0]=getLineX(_0x4f7c61[TAB_BOTTOM_LINE][0x0],_0x4f7c61[TAB_BOTTOM_LINE][0x1],_0x4f7c61[TAB_BOTTOM_LINE][0x2],_0x4f7c61[TAB_BOTTOM_LINE][0x3],VideoHeight-0x1),_0x4f7c61[TAB_BOTTOM_LINE][0x1]=VideoHeight-0x1),_0x4f7c61[TAB_LEFT_LINE][0x2]<0x0&&(_0x4f7c61[TAB_LEFT_LINE][0x3]=getLineY(_0x4f7c61[TAB_LEFT_LINE][0x0],_0x4f7c61[TAB_LEFT_LINE][0x1],_0x4f7c61[TAB_LEFT_LINE][0x2],_0x4f7c61[TAB_LEFT_LINE][0x3],0x0),_0x4f7c61[TAB_LEFT_LINE][0x2]=0x0)),_0x1b03ec=getCrossPoint(_0x4f7c61[TAB_RIGHT_LINE][0x0],_0x4f7c61[TAB_RIGHT_LINE][0x1],_0x4f7c61[TAB_RIGHT_LINE][0x2],_0x4f7c61[TAB_RIGHT_LINE][0x3],_0x4f7c61[TAB_BOTTOM_LINE][0x0],_0x4f7c61[TAB_BOTTOM_LINE][0x1],_0x4f7c61[TAB_BOTTOM_LINE][0x2],_0x4f7c61[TAB_BOTTOM_LINE][0x3]),_0x1b03ec[0x0]!=0x0?(_0x4f7c61[TAB_BOTTOM_LINE][0x2]=_0x1b03ec[0x0],_0x4f7c61[TAB_BOTTOM_LINE][0x3]=_0x1b03ec[0x1],_0x4f7c61[TAB_RIGHT_LINE][0x2]=_0x1b03ec[0x0],_0x4f7c61[TAB_RIGHT_LINE][0x3]=_0x1b03ec[0x1]):(_0x4f7c61[TAB_BOTTOM_LINE][0x3]>=VideoHeight&&(_0x4f7c61[TAB_BOTTOM_LINE][0x2]=getLineX(_0x4f7c61[TAB_BOTTOM_LINE][0x0],_0x4f7c61[TAB_BOTTOM_LINE][0x1],_0x4f7c61[TAB_BOTTOM_LINE][0x2],_0x4f7c61[TAB_BOTTOM_LINE][0x3],VideoHeight-0x1),_0x4f7c61[TAB_BOTTOM_LINE][0x3]=VideoHeight-0x1),_0x4f7c61[TAB_RIGHT_LINE][0x2]>=VideoWidth&&(_0x4f7c61[TAB_RIGHT_LINE][0x3]=getLineY(_0x4f7c61[TAB_RIGHT_LINE][0x0],_0x4f7c61[TAB_RIGHT_LINE][0x1],_0x4f7c61[TAB_RIGHT_LINE][0x2],_0x4f7c61[TAB_RIGHT_LINE][0x3],VideoWidth-0x1),_0x4f7c61[TAB_RIGHT_LINE][0x2]=VideoWidth-0x1)),myLog(_0x278c07+':\x20sumSquare='+_0x5a4acb),[_0x4f7c61,_0x5a4acb];}function leftRightErrorSquare(_0x3a14bc,_0x444714){let _0x2d0dd1,_0x5d259d=0x0,_0x14ab6f;for(_0x2d0dd1=0x0;_0x2d0dd1<_0x3a14bc['length'];_0x2d0dd1++){_0x3a14bc[_0x2d0dd1]>0x0&&(_0x14ab6f=getLineX(_0x444714[0x0],_0x444714[0x1],_0x444714[0x2],_0x444714[0x3],_0x2d0dd1),_0x5d259d=_0x5d259d+(_0x14ab6f-_0x3a14bc[_0x2d0dd1])**0x2);}return _0x5d259d;}function topBottomErrorSquare(_0x5af74b,_0x1a427a){const _0x31c4ac=_0xda34;let _0x39657b,_0x57c951=0x0,_0xe3efea;for(_0xe3efea=0x0;_0xe3efea<_0x5af74b[_0x31c4ac(0xaa)];_0xe3efea++){_0x5af74b[_0xe3efea]>0x0&&(_0x39657b=getLineY(_0x1a427a[0x0],_0x1a427a[0x1],_0x1a427a[0x2],_0x1a427a[0x3],_0xe3efea),_0x57c951=_0x57c951+(_0x39657b-_0x5af74b[_0xe3efea])**0x2);}return _0x57c951;}function getSmoothPath(_0x21da45){const _0x272ab3=_0xda34;let _0x46d107=[],_0x5f5285,_0x6b4ed5,_0x41b8dc,_0x5bc705,_0x23110,_0x4e9888,_0x38093f=[0x0,0x0];for(_0x5f5285=0x0;_0x5f5285<_0x21da45[BS_CUE_BALL_PATH][_0x272ab3(0xaa)];_0x5f5285++){_0x41b8dc=_0x21da45[BS_CUE_BALL_PATH][_0x5f5285],_0x41b8dc[BG_Found]=0x0;if(_0x5f5285==0x0||_0x41b8dc[BG_PathBegin]==0x1){_0x46d107[_0x272ab3(0x9d)](_0x41b8dc);continue;}if(_0x5f5285>=0x3&&_0x5f5285<_0x21da45[BS_CUE_BALL_PATH][_0x272ab3(0xaa)]-0x1){_0x23110=_0x41b8dc[BG_CenterX],_0x4e9888=_0x41b8dc[BG_CenterY],balls=get3BallsFromPath(_0x21da45,_0x23110,_0x4e9888,_0x5f5285);if(balls[_0x272ab3(0xaa)]!=0x3){_0x46d107[_0x272ab3(0x9d)](_0x41b8dc);continue;}if(_0x23110<TableLines[TAB_LEFT_LINE][0x0]+0x6*_0x41b8dc[BG_Radius]&&_0x23110-TableLeftRightX[_0x4e9888][0x0]<0x6*_0x41b8dc[BG_Radius]&&_0x4e9888>Math['max'](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x4e9888<Math[_0x272ab3(0xb5)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3])){if(angleChangeInBounce(balls[0x0],balls[0x1],_0x41b8dc,balls[0x2],TAB_LEFT_LINE)){let _0x22988d=getCrossPointBall(balls[0x0],balls[0x1],_0x41b8dc,balls[0x2]);_0x22988d!=null&&(Math[_0x272ab3(0xc7)](_0x22988d[BG_CenterX]-_0x23110)>0x1&&Math[_0x272ab3(0xc7)](_0x22988d[BG_CenterY]-_0x4e9888)>0x1&&Math['abs'](_0x22988d[BG_CenterX]-balls[0x1][BG_CenterX])>0x1&&Math[_0x272ab3(0xc7)](_0x22988d[BG_CenterY]-balls[0x1][BG_CenterY])>0x1&&_0x22988d[BG_CenterX]<_0x23110&&_0x22988d[BG_CenterX]<balls[0x1][BG_CenterX]&&lineLength(_0x22988d[BG_CenterX],_0x22988d[BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])>lineLength(balls[0x1][BG_CenterX],balls[0x1][BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])&&lineLength(_0x22988d[BG_CenterX],_0x22988d[BG_CenterY],balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])>lineLength(_0x23110,_0x4e9888,balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])&&lineLength(_0x22988d[BG_CenterX],_0x22988d[BG_CenterY],_0x38093f[0x0],_0x38093f[0x1])>_0x41b8dc[BG_Radius]*0x4&&(_0x46d107[_0x272ab3(0x9d)](_0x22988d),_0x38093f=[_0x22988d[BG_CenterX],_0x22988d[BG_CenterY]]));}}else{if(_0x23110>TableLines[TAB_RIGHT_LINE][0x0]-0x6*_0x41b8dc[BG_Radius]&&TableLeftRightX[_0x4e9888][0x1]-_0x23110<0x6*_0x41b8dc[BG_Radius]&&_0x4e9888>Math[_0x272ab3(0xbe)](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x4e9888<Math[_0x272ab3(0xb5)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3])){if(angleChangeInBounce(balls[0x0],balls[0x1],_0x41b8dc,balls[0x2],TAB_RIGHT_LINE)){let _0x185dc5=getCrossPointBall(balls[0x0],balls[0x1],_0x41b8dc,balls[0x2]);_0x185dc5!=null&&(Math[_0x272ab3(0xc7)](_0x185dc5[BG_CenterX]-_0x23110)>0x1&&Math[_0x272ab3(0xc7)](_0x185dc5[BG_CenterY]-_0x4e9888)>0x1&&Math[_0x272ab3(0xc7)](_0x185dc5[BG_CenterX]-balls[0x1][BG_CenterX])>0x1&&Math['abs'](_0x185dc5[BG_CenterY]-balls[0x1][BG_CenterY])>0x1&&_0x185dc5[BG_CenterX]>_0x23110&&_0x185dc5[BG_CenterX]>balls[0x1][BG_CenterX]&&lineLength(_0x185dc5[BG_CenterX],_0x185dc5[BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])>lineLength(balls[0x1][BG_CenterX],balls[0x1][BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])&&lineLength(_0x185dc5[BG_CenterX],_0x185dc5[BG_CenterY],balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])>lineLength(_0x23110,_0x4e9888,balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])&&lineLength(_0x185dc5[BG_CenterX],_0x185dc5[BG_CenterY],_0x38093f[0x0],_0x38093f[0x1])>_0x41b8dc[BG_Radius]*0x4&&(_0x46d107[_0x272ab3(0x9d)](_0x185dc5),_0x38093f=[_0x185dc5[BG_CenterX],_0x185dc5[BG_CenterY]]));}}else{if(TableTopBottomY[_0x23110][0x1]-_0x4e9888<0x4*_0x41b8dc[BG_Radius]){if(angleChangeInBounce(balls[0x0],balls[0x1],_0x41b8dc,balls[0x2],TAB_BOTTOM_LINE)){let _0x14f29a=getCrossPointBall(balls[0x0],balls[0x1],_0x41b8dc,balls[0x2]);_0x14f29a!=null&&(Math['abs'](_0x14f29a[BG_CenterX]-_0x23110)>0x1&&Math['abs'](_0x14f29a[BG_CenterY]-_0x4e9888)>0x1&&Math[_0x272ab3(0xc7)](_0x14f29a[BG_CenterX]-balls[0x1][BG_CenterX])>0x1&&Math['abs'](_0x14f29a[BG_CenterY]-balls[0x1][BG_CenterY])>0x1&&_0x14f29a[BG_CenterY]>_0x4e9888&&_0x14f29a[BG_CenterY]>balls[0x1][BG_CenterY]&&lineLength(_0x14f29a[BG_CenterX],_0x14f29a[BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])>lineLength(balls[0x1][BG_CenterX],balls[0x1][BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])&&lineLength(_0x14f29a[BG_CenterX],_0x14f29a[BG_CenterY],balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])>lineLength(_0x23110,_0x4e9888,balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])&&lineLength(_0x14f29a[BG_CenterX],_0x14f29a[BG_CenterY],_0x38093f[0x0],_0x38093f[0x1])>_0x41b8dc[BG_Radius]*0x4&&(_0x46d107['push'](_0x14f29a),_0x38093f=[_0x14f29a[BG_CenterX],_0x14f29a[BG_CenterY]]));}}}}}_0x46d107[_0x272ab3(0x9d)](_0x41b8dc);}for(_0x5f5285=0x0;_0x5f5285<_0x46d107['length'];_0x5f5285++){_0x41b8dc=_0x46d107[_0x5f5285];if(_0x41b8dc[BG_PathBegin]==0x1||_0x41b8dc[BG_Found]!=0x0)continue;for(let _0x3b1c2d=_0x5f5285+0x4;_0x3b1c2d<_0x46d107[_0x272ab3(0xaa)];_0x3b1c2d++){_0x5bc705=_0x46d107[_0x3b1c2d];if(_0x5bc705[BG_PathBegin]==0x1||_0x5bc705[BG_Found]!=0x0)continue;let _0x29ed26=ballsInStraightLine(_0x46d107,_0x5f5285,_0x3b1c2d);if(_0x29ed26==0x0)break;else{if(_0x29ed26==0x1)continue;else{if(_0x29ed26==0x2){for(let _0x248b0d=_0x5f5285+0x1;_0x248b0d<_0x3b1c2d;_0x248b0d++){_0x46d107[_0x248b0d][BG_Found]==0x0&&_0x46d107[BG_PathBegin]==0x0&&(_0x46d107[_0x248b0d][BG_Found]=0x1);}_0x3b1c2d=_0x3b1c2d+0x3;}}}}}let _0xcdf9a9=[];_0x23110=0x0;for(_0x5f5285=0x0;_0x5f5285<_0x46d107['length'];_0x5f5285++){_0x41b8dc=_0x46d107[_0x5f5285];if(_0x41b8dc[BG_Found]==0x1){_0x23110++;continue;}_0xcdf9a9[_0x272ab3(0x9d)](_0x41b8dc);}if(_0x23110>0x0){}return _0x46d107=_0xcdf9a9,_0x46d107;}function getBestCueBall(_0x24548f){let _0x5eab5e=null;for(let _0x3ab57c of _0x24548f){if(_0x3ab57c[BG_WhiteBall]==0x1){if(_0x5eab5e==null)_0x5eab5e=_0x3ab57c;else _0x5eab5e[BG_WhiteScore]<_0x3ab57c[BG_WhiteScore]&&(_0x5eab5e=_0x3ab57c);}}return _0x5eab5e;}function videoHasAudio(_0x39916e){const _0x2b24da=_0xda34;if(_0x39916e['audioTracks']&&_0x39916e[_0x2b24da(0xd5)][_0x2b24da(0xaa)]>0x0)return!![];if(_0x39916e['webkitAudioDecodedByteCount']){if(_0x39916e[_0x2b24da(0xad)]>0x0)return!![];}if(_0x39916e[_0x2b24da(0xc5)])return!![];return![];}
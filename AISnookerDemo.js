(function(_0x523ae5,_0x12667a){const _0x39502f=_0x1f2e,_0x38c26e=_0x523ae5();while(!![]){try{const _0x54f0ba=parseInt(_0x39502f(0xf8))/0x1*(parseInt(_0x39502f(0xdb))/0x2)+parseInt(_0x39502f(0xf1))/0x3+parseInt(_0x39502f(0x13d))/0x4+parseInt(_0x39502f(0x12d))/0x5+-parseInt(_0x39502f(0x112))/0x6+-parseInt(_0x39502f(0x139))/0x7+parseInt(_0x39502f(0xf0))/0x8*(parseInt(_0x39502f(0x10b))/0x9);if(_0x54f0ba===_0x12667a)break;else _0x38c26e['push'](_0x38c26e['shift']());}catch(_0x1de3a2){_0x38c26e['push'](_0x38c26e['shift']());}}}(_0x1789,0xe462e));function _0x1f2e(_0x162f61,_0x5e552b){_0x162f61=_0x162f61-0xcf;const _0x1789ba=_0x1789();let _0x1f2ea2=_0x1789ba[_0x162f61];return _0x1f2ea2;}function readParam(){const _0x4c26e7=_0x1f2e,_0x364f59=window[_0x4c26e7(0xe4)][_0x4c26e7(0xef)],_0x143693=new URLSearchParams(_0x364f59),_0x49c417=_0x143693[_0x4c26e7(0x12c)]('file');_0x49c417&&(VideoFileUrl=_0x49c417);}function loadVideo(_0x6003c5){const _0x4dc16f=_0x1f2e,_0x47216f=document[_0x4dc16f(0x13c)]('fileInput'),_0xb206be=_0x47216f['files'][0x0];document[_0x4dc16f(0x13c)](_0x4dc16f(0x134))[_0x4dc16f(0x118)][_0x4dc16f(0x11e)]=_0x4dc16f(0xff),videoObject[_0x4dc16f(0x118)][_0x4dc16f(0x11e)]='',panelDivE['style'][_0x4dc16f(0x11e)]='',initVideoSize();if(_0x6003c5==''&&_0xb206be){const _0x1b1fe3=URL[_0x4dc16f(0xf5)](_0xb206be);videoObject['src']=_0x1b1fe3,VideoFileUrl=_0x47216f[_0x4dc16f(0x108)][0x0][_0x4dc16f(0x101)];}else{if(_0x6003c5!=''){videoObject[_0x4dc16f(0x132)]=_0x6003c5,VideoFileUrl=_0x6003c5;let _0x22eeae=_0x6003c5[_0x4dc16f(0xf3)]('/');_0x22eeae[_0x4dc16f(0xfe)]>0x0&&(VideoFileUrl=_0x22eeae[_0x22eeae[_0x4dc16f(0xfe)]-0x1]);}}videoObject[_0x4dc16f(0xd5)]();}function afterLoadVideo(){const _0x41c0a1=_0x1f2e,_0x47c6f4=videoObject;VideoDuration=_0x47c6f4[_0x41c0a1(0x131)];if(_0x47c6f4[_0x41c0a1(0x129)]>0x0){(_0x47c6f4[_0x41c0a1(0x129)]!=VideoWidth||_0x47c6f4[_0x41c0a1(0x137)]!=VideoHeight)&&(myLog(_0x41c0a1(0x12a)+_0x47c6f4[_0x41c0a1(0x129)]+_0x41c0a1(0xd1)+_0x47c6f4[_0x41c0a1(0x137)]+'\x20not\x20720P'),setVideoWidthHeight(_0x47c6f4[_0x41c0a1(0x129)],_0x47c6f4[_0x41c0a1(0x137)]),initVideoSize());canvasCapture[_0x41c0a1(0x116)]=_0x47c6f4['videoWidth'],canvasCapture[_0x41c0a1(0x130)]=_0x47c6f4[_0x41c0a1(0x137)];const _0x14903b=_0x47c6f4[_0x41c0a1(0x122)](),_0x5104e6=_0x14903b[_0x41c0a1(0x13b)]()[0x0],_0x351899=_0x5104e6[_0x41c0a1(0x10c)]();_0x351899[_0x41c0a1(0xf7)]?setFrameRate(parseInt(_0x351899[_0x41c0a1(0xf7)])):(setFrameRate(0x1e),myLog(_0x41c0a1(0x11b)));}if(VideoDuration>0x0){let _0x1c4f96=parseInt(VideoDuration);document[_0x41c0a1(0x13c)]('endTime')[_0x41c0a1(0xfc)]=timeSeondToStr(_0x1c4f96);}}function timeSeondToStr(_0x1d4648){const _0x5b4d93=_0x1f2e,_0x4c31a3=Math[_0x5b4d93(0x127)](_0x1d4648/0xe10),_0x5bde51=Math[_0x5b4d93(0x127)](_0x1d4648%0xe10/0x3c),_0xe33715=Math[_0x5b4d93(0x127)](_0x1d4648%0x3c),_0x50f307=String(_0x4c31a3)[_0x5b4d93(0xf2)](0x2,'0')+':'+String(_0x5bde51)[_0x5b4d93(0xf2)](0x2,'0')+':'+String(_0xe33715)['padStart'](0x2,'0');return _0x50f307;}function timeStrToSeond(_0x5367fa){const _0x1df700=_0x1f2e,_0x282bff=_0x5367fa['split'](':');let _0x24bde2=0x0;if(_0x282bff['length']==0x1)_0x24bde2=parseInt(_0x282bff[0x0]);else{if(_0x282bff[_0x1df700(0xfe)]==0x2)_0x24bde2=parseInt(_0x282bff[0x0])*0x3c,_0x24bde2=_0x24bde2+parseInt(_0x282bff[0x1]);else _0x282bff[_0x1df700(0xfe)]>=0x3&&(_0x24bde2=parseInt(_0x282bff[0x0])*0xe10,_0x24bde2=_0x24bde2+parseInt(_0x282bff[0x1])*0x3c,_0x24bde2=_0x24bde2+parseInt(_0x282bff[0x2]));}return _0x24bde2;}function initVideoSize(){const _0x259fe6=_0x1f2e;if(document[_0x259fe6(0x13c)]('initDiv')[_0x259fe6(0x118)][_0x259fe6(0x11e)]!=_0x259fe6(0xff))return;let _0x2c176d,_0x228812;document[_0x259fe6(0xd8)][_0x259fe6(0x12b)]?(_0x2c176d=document[_0x259fe6(0xd8)][_0x259fe6(0x12b)],_0x228812=document[_0x259fe6(0xd8)][_0x259fe6(0x113)]):(_0x2c176d=document['body'][_0x259fe6(0x12b)],_0x228812=document[_0x259fe6(0x114)][_0x259fe6(0x113)]);window[_0x259fe6(0xe1)]&&(_0x228812=window['innerHeight']);_0x228812=_0x228812-panelDivE[_0x259fe6(0x113)];let _0x56997d=_0x2c176d/VideoWidth*VideoHeight;_0x56997d>_0x228812?(playerHeight=_0x228812-0x2,playerWidth=Math[_0x259fe6(0x136)](playerHeight/VideoHeight*VideoWidth)):(playerWidth=_0x2c176d-0x2,playerHeight=Math['round'](playerWidth/VideoWidth*VideoHeight));let _0xa45941=imageE;_0xa45941[_0x259fe6(0x116)]=playerWidth,_0xa45941['height']=playerHeight,_0xa45941[_0x259fe6(0x118)][_0x259fe6(0xfb)]=_0x259fe6(0x10d),_0xa45941['style'][_0x259fe6(0xd4)]=Math['round']((_0x2c176d-playerWidth)/0x2)+'px',pathCanvasE[_0x259fe6(0x116)]=_0xa45941[_0x259fe6(0x116)],pathCanvasE[_0x259fe6(0x130)]=_0xa45941[_0x259fe6(0x130)],pathCanvasE['style'][_0x259fe6(0xfb)]=_0xa45941[_0x259fe6(0x118)][_0x259fe6(0xfb)],pathCanvasE['style'][_0x259fe6(0xd4)]=_0xa45941[_0x259fe6(0x118)][_0x259fe6(0xd4)];let _0x2a94c2=videoObject;_0x2a94c2[_0x259fe6(0x118)][_0x259fe6(0xfb)]=_0xa45941[_0x259fe6(0x118)][_0x259fe6(0xfb)],_0x2a94c2['style'][_0x259fe6(0xd4)]=_0xa45941[_0x259fe6(0x118)][_0x259fe6(0xd4)],_0x2a94c2['width']=playerWidth,_0x2a94c2[_0x259fe6(0x130)]=playerHeight,panelDivE['style'][_0x259fe6(0x116)]=_0x2c176d+'px',panelDivE['style']['top']=playerHeight+'px',imageWidthRatio=playerWidth/VideoWidth,imageHeightRatio=playerHeight/VideoHeight,BallShots['length']>0x0&&ProcStatus==0x3&&PlayShotNo>=0x0&&drawPath();}function updateVideo(){const _0x23e727=_0x1f2e,_0x160613=videoObject;if(videoObject[_0x23e727(0xd0)]<0x2)return;if(ProcStatus==0x1)detectTable();else{if(ProcStatus==0x2){proc();let _0x28f9e8=ProcEndTime-ProcBeginTime,_0x249fb4=videoObject[_0x23e727(0xd7)]-ProcBeginTime,_0x48fbec=Math[_0x23e727(0x136)](_0x249fb4*0x64/_0x28f9e8);document['getElementById']('procPercent')[_0x23e727(0xd2)]=_0x48fbec+_0x23e727(0xfa)+BallShots[_0x23e727(0xfe)];}else{if(ProcStatus==0x3){if(PlayShotStatus==0x1){let _0x45dcef,_0x194f22=-0x1;for(_0x45dcef=0x0;_0x45dcef<BallShots['length'];_0x45dcef++){BallShots[_0x45dcef][BS_BEGIN]-0.1<_0x160613[_0x23e727(0xd7)]&&_0x160613[_0x23e727(0xd7)]<BallShots[_0x45dcef][BS_END]+0.1&&(_0x194f22=_0x45dcef);}if(_0x194f22<0x0)PlayShotNo<BallShots['length']-0x1?(PlayShotNo=PlayShotNo+0x1,myLog(_0x23e727(0x110)+PlayShotNo),showCurrentShot()):playShot();else _0x160613[_0x23e727(0xd7)]>=BallShots[_0x194f22][BS_END]&&(_0x194f22<BallShots[_0x23e727(0xfe)]-0x1?(PlayShotNo=_0x194f22+0x1,myLog('play\x20'+PlayShotNo),showCurrentShot()):playShot());}else{if(TrackCueBallOn==0x1){const _0x35b08f=BallShots[PlayShotNo];if(_0x35b08f[BS_GEN_PATH]==0x1&&_0x35b08f[BS_GEN_PATH_FRAME_TIMES][_0x23e727(0xfe)]>0x0){const _0xa6bac0=_0x35b08f[BS_GEN_PATH_FRAME_TIMES][_0x35b08f[BS_GEN_PATH_FRAME_TIMES][_0x23e727(0xfe)]-0x1],_0x5ef20a=_0x160613[_0x23e727(0xd7)],_0xc1760b=Math['floor'](_0x5ef20a*FRAME_TIME_MULTIPLE);if(Math[_0x23e727(0xfd)](_0xa6bac0[0x0]-_0xc1760b)<=frameInSecondMultiple){detectBall(videoObject,0x0,0x0)==0x0&&checkCueballPath(_0xc1760b,CurrentBallGroups);return;}}_0x35b08f[BS_GEN_PATH]==0x2?TrackCueBallOn=0x0:genCueballPath();}}}}}}function doAnalyze(){const _0x4592d1=_0x1f2e;ProcBeginTime=timeStrToSeond(document[_0x4592d1(0x13c)]('beginTime')[_0x4592d1(0xfc)]),ProcEndTime=timeStrToSeond(document[_0x4592d1(0x13c)](_0x4592d1(0xe2))[_0x4592d1(0xfc)]);ProcEndTime>VideoDuration&&(ProcEndTime=parseInt(VideoDuration));if(ProcBeginTime>=ProcEndTime){alert(_0x4592d1(0x10a)+ProcBeginTime+_0x4592d1(0xcf)+ProcEndTime);return;}videoObject[_0x4592d1(0xde)]=![],imageE['style'][_0x4592d1(0x11e)]='',pathCanvasE[_0x4592d1(0x118)][_0x4592d1(0x11e)]='',contextImage['drawImage'](videoObject,0x0,0x0,imageE[_0x4592d1(0x116)],imageE['height']),document['getElementById'](_0x4592d1(0xec))[_0x4592d1(0x118)][_0x4592d1(0x11e)]=_0x4592d1(0xff),document[_0x4592d1(0x13c)]('step2')[_0x4592d1(0x118)][_0x4592d1(0x11e)]='',resetGlobalVariables(),initFullLetterBox(),document[_0x4592d1(0x13c)]('detectTablePercent')[_0x4592d1(0xd2)]='0%',document[_0x4592d1(0x13c)]('nextStepButton')[_0x4592d1(0xdd)]=!![],ProcStatus=0x1,model==null&&loadModel(0x0),tableDetectScore=-0x1,tableDetectTotal=0x0,pocketModel==null?loadPocketModel(detectTable):detectTable();}function detectTable(){const _0x511b8e=_0x1f2e;if(tableDetectTotal==0x0){if(parseInt(videoObject[_0x511b8e(0xd7)])!=ProcBeginTime){videoObject[_0x511b8e(0xd7)]=ProcBeginTime;return;}}let _0x329f21=videoObject[_0x511b8e(0xd7)];const _0x1883a2=Math['floor'](_0x329f21*FRAME_TIME_MULTIPLE);let _0x311084=doDetectTable(_0x1883a2);if(_0x311084[_0x511b8e(0xfe)]==0x2&&(tableDetectScore<0x0||tableDetectScore>_0x311084[0x1])){tableDetectScore=_0x311084[0x1],contextImage['drawImage'](videoObject,0x0,0x0,imageE[_0x511b8e(0x116)],imageE[_0x511b8e(0x130)]),tableLineDef[0x0]=_0x311084[0x0][TAB_TOP_LINE][0x0],tableLineDef[0x1]=_0x311084[0x0][TAB_TOP_LINE][0x1],tableLineDef[0x2]=_0x311084[0x0][TAB_TOP_LINE][0x2],tableLineDef[0x3]=_0x311084[0x0][TAB_TOP_LINE][0x3],tableLineDef[0x4]=_0x311084[0x0][TAB_BOTTOM_LINE][0x2],tableLineDef[0x5]=_0x311084[0x0][TAB_BOTTOM_LINE][0x3],tableLineDef[0x6]=_0x311084[0x0][TAB_BOTTOM_LINE][0x0],tableLineDef[0x7]=_0x311084[0x0][TAB_BOTTOM_LINE][0x1];for(let _0x4ff7ca=0x0;_0x4ff7ca<=TAB_LEFT_LINE;_0x4ff7ca++){contextImage[_0x511b8e(0xda)]=_0x511b8e(0x10e),contextImage['lineWidth']=0x2,contextImage[_0x511b8e(0xe9)](),contextImage[_0x511b8e(0x121)](Math[_0x511b8e(0x136)](_0x311084[0x0][_0x4ff7ca][0x0]*imageWidthRatio),Math[_0x511b8e(0x136)](_0x311084[0x0][_0x4ff7ca][0x1]*imageHeightRatio)),contextImage[_0x511b8e(0xf9)](Math[_0x511b8e(0x136)](_0x311084[0x0][_0x4ff7ca][0x2]*imageWidthRatio),Math[_0x511b8e(0x136)](_0x311084[0x0][_0x4ff7ca][0x3]*imageHeightRatio)),contextImage[_0x511b8e(0xe0)]();}}tableDetectTotal++,document[_0x511b8e(0x13c)](_0x511b8e(0x106))[_0x511b8e(0xd2)]=Math[_0x511b8e(0xe6)](tableDetectTotal*0xa,0x64)+'%';if(tableDetectTotal>=0x5&&tableDetectScore>=0x0){document[_0x511b8e(0x13c)](_0x511b8e(0x106))[_0x511b8e(0xd2)]=_0x511b8e(0x128),document[_0x511b8e(0x13c)](_0x511b8e(0x109))[_0x511b8e(0xdd)]=![];return;}_0x329f21=_0x329f21+0xa;if(_0x329f21<VideoDuration)videoObject['currentTime']=_0x329f21;else{document[_0x511b8e(0x13c)](_0x511b8e(0x106))[_0x511b8e(0xd2)]=_0x511b8e(0x128),document[_0x511b8e(0x13c)]('nextStepButton')['disabled']=![];return;}}function goStep2(){const _0x303a77=_0x1f2e;initTableLines(),ProcStatus=0x2,document[_0x303a77(0x13c)]('step2')[_0x303a77(0x118)][_0x303a77(0x11e)]='none',document[_0x303a77(0x13c)](_0x303a77(0x115))['style'][_0x303a77(0x11e)]='',LastProcTime=0x0,document['getElementById'](_0x303a77(0xeb))[_0x303a77(0xd2)]=_0x303a77(0x119),parseInt(videoObject[_0x303a77(0xd7)])!=ProcBeginTime?videoObject[_0x303a77(0xd7)]=ProcBeginTime:proc();}function proc(){const _0x51442e=_0x1f2e;if(detectBall(videoObject,0x1,0x0)!=0x0)return;const _0x70a28a=videoObject,_0x1a5097=_0x70a28a[_0x51442e(0xd7)],_0x52c8a1=Math[_0x51442e(0x127)](_0x1a5097*FRAME_TIME_MULTIPLE);let _0x329e38,_0x59d5bd,_0x75c104,_0x3b6c33=MAX_SCAN_GAP,_0x25317b,_0x506152=null;BallShots[_0x51442e(0xfe)]>0x0&&(_0x506152=BallShots[BallShots[_0x51442e(0xfe)]-0x1]);CurrentProcTime=_0x52c8a1;if(LastBigJumpScan){LastBigJumpScan=![];if(hasBallChange()){_0x329e38=LastBigJumpScanTime-BIG_JUMP_SCAN_GAP+MAX_SCAN_GAP,BigJumpFail++,LastBigJumpScanTime=LastBigJumpScanTime+MIN_SCAN_GAP,BigJumpCache=[_0x52c8a1,CurrentBallGroups,CurrentCueSticks],_0x70a28a[_0x51442e(0xd7)]=Math[_0x51442e(0x136)](_0x329e38/MIN_SCAN_GAP)*MIN_SCAN_GAP;return;}else BigJumpCache=null;}let _0x28d03b=checkWatchBall(_0x52c8a1);const _0x4a6cdd=_0x28d03b['length'];if(ShotStatus==0x0){FrameEndShotPos>0x0&&BallShots[_0x51442e(0xfe)]>LastCheckFrameBeginPos&&BallShots['length']-FrameEndShotPos<0xa&&(LastCheckFrameBeginPos=BallShots[_0x51442e(0xfe)],checkFrameBeginBalls()&&(IsFrameBegin=0x1));let _0x3de044=0x0;if(TempShotBeginGoneGroups['length']>0x0){let _0x24c851=[];for(_0x75c104 of TempShotBeginGoneGroups){if(_0x52c8a1-_0x75c104[BG_GoneTime]>FRAME_TIME_MULTIPLE)continue;_0x24c851['push'](_0x75c104);}TempShotBeginGoneGroups=_0x24c851;}if(ShotCacheGroups[_0x51442e(0xfe)]>0x0){let _0x4718fd=[],_0x3f6561=_0x52c8a1;for(_0x75c104 of WatchBallGroups){_0x3f6561>_0x75c104[BG_LastTime]&&_0x75c104[BG_WhiteBall]==0x1&&(_0x3f6561=_0x75c104[BG_LastTime]);}for(_0x75c104 of TempShotBeginGoneGroups){_0x3f6561>_0x75c104[BG_LastTime]&&(_0x3f6561=_0x75c104[BG_LastTime]);}for(_0x75c104 of _0x28d03b){_0x3f6561>_0x75c104[BG_LastTime]&&(_0x3f6561=_0x75c104[BG_LastTime]);}for(_0x75c104 of ShotCacheGroups){if(_0x75c104[0x0]<_0x3f6561)continue;_0x4718fd['push'](_0x75c104);}ShotCacheGroups=_0x4718fd;}ShotCacheGroups[_0x51442e(0x107)]([_0x52c8a1,CurrentBallGroups]);if(_0x28d03b['length']>0x0){let _0x3c29d8,_0x5070cb=0x0;for(_0x75c104 of _0x28d03b){_0x75c104[BG_Found]=0x0,_0x3c29d8=locateGroup(TempShotBeginGoneGroups,_0x75c104[BG_CenterX],_0x75c104[BG_CenterY]);if(_0x3c29d8!=null){if(lineLength(_0x75c104[BG_CenterX],_0x75c104[BG_CenterY],_0x3c29d8[BG_CenterX],_0x3c29d8[BG_CenterY])<_0x75c104[BG_Radius]&&diffHue(_0x75c104[BG_AvgHue],_0x3c29d8[BG_AvgHue])<=TableClothHueRange){myLog(_0x52c8a1+_0x51442e(0xf4)+_0x75c104[BG_CenterX]+','+_0x75c104[BG_CenterY]+'\x20hue='+_0x75c104[BG_AvgHue]+_0x3c29d8[BG_CenterX]+','+_0x3c29d8[BG_CenterY]+_0x51442e(0x120)+_0x3c29d8[BG_AvgHue]),_0x75c104[BG_Found]=0x1,_0x5070cb=0x1;continue;}}if(_0x75c104<SCORE_SURE_BALL){_0x3c29d8=locateGroupRect(_0x28d03b,_0x75c104[BG_rect],_0x75c104);if(_0x3c29d8!=null){if(_0x3c29d8[BG_Found]==0x0){_0x75c104[BG_WhiteBall]==0x0||_0x3c29d8[BG_WhiteBall]==0x1?(myLog(_0x52c8a1+_0x51442e(0x133)+_0x75c104[BG_CenterX]+','+_0x75c104[BG_CenterY]+_0x51442e(0x120)+_0x75c104[BG_AvgHue]+_0x3c29d8[BG_CenterX]+','+_0x3c29d8[BG_CenterY]+_0x51442e(0x120)+_0x3c29d8[BG_AvgHue]),_0x75c104[BG_Found]=0x1):(myLog(_0x52c8a1+_0x51442e(0x133)+_0x3c29d8[BG_CenterX]+','+_0x3c29d8[BG_CenterY]+_0x51442e(0x120)+_0x3c29d8[BG_AvgHue]+_0x75c104[BG_CenterX]+','+_0x75c104[BG_CenterY]+_0x51442e(0x120)+_0x75c104[BG_AvgHue]),_0x3c29d8[BG_Found]=0x1);_0x5070cb=0x1;continue;}}if(_0x75c104[BG_WhiteBall]==0x0&&lastShotBallChange()==![]){if(locateGroup(CurrentCueSticks,_0x75c104[BG_CenterX],_0x75c104[BG_CenterY])!=null){myLog(_0x52c8a1+_0x51442e(0xe5)+_0x75c104[BG_CenterX]+','+_0x75c104[BG_CenterY]+_0x51442e(0x120)+_0x75c104[BG_AvgHue]),_0x75c104[BG_Found]=0x1,_0x5070cb=0x1;continue;}else{myLog(_0x52c8a1+_0x51442e(0x100)+_0x75c104[BG_CenterX]+','+_0x75c104[BG_CenterY]+_0x51442e(0x120)+_0x75c104[BG_AvgHue]),_0x75c104[BG_Found]=0x2,_0x5070cb=0x1;continue;}}}}if(_0x5070cb==0x1){let _0x287af0=[];for(_0x75c104 of _0x28d03b){if(_0x75c104[BG_Found]==0x0)_0x287af0[_0x51442e(0x107)](_0x75c104);else _0x75c104[BG_Found]==0x2&&FastMoveGroups[_0x51442e(0x107)](_0x75c104);}_0x28d03b=_0x287af0;}}if(_0x28d03b['length']>0x0){for(_0x75c104 of _0x28d03b){TempShotBeginGoneGroups[_0x51442e(0x107)](_0x75c104);}TempShotBeginGoneGroups[_0x51442e(0xfe)]>0x1&&(_0x3de044=0x1,ShotBeginMoveTime=TempShotBeginGoneGroups[0x0][BG_GoneTime],myLog(BallShots[_0x51442e(0xfe)]+0x1+_0x51442e(0x111)+ShotBeginMoveTime+_0x51442e(0x105)+TempShotBeginGoneGroups[_0x51442e(0xfe)]),ShotBeginMoveTime=checkFastMoveGroups(ShotBeginMoveTime),ShotBeginMoveTime==_0x52c8a1&&(ShotBeginMoveTime=ShotBeginMoveTime-HALF_MAX_SCAN_GAP_FRAME_TIME));}if(_0x3de044==0x0&&CurrentNewBalls['length']>0x0){let _0x5fcae=null;TempShotBeginGoneGroups[_0x51442e(0xfe)]>0x0&&(_0x5fcae=TempShotBeginGoneGroups[0x0]);for(_0x75c104 of CurrentNewBalls){if(_0x5fcae!=null){let _0x557a5f=locateGroup(TempShotBeginGoneGroups,_0x75c104[BG_CenterX],_0x75c104[BG_CenterY]);if(_0x557a5f!=null){if(_0x557a5f[BG_Score]<SCORE_SURE_BALL){myLog(_0x52c8a1+_0x51442e(0x11c)+_0x557a5f[BG_CenterX]+','+_0x557a5f[BG_CenterY]+_0x51442e(0x12f)+_0x75c104[BG_CenterX]+','+_0x75c104[BG_CenterY]);continue;}}if(diffHue(_0x75c104[BG_AvgHue],_0x5fcae[BG_AvgHue])<=TableClothHueRange&&lineLength(_0x75c104[BG_CenterX],_0x75c104[BG_CenterY],_0x5fcae[BG_CenterX],_0x5fcae[BG_CenterY])<(_0x5fcae[BG_Radius]+_0x75c104[BG_Radius])*0x6){_0x3de044=0x1,ShotBeginMoveTime=_0x52c8a1,ShotBeginMoveTime=checkFastMoveGroups(ShotBeginMoveTime),myLog(BallShots['length']+0x1+'\x20begin:\x20'+ShotBeginMoveTime+',\x20gone='+_0x5fcae[BG_CenterX]+','+_0x5fcae[BG_CenterY]+_0x51442e(0x12f)+_0x75c104[BG_CenterX]+','+_0x75c104[BG_CenterY]+_0x51442e(0x117)+_0x75c104[BG_Score]);break;}}if(_0x75c104[BG_WhiteBall]==0x1&&CurrentCueSticks[_0x51442e(0xfe)]>0x0){if(_0x5fcae!=null){if(_0x5fcae[BG_WhiteBall]==0x1&&cueStickPointAt(_0x5fcae,_0x75c104)){_0x3de044=0x1,ShotBeginMoveTime=_0x52c8a1,ShotBeginMoveTime=checkFastMoveGroups(ShotBeginMoveTime),myLog(BallShots[_0x51442e(0xfe)]+0x1+_0x51442e(0x111)+ShotBeginMoveTime+_0x51442e(0x105)+_0x5fcae[BG_CenterX]+','+_0x5fcae[BG_CenterY]+_0x51442e(0x12f)+_0x75c104[BG_CenterX]+','+_0x75c104[BG_CenterY]+_0x51442e(0x138));break;}}}}}if(_0x3de044==0x1){NewBallShot=newBallShot();for(_0x75c104 of TempShotBeginGoneGroups){_0x75c104[BG_WhiteBall]==0x1&&NewBallShot[BS_CUE_BALL_MOVE][_0x51442e(0x107)](_0x75c104);}NewBallShot[BS_BEGIN_BALL_TOTAL]=CurrentBallGroups['length'],NewBallShot[BS_FIRST_CUE_STICK]=CurrentCueSticks;for(_0x75c104 of _0x28d03b){_0x75c104[BG_WhiteBall]==0x0&&_0x75c104[BG_Score]>=SCORE_SURE_BALL&&NewBallShot[BS_OTHER_BALL_MOVE_TOTAL]++;}LastBallMoveTime=_0x52c8a1,FastMoveGroups=[],ShotStatus=0x1,_0x3b6c33=DOUBLE_MAX_SCAN_GAP,TempShotBeginGoneGroups=[],contextImage['drawImage'](videoObject,0x0,0x0,imageE[_0x51442e(0x116)],imageE['height']),contextPath[_0x51442e(0x124)](0x0,0x0,pathCanvasE[_0x51442e(0x116)],pathCanvasE['height']);}else{if(_0x4a6cdd>0x0||CurrentNewBalls[_0x51442e(0xfe)]>0x0)_0x3b6c33=MIN_SCAN_GAP;else _0x1a5097>LastBigJumpScanTime&&TempShotBeginGoneGroups[_0x51442e(0xfe)]==0x0&&_0x1a5097+BIG_JUMP_SCAN_GAP<VideoDuration&&(_0x3b6c33=BIG_JUMP_SCAN_GAP,LastBigJumpScan=!![],BigJumpTotal++);}}else{let _0x1192f6=0x0;ShotCacheGroups['push']([_0x52c8a1,CurrentBallGroups]);NewBallShot[BS_FIRST_CUE_STICK][_0x51442e(0xfe)]==0x0&&CurrentCueSticks[_0x51442e(0xfe)]>0x0&&_0x52c8a1-ShotBeginMoveTime<=FRAME_TIME_MULTIPLE&&(myLog(_0x52c8a1+_0x51442e(0xed)+CurrentCueSticks[_0x51442e(0xfe)]),NewBallShot[BS_FIRST_CUE_STICK]=CurrentCueSticks);for(_0x75c104 of _0x28d03b){if(_0x75c104[BG_WhiteBall]==0x1)NewBallShot[BS_CUE_BALL_MOVE][_0x51442e(0x107)](_0x75c104);else _0x75c104[BG_WhiteBall]==0x0&&_0x75c104[BG_Score]>=SCORE_SURE_BALL&&NewBallShot[BS_OTHER_BALL_MOVE_TOTAL]++;}if(_0x28d03b[_0x51442e(0xfe)]>0x0||CurrentNewBalls[_0x51442e(0xfe)]>0x0)LastBallMoveTime=_0x52c8a1,_0x3b6c33=DOUBLE_MAX_SCAN_GAP;else _0x52c8a1-LastBallMoveTime>=SHOT_END_NO_MOVE_TIME&&(_0x1192f6=0x1);(_0x1a5097+_0x3b6c33+0.1>=ProcEndTime||_0x1a5097+_0x3b6c33>VideoDuration-0x1)&&(_0x1192f6=0x1);_0x1192f6==0x1&&_0x52c8a1-ShotBeginMoveTime<0x190&&(NewBallShot[BS_CUE_BALL_MOVE][_0x51442e(0xfe)]==0x0||NewBallShot[BS_CUE_BALL_MOVE][_0x51442e(0xfe)]<=0x1&&NewBallShot[BS_OTHER_BALL_MOVE_TOTAL]==0x0)&&(lastShotBallChange()==![]&&(myLog(BallShots['length']+0x1+_0x51442e(0x12e)+ShotBeginMoveTime+'-'+_0x52c8a1+_0x51442e(0x105)+NewBallShot[BS_CUE_BALL_MOVE][_0x51442e(0xfe)]+_0x51442e(0x13a)+NewBallShot[BS_OTHER_BALL_MOVE_TOTAL]),ShotStatus=0x0,ShotBeginMoveTime=0x0,_0x1192f6=0x0,_0x3b6c33=MAX_SCAN_GAP));if(_0x1192f6==0x1){let _0x1a62a4=NewBallShot;_0x1a62a4[BS_BEGIN_MOVE]=ShotBeginMoveTime/FRAME_TIME_MULTIPLE,_0x1a62a4[BS_BEGIN]=Math[_0x51442e(0x10f)](_0x1a62a4[BS_BEGIN_MOVE]-SHOT_BEGIN_DELAY_TIME,0x0),_0x1a62a4[BS_END_MOVE]=_0x1a5097;_0x1a5097+_0x3b6c33+0.1>=ProcEndTime||_0x1a5097+_0x3b6c33>VideoDuration-0x1?_0x1a62a4[BS_END]=_0x1a5097:_0x1a62a4[BS_END]=Math[_0x51442e(0xe6)](_0x1a5097+SHOT_END_DELAY_TIME,VideoDuration);_0x1a62a4[BS_END_BALL_TOTAL]=CurrentBallGroups[_0x51442e(0xfe)],_0x1a62a4[BS_BALL_GROUPS]=ShotCacheGroups;BigJumpCache!=null&&(ShotBeginMoveTime<BigJumpCache[0x0]&&BigJumpCache[0x0]<_0x52c8a1&&(locateCacheGroups(_0x1a62a4,BigJumpCache[0x0],frameInSecondMultiple)==null&&(_0x1a62a4[BS_BALL_GROUPS][_0x51442e(0x107)]([BigJumpCache[0x0],BigJumpCache[0x1]]),_0x1a62a4[BS_BALL_GROUPS][_0x51442e(0x135)]((_0x5ee995,_0x1aeda5)=>_0x5ee995[0x0]-_0x1aeda5[0x0]),BigJumpCache=null)));_0x506152!=null&&(_0x1a62a4[BS_BEGIN]<_0x506152[BS_END]&&(_0x329e38=_0x506152[BS_END]+0.1,myLog(BallShots[_0x51442e(0xfe)]+0x1+_0x51442e(0x126)+_0x1a62a4[BS_BEGIN]+_0x51442e(0xea)+_0x329e38[_0x51442e(0xd3)](0x2)),_0x1a62a4[BS_BEGIN]=_0x329e38));myLog(BallShots['length']+0x1+_0x51442e(0xf6)+ShotBeginMoveTime+'-'+_0x52c8a1+',\x20gone='+NewBallShot[BS_CUE_BALL_MOVE][_0x51442e(0xfe)]+_0x51442e(0xd9)+_0x1a62a4[BS_END_BALL_TOTAL]),BallShots[_0x51442e(0x107)](_0x1a62a4);if(_0x1a62a4[BS_END_BALL_TOTAL]-_0x1a62a4[BS_BEGIN_BALL_TOTAL]>0x2&&_0x1a62a4[BS_END_BALL_TOTAL]>FRAME_END_BALL_TOTAL&&(BallShots[_0x51442e(0xfe)]-FrameEndShotPos>0xa||FrameEndShotPos==0x0))for(_0x329e38=BallShots[_0x51442e(0xfe)]-0x2;_0x329e38>0x0&&_0x329e38>=BallShots['length']-0x6;_0x329e38--){if(BallShots[_0x329e38][BS_BEGIN_BALL_TOTAL]<=FRAME_END_BALL_TOTAL+0x1&&BallShots[_0x329e38][BS_END_BALL_TOTAL]<=FRAME_END_BALL_TOTAL&&BallShots[_0x329e38][BS_END_BALL_TOTAL]<_0x1a62a4[BS_END_BALL_TOTAL]-0x2){if(BallShots[_0x329e38-0x1][BS_BEGIN_BALL_TOTAL]<=FRAME_END_BALL_TOTAL+0x2&&BallShots[_0x329e38-0x1][BS_END_BALL_TOTAL]<=FRAME_END_BALL_TOTAL+0x1&&BallShots[_0x329e38-0x1][BS_END_BALL_TOTAL]<_0x1a62a4[BS_END_BALL_TOTAL]-0x2){FrameEndShotPos=_0x329e38,LastCheckFrameBeginPos=0x0,myLog(_0x51442e(0x125)+FrameEndShotPos);break;}}}if(IsFrameBegin==0x1&&_0x1a62a4[BS_END_BALL_TOTAL]-_0x1a62a4[BS_BEGIN_BALL_TOTAL]>=0x2&&_0x1a62a4[BS_END_BALL_TOTAL]>0xa&&NewBallShot[BS_CUE_BALL_MOVE][_0x51442e(0xfe)]>0x5&&FrameEndShotPos>0x0){myLog(BallShots['length']+0x1+_0x51442e(0x13e)+FrameEndShotPos);let _0x65b3fe=[];for(_0x329e38=0x0;_0x329e38<BallShots[_0x51442e(0xfe)];_0x329e38++){_0x329e38<=FrameEndShotPos&&_0x65b3fe[_0x51442e(0x107)](BallShots[_0x329e38]);}_0x65b3fe['push'](_0x1a62a4),BallShots=_0x65b3fe,FrameEndShotPos=0x0;}showProgress(),ShotStatus=0x0,ShotBeginMoveTime=0x0,ShotCacheGroups=[[_0x52c8a1,CurrentBallGroups]],IsFrameBegin=0x0;if(_0x1192f6==0x1){WatchBallGroups=[],LastShotBallGroups=[];for(_0x75c104 of CurrentBallGroups){_0x75c104[BG_FirstTime]=_0x52c8a1,_0x75c104[BG_LastTime]=_0x52c8a1,WatchBallGroups[_0x51442e(0x107)](_0x75c104),_0x75c104[BG_Score]>=SCORE_SURE_BALL&&LastShotBallGroups[_0x51442e(0x107)](_0x75c104);}}}}_0x329e38=_0x70a28a[_0x51442e(0xd7)]+_0x3b6c33,_0x329e38+0.1>=ProcEndTime||_0x329e38>VideoDuration-0x1?(myLog('Jump\x20fail\x20=\x20'+BigJumpFail+'/'+BigJumpTotal+'\x20hit='+BigJumpCacheHit),stopProc()):(_0x70a28a[_0x51442e(0xd7)]=Math['round'](_0x329e38/MIN_SCAN_GAP)*MIN_SCAN_GAP,LastBigJumpScan&&(LastBigJumpScanTime=_0x70a28a['currentTime'])),LastProcTime=_0x1a5097;}function _0x1789(){const _0x5a5cbb=['\x20cue\x20stick','10591476WZjKqr',',\x20other=','getVideoTracks','getElementById','901940mmPQwn',':\x20frame\x20begin,\x20end=','\x20>=\x20','readyState','\x20x\x20','innerHTML','toFixed','left','load','lineWidth','currentTime','documentElement',',\x20ball=','strokeStyle','28RoLSDr','white','disabled','controls',',\x20try\x20next\x20t=','stroke','innerHeight','endTime','arc','location','\x20cue\x20stick\x20gone:\x20','min','drawImage','navigate','beginPath','\x20->\x20','procPercent','step1',':\x20set\x20cue\x20stick\x20len=','BallShot','search','376mRbvEX','2260437ckoiNj','padStart','split','\x20Dup\x20gone:\x20','createObjectURL','\x20stop:\x20','frameRate','26038kTkBcn','lineTo','%\x20-\x20','top','value','abs','length','none','\x20fast\x20move\x20gone:\x20','name','BS_CUE_BALL_MOVE=0','Last\x20cue\x20ball\x20t=','play',',\x20gone=','detectTablePercent','push','files','nextStepButton','Error:\x20','351099KAylFs','getSettings','0px','red','max','play\x20','\x20begin:\x20','8280048tfCIcQ','clientHeight','body','step3','width','\x20score=','style','0%\x20-\x200','next','unknown\x20fps\x20set\x2030','\x20overlap\x20gone=','Play','display','PlayButton','\x20hue=','moveTo','captureStream','pause','clearRect','frame\x20end\x20pos=','\x20Change\x20begin:\x20','floor','100%','videoWidth','Video\x20','clientWidth','get','3257665ZgHJFp','\x20Invalid\x20shot:\x20',',\x20new=','height','duration','src','\x20overlap\x20gone:\x20','initDiv','sort','round','videoHeight'];_0x1789=function(){return _0x5a5cbb;};return _0x1789();}function showProgress(){const _0x32c1de=_0x1f2e;if(BallShots['length']<=0x0)return;PlayShotNo=BallShots[_0x32c1de(0xfe)]-0x1,drawPath();}function drawPath(){const _0x4c21ca=_0x1f2e;contextPath[_0x4c21ca(0x124)](0x0,0x0,pathCanvasE[_0x4c21ca(0x116)],pathCanvasE['height']);const _0x59f765=BallShots[PlayShotNo];if(_0x59f765[BS_GEN_PATH]==0x2&&_0x59f765[BS_CUE_BALL_PATH][_0x4c21ca(0xfe)]>0x0){let _0x5b85f8=getSmoothPath(_0x59f765);contextPath['beginPath'](),contextPath[_0x4c21ca(0xd6)]=0x1,contextPath[_0x4c21ca(0xda)]=_0x4c21ca(0xdc);let _0x24b952,_0x511bbe,_0x4c9ce0=null;for(_0x24b952=0x0;_0x24b952<_0x5b85f8[_0x4c21ca(0xfe)];_0x24b952++){_0x511bbe=_0x5b85f8[_0x24b952];if(_0x24b952==0x0||_0x511bbe[BG_PathBegin]==0x1)contextPath[_0x4c21ca(0x121)](Math[_0x4c21ca(0x136)](_0x511bbe[BG_CenterX]*imageWidthRatio),Math[_0x4c21ca(0x136)](_0x511bbe[BG_CenterY]*imageHeightRatio));else{if(_0x511bbe[BG_PathBegin]==0x0){if(_0x4c9ce0!=null){if(Math[_0x4c21ca(0xfd)](_0x511bbe[BG_CenterX]-_0x4c9ce0[BG_CenterX])<=0x1&&Math[_0x4c21ca(0xfd)](_0x511bbe[BG_CenterY]-_0x4c9ce0[BG_CenterY])<=0x1)continue;}contextPath[_0x4c21ca(0xf9)](Math[_0x4c21ca(0x136)](_0x511bbe[BG_CenterX]*imageWidthRatio),Math['round'](_0x511bbe[BG_CenterY]*imageHeightRatio)),_0x4c9ce0=_0x511bbe;}}}contextPath['stroke']();}else{if(_0x59f765[BS_GEN_PATH]==0x1){contextPath[_0x4c21ca(0xe9)](),contextPath['lineWidth']=0x1,contextPath['strokeStyle']=_0x4c21ca(0xdc);let _0x50f2cc,_0x4166cd,_0x3072a6=null;for(_0x50f2cc=0x0;_0x50f2cc<_0x59f765[BS_CUE_BALL_PATH][_0x4c21ca(0xfe)];_0x50f2cc++){_0x4166cd=_0x59f765[BS_CUE_BALL_PATH][_0x50f2cc];if(_0x50f2cc==0x0||_0x4166cd[BG_PathBegin]==0x1)contextPath[_0x4c21ca(0x121)](Math[_0x4c21ca(0x136)](_0x4166cd[BG_CenterX]*imageWidthRatio),Math[_0x4c21ca(0x136)](_0x4166cd[BG_CenterY]*imageHeightRatio));else{if(_0x4166cd[BG_PathBegin]==0x0){if(_0x3072a6!=null){if(Math['abs'](_0x4166cd[BG_CenterX]-_0x3072a6[BG_CenterX])<=0x1&&Math[_0x4c21ca(0xfd)](_0x4166cd[BG_CenterY]-_0x3072a6[BG_CenterY])<=0x1)continue;}contextPath[_0x4c21ca(0xf9)](Math[_0x4c21ca(0x136)](_0x4166cd[BG_CenterX]*imageWidthRatio),Math[_0x4c21ca(0x136)](_0x4166cd[BG_CenterY]*imageHeightRatio)),_0x3072a6=_0x4166cd;}}}contextPath[_0x4c21ca(0xe0)]();for(_0x50f2cc=0x0;_0x50f2cc<_0x59f765[BS_CUE_BALL_PATH][_0x4c21ca(0xfe)];_0x50f2cc++){_0x4166cd=_0x59f765[BS_CUE_BALL_PATH][_0x50f2cc];if(_0x50f2cc>0x0&&_0x4166cd[BG_PathBegin]==0x1){if(_0x50f2cc<_0x59f765[BS_CUE_BALL_PATH]['length']-0x1){if(_0x59f765[BS_CUE_BALL_PATH][_0x50f2cc+0x1][BG_PathBegin]==0x0)continue;}contextPath[_0x4c21ca(0xe9)](),contextPath['arc'](Math[_0x4c21ca(0x136)](_0x4166cd[BG_CenterX]*imageWidthRatio),Math[_0x4c21ca(0x136)](_0x4166cd[BG_CenterY]*imageHeightRatio),0x3,0x0,0x2*Math['PI'],![]),contextPath[_0x4c21ca(0xe0)]();}}}else{if(_0x59f765[BS_END_MOVE]>0x0&&_0x59f765[BS_CUE_BALL_MOVE][_0x4c21ca(0xfe)]>0x0&&_0x59f765[BS_BALL_GROUPS][_0x4c21ca(0xfe)]>0x0){let _0x1784d7=_0x59f765[BS_BALL_GROUPS][_0x59f765[BS_BALL_GROUPS][_0x4c21ca(0xfe)]-0x1][0x1];for(let _0xbc3ea8 of _0x1784d7){if(_0xbc3ea8[BG_WhiteBall]==0x1&&_0xbc3ea8[BG_WhiteScore]>=SCORE_SURE_BALL){contextPath['beginPath'](),contextPath[_0x4c21ca(0xd6)]=0x1,contextPath[_0x4c21ca(0xda)]='white',contextPath[_0x4c21ca(0xe3)](Math['round'](_0xbc3ea8[BG_CenterX]*imageWidthRatio),Math[_0x4c21ca(0x136)](_0xbc3ea8[BG_CenterY]*imageHeightRatio),Math[_0x4c21ca(0x136)](_0xbc3ea8[BG_Radius]*imageWidthRatio),0x0,0x2*Math['PI'],![]),contextPath[_0x4c21ca(0xe0)]();break;}}}}}}function stopProc(){const _0x54e6ba=_0x1f2e;ProcStatus=0x3,document[_0x54e6ba(0x13c)](_0x54e6ba(0x115))[_0x54e6ba(0x118)][_0x54e6ba(0x11e)]=_0x54e6ba(0xff),document['getElementById'](_0x54e6ba(0xe8))[_0x54e6ba(0x118)]['display']='',contextImage[_0x54e6ba(0x124)](0x0,0x0,imageE[_0x54e6ba(0x116)],imageE[_0x54e6ba(0x130)]),PlayShotNo=0x0,showCurrentShot();}function delayClearImage(){const _0x2ec5c4=_0x1f2e;clearImageTimer=null,contextImage['clearRect'](0x0,0x0,imageE['width'],imageE[_0x2ec5c4(0x130)]);}function finishCueballPath(_0x220826){TrackCueBallOn=0x0,clearImageTimer=setTimeout(delayClearImage,0xc8),videoObject['currentTime']=_0x220826[BS_BEGIN];if(AfterTrackAction==0x1)prevShot();else{if(AfterTrackAction==0x2)nextShot();else AfterTrackAction==0x3&&playShot();}AfterTrackAction=0x0;}function genCueballPath(){const _0x12f974=_0x1f2e;if(PlayShotNo<0x0||PlayShotNo>=BallShots[_0x12f974(0xfe)])return;let _0x294d3d=BallShots[PlayShotNo];if(_0x294d3d[BS_GEN_PATH]>=0x2)return;if(_0x294d3d[BS_CUE_BALL_MOVE][_0x12f974(0xfe)]<=0x0||_0x294d3d[BS_BALL_GROUPS]['length']<0x2){myLog(_0x12f974(0x102)),_0x294d3d[BS_GEN_PATH]=0x2,finishCueballPath(_0x294d3d);return;}clearImageTimer!=null&&(clearTimeout(clearImageTimer),clearImageTimer=null);contextImage[_0x12f974(0xe7)](videoObject,0x0,0x0,imageE['width'],imageE[_0x12f974(0x130)]);_0x294d3d[BS_GEN_PATH]==0x0&&(_0x294d3d[BS_GEN_PATH]=0x1,_0x294d3d[BS_CUE_BALL_PATH]=[],_0x294d3d[BS_GEN_PATH_FRAME_TIMES]=[]);_0x294d3d[BS_CUE_BALL_PATH]=[];for(let _0x3676cd of _0x294d3d[BS_BALL_GROUPS]){let _0x1ab21d=null;for(g of _0x3676cd[0x1]){if(g[BG_WhiteBall]==0x1){if(_0x1ab21d==null)_0x1ab21d=g;else _0x1ab21d[BG_WhiteScore]<g[BG_WhiteScore]&&(_0x1ab21d=g);}}_0x1ab21d!=null&&(_0x294d3d[BS_GEN_PATH_FRAME_TIMES]['push']([_0x3676cd[0x0],'init']),pushInitWhiteBallPath(_0x294d3d,_0x1ab21d,_0x3676cd[0x0]));}connectCueBallPath(_0x294d3d),drawPath(),addCueBallCheckFrame(_0x294d3d);}function addCueBallCheckFrame(_0x16a130){const _0x38a137=_0x1f2e;let _0x49afe1,_0x14fd62,_0x4ec588,_0x424268=0x0,_0x3126d7,_0x1c56ac=0x0,_0x222114,_0x34964f=frameInSecondMultiple+frameInSecondMultiple/0x2,_0x59fccf=_0x16a130[BS_CUE_BALL_PATH][_0x38a137(0xfe)]-0x1;for(_0x4ec588=0x0;_0x4ec588<_0x59fccf;_0x4ec588++){_0x49afe1=_0x16a130[BS_CUE_BALL_PATH][_0x4ec588],_0x14fd62=_0x16a130[BS_CUE_BALL_PATH][_0x4ec588+0x1];if(_0x14fd62[BG_PathBegin]==0x0)continue;_0x3126d7=_0x14fd62[BG_FirstTime]-_0x49afe1[BG_FirstTime],_0x222114=lineLength(_0x49afe1[BG_CenterX],_0x49afe1[BG_CenterY],_0x14fd62[BG_CenterX],_0x14fd62[BG_CenterY]);if(_0x3126d7>_0x34964f&&_0x222114>_0x1c56ac){let _0x4f2628=getTimeGap(_0x16a130,_0x49afe1[BG_FirstTime],_0x14fd62[BG_FirstTime]);if(_0x4f2628[0x0]<frameInSecondMultiple)continue;_0x1c56ac=_0x222114,_0x424268=_0x4f2628[0x1];}}if(_0x424268==0x0&&_0x59fccf>0x0){_0x49afe1=_0x16a130[BS_CUE_BALL_PATH][_0x59fccf];if(_0x49afe1[BG_FirstTime]<(_0x16a130[BS_END_MOVE]-MIN_SCAN_GAP)*FRAME_TIME_MULTIPLE){let _0x423b58=_0x49afe1[BG_FirstTime]+0x14;locatePathFrameTimes(_0x16a130,_0x423b58)==null&&(_0x424268=_0x423b58,myLog(_0x38a137(0x103)+_0x49afe1[BG_FirstTime]+_0x38a137(0xdf)+_0x424268));}}if(_0x424268==0x0){let _0x2e3c39=0x0;for(let _0x32c18a of _0x16a130[BS_GEN_PATH_FRAME_TIMES]){if(_0x32c18a[0x1]=='next')_0x2e3c39++;}myLog(PlayShotNo+':\x20Path\x20grab='+_0x2e3c39),_0x16a130[BS_GEN_PATH]=0x2,finishCueballPath(_0x16a130),drawPath();return;}_0x16a130[BS_GEN_PATH_FRAME_TIMES]['push']([_0x424268,_0x38a137(0x11a)]),videoObject['currentTime']=_0x424268/FRAME_TIME_MULTIPLE;}function checkCueballPath(_0xa3db1f,_0x475035){const _0x5eb66b=_0x1f2e;if(PlayShotNo<0x0||PlayShotNo>=BallShots['length'])return;let _0x5ea55c=BallShots[PlayShotNo],_0x3d6518=_0x5ea55c[BS_GEN_PATH_FRAME_TIMES][_0x5ea55c[BS_GEN_PATH_FRAME_TIMES][_0x5eb66b(0xfe)]-0x1];_0x3d6518[0x0]!=_0xa3db1f&&Math[_0x5eb66b(0xfd)](_0x3d6518[0x0]-_0xa3db1f)<frameInSecondMultiple&&(_0x3d6518[0x0]=_0xa3db1f);_0x5ea55c[BS_BALL_GROUPS][_0x5eb66b(0x107)]([_0xa3db1f,_0x475035]),_0x5ea55c[BS_BALL_GROUPS]['sort']((_0x326f42,_0x2ff297)=>_0x326f42[0x0]-_0x2ff297[0x0]);let _0x5d6ba0,_0x6591a5=null;for(_0x5d6ba0 of CurrentBallGroups){if(_0x5d6ba0[BG_WhiteBall]==0x1){if(_0x6591a5==null)_0x6591a5=_0x5d6ba0;else _0x6591a5[BG_WhiteScore]<_0x5d6ba0[BG_WhiteScore]&&(_0x6591a5=_0x5d6ba0);}}_0x6591a5!=null&&(addWhiteBallPath(_0x5ea55c,_0x6591a5,_0xa3db1f),connectCueBallPath(_0x5ea55c),drawPath());if(AfterTrackAction>0x0){TrackCueBallOn=0x0,clearImageTimer=setTimeout(delayClearImage,0xc8);if(AfterTrackAction==0x1)prevShot();else{if(AfterTrackAction==0x2)nextShot();else AfterTrackAction==0x3&&playShot();}AfterTrackAction=0x0;return;}addCueBallCheckFrame(_0x5ea55c);}function showCurrentShot(){const _0x4c3420=_0x1f2e;if(BallShots[_0x4c3420(0xfe)]<=0x0)return;const _0x838974=BallShots[PlayShotNo];document[_0x4c3420(0x13c)](_0x4c3420(0xee))['innerHTML']=PlayShotNo+0x1+'\x20/\x20'+BallShots[_0x4c3420(0xfe)],PlayShotStatus==0x0&&_0x838974[BS_GEN_PATH]!=0x2&&(TrackCueBallOn=0x1,AfterTrackAction=0x0),videoObject[_0x4c3420(0xd7)]=_0x838974[BS_BEGIN],drawPath();}function prevShot(){const _0x2b2ca6=_0x1f2e;let _0x5c5545;if(BallShots[_0x2b2ca6(0xfe)]==0x0)return;if(TrackCueBallOn==0x1){AfterTrackAction=0x1;return;}PlayShotNo>0x0?_0x5c5545=PlayShotNo-0x1:_0x5c5545=PlayShotNo,PlayShotNo=_0x5c5545,showCurrentShot();}function nextShot(){const _0x4ad5c5=_0x1f2e;let _0x43d94e;if(BallShots[_0x4ad5c5(0xfe)]==0x0)return;if(TrackCueBallOn==0x1){AfterTrackAction=0x2;return;}PlayShotNo<BallShots[_0x4ad5c5(0xfe)]-0x1?_0x43d94e=PlayShotNo+0x1:_0x43d94e=PlayShotNo,PlayShotNo=_0x43d94e,showCurrentShot();}function getLangByID(_0x5e2435,_0x59aba8){const _0x6bad2e=_0x1f2e;if(langID>=0x0){let _0x14f55f,_0x3ebfa3;_0x3ebfa3=languages[langID];for(let _0x258f65=0x0;_0x258f65<_0x3ebfa3[_0x6bad2e(0xfe)];_0x258f65++){if(_0x3ebfa3[_0x258f65][0x0]==_0x5e2435)return _0x3ebfa3[_0x258f65][0x1];}}return _0x59aba8;}function playShot(){const _0x395f2e=_0x1f2e;if(BallShots['length']==0x0||ProcStatus!=0x3||PlayShotNo<0x0||PlayShotNo>=BallShots[_0x395f2e(0xfe)])return;if(TrackCueBallOn==0x1){AfterTrackAction=0x3;return;}const _0x59bd93=videoObject;if(PlayShotStatus==0x1)PlayShotStatus=0x0,document[_0x395f2e(0x13c)](_0x395f2e(0x11f))[_0x395f2e(0xd2)]=getLangByID(0x14,_0x395f2e(0x11d)),_0x59bd93[_0x395f2e(0x123)]();else BallShots[_0x395f2e(0xfe)]>0x0&&(PlayShotStatus=0x1,document[_0x395f2e(0x13c)](_0x395f2e(0x11f))[_0x395f2e(0xd2)]=getLangByID(0x13,'Stop'),_0x59bd93[_0x395f2e(0xd7)]=BallShots[PlayShotNo][BS_BEGIN],_0x59bd93[_0x395f2e(0x104)]());}
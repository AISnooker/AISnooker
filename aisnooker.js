const _0x1a8361=_0x1b36;(function(_0x3323e9,_0x51a7ff){const _0x478dae=_0x1b36,_0x2a6495=_0x3323e9();while(!![]){try{const _0x55761f=-parseInt(_0x478dae(0x16f))/0x1*(-parseInt(_0x478dae(0x175))/0x2)+parseInt(_0x478dae(0x137))/0x3+parseInt(_0x478dae(0x159))/0x4+-parseInt(_0x478dae(0x173))/0x5*(parseInt(_0x478dae(0x165))/0x6)+parseInt(_0x478dae(0x171))/0x7+-parseInt(_0x478dae(0x162))/0x8*(-parseInt(_0x478dae(0x16e))/0x9)+-parseInt(_0x478dae(0x161))/0xa*(parseInt(_0x478dae(0x14a))/0xb);if(_0x55761f===_0x51a7ff)break;else _0x2a6495['push'](_0x2a6495['shift']());}catch(_0x40a851){_0x2a6495['push'](_0x2a6495['shift']());}}}(_0x328f,0x60b91));let TableClothAvgRed=0x0,TableClothAvgGreen=0x0,TableClothAvgBlue=0x0,TableClothAvgBright=0x0,TableClothAvgSat=0x0,TableClothAvgHue=0x0;const TableClothHueRange=0xa;let TableClothMaxHue=0x0,TableClothMinHue=0x0;const TABLE_CLOTH_MIN_SAT=0x32,TABLE_CLOTH_MIN_BRIGHT=0x1e,TABLE_CLOTH_MIN_AVG_BRIGHT=0x3c;let TableClothMinSat=TABLE_CLOTH_MIN_SAT,TableClothMinBright=TABLE_CLOTH_MIN_BRIGHT;const TAB_TOP_LINE=0x0,TAB_RIGHT_LINE=0x1,TAB_BOTTOM_LINE=0x2,TAB_LEFT_LINE=0x3,TAB_V_MID_LINE=0x4,TAB_H_MID_LINE=0x5,TAB_LEFT_CROSS_LINE=0x6,TAB_RIGHT_CROSS_LINE=0x7,TAB_XY_RANGE=0x8,TAB_LINE_LENGTH=0x9;let BallWidthRange=[],TableLeftRightX=[],TableTopBottomY=[],TableConvertRange,TableLines=[],VideoWidth=0x500,VideoHeight=0x2d0,VideoWidth3=VideoWidth*0x3,VideoWidth4=VideoWidth*0x4,VideoDuration=0x0;const FRAME_TIME_MULTIPLE=0x64;let VideoFrameRate=0x1e,frameInSecond=0x1/VideoFrameRate,frameInSecondMultiple=Math[_0x1a8361(0x146)](frameInSecond*FRAME_TIME_MULTIPLE),frameInSecondMultiple2=frameInSecondMultiple*0x2;function myLog(_0x5213a9){console['log'](_0x5213a9);}function setVideoWidthHeight(_0x21ace0,_0x301f2c){VideoWidth=_0x21ace0,VideoHeight=_0x301f2c,VideoWidth3=VideoWidth*0x3,VideoWidth4=VideoWidth*0x4;}function setFrameRate(_0x3829a4){const _0x1884ee=_0x1a8361;_0x3829a4>0x1e&&(_0x3829a4=0x1e),VideoFrameRate=_0x3829a4,frameInSecond=0x1/VideoFrameRate,frameInSecondMultiple=Math[_0x1884ee(0x146)](frameInSecond*FRAME_TIME_MULTIPLE),frameInSecondMultiple2=frameInSecondMultiple*0x2;}let BallDivWidth=0x20d/(0x6*0xbe8);const TAB_BALL_TYPE_SNOOKER=0xc,TAB_BALL_TYPE_POOL=0x9;let TableBallType=TAB_BALL_TYPE_SNOOKER,CurrentCueSticks=[],CurrentBallGroups=[],WatchBallGroups=[],LastShotBallGroups=[],ShotCacheGroups=[],TempShotBeginGoneGroups=[],FastMoveGroups=[],LastScanTableTime=0x0,fillCanvasCrop=![];const BG_rect=0x0,BG_CenterX=0x1,BG_CenterY=0x2,BG_Score=0x3,BG_AvgHue=0x4,BG_AvgSat=0x5,BG_AvgBright=0x6,BG_WhiteScore=0x7,BG_WhiteBall=0x8,BG_FirstTime=0x9,BG_LastTime=0xa,BG_GoneTime=0xb,BG_DotTotal=0xc,BG_Radius=0xd,BG_PathBegin=0xe,BG_Found=0xf;function new_BallGroup(){let _0x1b6c58=[];return _0x1b6c58[BG_rect]=[0x0,0x0,0x0,0x0],_0x1b6c58[BG_CenterX]=0x0,_0x1b6c58[BG_CenterY]=0x0,_0x1b6c58[BG_Score]=0x0,_0x1b6c58[BG_AvgHue]=0x0,_0x1b6c58[BG_AvgSat]=0x0,_0x1b6c58[BG_AvgBright]=0x0,_0x1b6c58[BG_WhiteScore]=0x0,_0x1b6c58[BG_WhiteBall]=0x0,_0x1b6c58[BG_FirstTime]=0x0,_0x1b6c58[BG_LastTime]=0x0,_0x1b6c58[BG_GoneTime]=0x0,_0x1b6c58[BG_DotTotal]=0x0,_0x1b6c58[BG_Radius]=0x0,_0x1b6c58[BG_Found]=0x0,_0x1b6c58[BG_PathBegin]=0x0,_0x1b6c58;}function copy_BallGroup(_0x292224){let _0x155b09=[];return _0x155b09[BG_rect]=_0x292224[BG_rect],_0x155b09[BG_CenterX]=_0x292224[BG_CenterX],_0x155b09[BG_CenterY]=_0x292224[BG_CenterY],_0x155b09[BG_Score]=_0x292224[BG_Score],_0x155b09[BG_AvgHue]=_0x292224[BG_AvgHue],_0x155b09[BG_AvgSat]=_0x292224[BG_AvgSat],_0x155b09[BG_AvgBright]=_0x292224[BG_AvgBright],_0x155b09[BG_WhiteScore]=_0x292224[BG_WhiteScore],_0x155b09[BG_WhiteBall]=_0x292224[BG_WhiteBall],_0x155b09[BG_FirstTime]=_0x292224[BG_FirstTime],_0x155b09[BG_LastTime]=_0x292224[BG_LastTime],_0x155b09[BG_GoneTime]=_0x292224[BG_GoneTime],_0x155b09[BG_DotTotal]=_0x292224[BG_DotTotal],_0x155b09[BG_Radius]=_0x292224[BG_Radius],_0x155b09[BG_Found]=0x0,_0x155b09[BG_PathBegin]=0x0,_0x155b09;}function BallGroup2Str(_0x12457a){const _0x32446f=_0x1a8361;return _0x12457a[BG_CenterX]+','+_0x12457a[BG_CenterY]+_0x32446f(0x149)+_0x12457a[BG_Score]+_0x32446f(0x15a)+_0x12457a[BG_AvgHue]+','+_0x12457a[BG_AvgSat]+','+_0x12457a[BG_AvgBright]+')'+_0x32446f(0x13a)+_0x12457a[BG_Radius]+'\x20w_score='+_0x12457a[BG_WhiteScore]+_0x32446f(0x12c)+_0x12457a[BG_DotTotal]+_0x32446f(0x152)+_0x12457a[BG_FirstTime];}const BS_BEGIN_MOVE=0x0,BS_BEGIN=0x1,BS_END_MOVE=0x2,BS_END=0x3,BS_BEGIN_BALL_TOTAL=0x4,BS_END_BALL_TOTAL=0x5,BS_OUTPUT=0x6,BS_GEN_PATH=0x7,BS_OTHER_BALL_MOVE_TOTAL=0x8,BS_FIRST_CUE_STICK=0x9,BS_CUE_BALL_MOVE=0xa,BS_CUE_BALL_PATH=0xb,BS_FIRST_CUE_BALL=0xc,BS_BALL_GROUPS=0xd,BS_GEN_PATH_FRAME_TIMES=0xe,BS_DATA_VIDEO=0xf;let BallShots=[];function newBallShot(){let _0x471852=[];return _0x471852[BS_BEGIN_MOVE]=0x0,_0x471852[BS_BEGIN]=0x0,_0x471852[BS_END_MOVE]=0x0,_0x471852[BS_END]=0x0,_0x471852[BS_BEGIN_BALL_TOTAL]=0x0,_0x471852[BS_END_BALL_TOTAL]=0x0,_0x471852[BS_OUTPUT]=0x1,_0x471852[BS_GEN_PATH]=0x0,_0x471852[BS_FIRST_CUE_STICK]=[],_0x471852[BS_CUE_BALL_MOVE]=[],_0x471852[BS_CUE_BALL_PATH]=[],_0x471852[BS_FIRST_CUE_BALL]=null,_0x471852[BS_BALL_GROUPS]=[],_0x471852[BS_GEN_PATH_FRAME_TIMES]=[],_0x471852[BS_OTHER_BALL_MOVE_TOTAL]=0x0,_0x471852[BS_DATA_VIDEO]=0x0,_0x471852;}function _0x328f(){const _0x38a514=['Top\x20line\x20fail','stack','Err:\x20initTableLines\x20getCrossPoint\x20ptRight','fill','div','round','atan2','Left\x20line\x20fail','\x20score=','9841854vSNgki','Right\x20line\x20fail','connect\x20last\x20','dataSync','getImageData','browser','yellow','white','\x20t=','\x20-\x20','sqrt','Bottom\x20line\x20fail','\x20total=','Err:\x20no\x20cross\x20point:\x20','length','1524852OGiZFz','\x20hsv(','\x20and\x20','expandDims','execute','fillRect','toFixed','Err:\x20initTableLines\x20getCrossPoint\x20ptLeft','10IzNSMP','6096nsGULF','tidy','\x20angle=','6oPlZEL','rgb(114,\x20114,\x20114)','height','unshift','audioTracks','webkitAudioDecodedByteCount','pocket_model/model.json','shape','fillStyle','3537RPdhyB','5UDpCQW','push','3719058OBjpbZ','width','3672095bhMEEt','fromPixels','193024OTsfzS','sort','max','Err:\x20Detect\x20Table\x20rgb=','speed\x20err:\x20','.\x20a1*a2=1','\x20dis=',':\x20sumSquare=','abs','slice','\x20dot=','drawImage','.\x20x=','\x20->\x20','min','Fast\x20move\x20',',y=','now','zeros','\x20pockets','\x20:\x20','992331IfYGka','loadGraphModel','\x20dot:','\x20r=','Warm-up\x20','currentTime','floor','forEach','tan','indexOf'];_0x328f=function(){return _0x38a514;};return _0x328f();}const SHOT_END_NO_MOVE_TIME=1.9*FRAME_TIME_MULTIPLE,MAX_WATCH_BALL_NOT_SEEN_TIME=0x4*FRAME_TIME_MULTIPLE,SHOT_BEGIN_DELAY_TIME=1.5,SHOT_END_DELAY_TIME=-0x1,MIN_SCAN_GAP=0.1,MAX_SCAN_GAP=0.5,HALF_MAX_SCAN_GAP_FRAME_TIME=0.2*FRAME_TIME_MULTIPLE,DOUBLE_MAX_SCAN_GAP=MAX_SCAN_GAP*0x2,BIG_JUMP_SCAN_GAP=0x3;let LastProcTime=0x0,CurrentProcTime=0x0,ProcStatus=0x0,ProcBeginTime=0x0,ProcEndTime=0x0,ProcStartupTime=0x0,ProcTotal=0x0,ProcSumTime=0x0,LastBigJumpScanTime=0x0,LastBigJumpScan=![],BigJumpTotal=0x0,BigJumpFail=0x0,BigJumpCache=null,BigJumpCacheHit=0x0,CurrentNewBalls=[],FrameEndShotPos=0x0,LastCheckFrameBeginPos=0x0;const FRAME_END_BALL_TOTAL=0x5;let ShotStatus=0x0,ShotBeginMoveTime=0x0,LastBallMoveTime=0x0,NewBallShot=null,IsFrameBegin=0x0,PlayShotStatus=0x0,PlayShotNo=0x0;const MODEL_URL='best_web_model/model.json';let model=null;const SCORE_THRESHOLD=0.2,SCORE_SURE_BALL=0x32,MAX_BALL_IOU=0.6,IOU_THRESHOLD=0.45,MODEL_SIZE=0x280;let cropRect=[0x0,0x0,0x0,0x0,0x0,0x0],letterBox=[],cropTableScaleX=0x0,cropTableScaleY=0x0;const POCKET_MODEL_URL=_0x1a8361(0x16b);let pocketModel=null,fullLetterBox=[];function angleChangeInBounce(_0x106c90,_0x4437ec,_0x3227fa,_0x20d2b0,_0x24e877){const _0x5ce9fd=_0x1a8361;if(_0x106c90[BG_PathBegin]==0x1||_0x4437ec[BG_PathBegin]==0x1||_0x3227fa[BG_PathBegin]==0x1||_0x20d2b0[BG_PathBegin]==0x1)return![];let _0x3fdf9d=lineLength(_0x106c90[BG_CenterX],_0x106c90[BG_CenterY],_0x4437ec[BG_CenterX],_0x4437ec[BG_CenterY]),_0x4dc6ca=lineLength(_0x4437ec[BG_CenterX],_0x4437ec[BG_CenterY],_0x3227fa[BG_CenterX],_0x3227fa[BG_CenterY]),_0xb7cb90=lineLength(_0x3227fa[BG_CenterX],_0x3227fa[BG_CenterY],_0x20d2b0[BG_CenterX],_0x20d2b0[BG_CenterY]);if(_0x3fdf9d<Math['max'](_0x106c90[BG_Radius]/0x2,0x4))return![];if(_0x4dc6ca<Math['max'](_0x4437ec[BG_Radius]/0x3,0x3))return![];if(_0xb7cb90<Math[_0x5ce9fd(0x177)](_0x3227fa[BG_Radius]/0x2,0x4))return![];let _0x449306=getLineSegmentAngle(_0x106c90[BG_CenterX],_0x106c90[BG_CenterY],_0x4437ec[BG_CenterX],_0x4437ec[BG_CenterY]),_0xbbd4d5=getLineSegmentAngle(_0x4437ec[BG_CenterX],_0x4437ec[BG_CenterY],_0x3227fa[BG_CenterX],_0x3227fa[BG_CenterY]),_0x260cf4=getLineSegmentAngle(_0x3227fa[BG_CenterX],_0x3227fa[BG_CenterY],_0x20d2b0[BG_CenterX],_0x20d2b0[BG_CenterY]);if(_0x449306>0x5a&&_0x260cf4<0x5a||_0x449306<0x5a&&_0x260cf4>0x5a){if(diffLineSegmentAngle(_0x449306,_0xbbd4d5)>0xa&&diffLineSegmentAngle(_0xbbd4d5,_0x260cf4)>0xa)return!![];}return![];}function getCrossPointBall(_0xcac925,_0x7f5f76,_0x315bd7,_0x45cc87){let _0x1bd810=new_BallGroup(),_0x16a442=getCrossPoint(_0xcac925[BG_CenterX],_0xcac925[BG_CenterY],_0x7f5f76[BG_CenterX],_0x7f5f76[BG_CenterY],_0x315bd7[BG_CenterX],_0x315bd7[BG_CenterY],_0x45cc87[BG_CenterX],_0x45cc87[BG_CenterY]);if(_0x16a442!=null){if(_0x16a442[0x0]>cropRect[0x0]&&_0x16a442[0x0]<cropRect[0x2]&&_0x16a442[0x1]>cropRect[0x1]&&_0x16a442[0x1]<cropRect[0x3])return _0x1bd810[BG_CenterX]=_0x16a442[0x0],_0x1bd810[BG_CenterY]=_0x16a442[0x1],_0x1bd810;}return null;}function get3BallsFromPath(_0x3db9ec,_0x3c391f,_0x2b2f85,_0x4bb64a){const _0x3c2798=_0x1a8361;let _0x124ffd=[],_0x568b89,_0x1d7095=_0x3c391f,_0x3e7fa9=_0x2b2f85;for(_0x568b89=_0x4bb64a-0x1;_0x568b89>=0x0;_0x568b89--){if(_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89][BG_PathBegin]==0x1)continue;if(_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89][BG_CenterX]!=_0x1d7095||_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89][BG_CenterY]!=_0x3e7fa9){_0x124ffd[_0x3c2798(0x168)](_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89]);if(_0x124ffd[_0x3c2798(0x158)]==0x2)break;_0x1d7095=_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89][BG_CenterX],_0x3e7fa9=_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89][BG_CenterY];}}if(_0x124ffd['length']!=0x2)return[];_0x1d7095=_0x3c391f,_0x3e7fa9=_0x2b2f85;for(_0x568b89=_0x4bb64a+0x1;_0x568b89<_0x3db9ec[BS_CUE_BALL_PATH][_0x3c2798(0x158)];_0x568b89++){if(_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89][BG_PathBegin]==0x1)continue;if(_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89][BG_CenterX]!=_0x1d7095||_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89][BG_CenterY]!=_0x3e7fa9){_0x124ffd[_0x3c2798(0x170)](_0x3db9ec[BS_CUE_BALL_PATH][_0x568b89]);if(_0x124ffd[_0x3c2798(0x158)]==0x3)return _0x124ffd;}}return[];}function ballsInStraightLine(_0x42397b,_0x4b1e5b,_0x8bd574){const _0xa7ce76=_0x1a8361;let _0x8aa672,_0x72334f=0x0,_0x321352=0x0,_0x4a9fe7=0x0,_0x1ce8f4,_0x30d5f4,_0x38b328=0x0,_0x1d4093=[],_0x4c2095,_0x30cf2c=_0x42397b[_0x4b1e5b][BG_CenterX],_0x4f0af2=_0x42397b[_0x4b1e5b][BG_CenterY],_0x368156=_0x42397b[_0x8bd574][BG_CenterX],_0x38ca1a=_0x42397b[_0x8bd574][BG_CenterY];for(_0x8aa672=_0x4b1e5b+0x1;_0x8aa672<_0x8bd574;_0x8aa672++){_0x1ce8f4=_0x42397b[_0x8aa672];if(_0x1ce8f4[BG_PathBegin]==0x1||_0x1ce8f4[BG_Found]!=0x0)continue;_0x72334f++,_0x30d5f4=dotToLineDistanceSign(_0x30cf2c,_0x4f0af2,_0x368156,_0x38ca1a,_0x1ce8f4[BG_CenterX],_0x1ce8f4[BG_CenterY]);if(_0x30d5f4>0x0)_0x321352++;else _0x30d5f4<0x0&&_0x4a9fe7++;if(Math[_0xa7ce76(0x17d)](_0x30d5f4)>_0x1ce8f4[BG_Radius]/0x3)return 0x0;_0x38b328=_0x38b328+_0x30d5f4,_0x30d5f4=Math[_0xa7ce76(0x146)](lineLength(_0x30cf2c,_0x4f0af2,_0x1ce8f4[BG_CenterX],_0x1ce8f4[BG_CenterY]));for(_0x4c2095=0x0;_0x4c2095<_0x1d4093[_0xa7ce76(0x158)];_0x4c2095++){if(_0x30d5f4<_0x1d4093[_0x4c2095]-0x1)return 0x0;}_0x1d4093['push'](_0x30d5f4);}if(_0x72334f<0x3)return 0x1;if(Math[_0xa7ce76(0x17d)](_0x38b328)>(_0x42397b[_0x4b1e5b][BG_Radius]+_0x42397b[_0x8bd574][BG_Radius])/0x3)return 0x0;if(_0x321352>_0x72334f/0x2||_0x4a9fe7>_0x72334f/0x2)return 0x1;return 0x2;}function checkFastMoveGroups(_0x81662a){const _0x1947ab=_0x1a8361;let _0x512d6e,_0x43a105,_0x3debb8;for(_0x512d6e=FastMoveGroups[_0x1947ab(0x158)]-0x1;_0x512d6e>=0x0;_0x512d6e--){_0x43a105=FastMoveGroups[_0x512d6e],_0x3debb8=_0x81662a-_0x43a105[BG_GoneTime];if(_0x3debb8>=FRAME_TIME_MULTIPLE/0x2)break;_0x3debb8<0x0&&(myLog(_0x1947ab(0x131)+_0x81662a+'->'+_0x43a105[BG_GoneTime]+':\x20'+BallGroup2Str(_0x43a105)),_0x81662a=_0x43a105[BG_GoneTime]);}return _0x81662a;}function lastShotBallChange(){let _0x213da1,_0x46ed5d;for(_0x213da1 of LastShotBallGroups){_0x46ed5d=locateGroup(CurrentBallGroups,_0x213da1[BG_CenterX],_0x213da1[BG_CenterY]);if(_0x46ed5d==null){let _0x2e6cb2=getBallAreaColor(_0x213da1,_0x213da1[BG_Radius]);if(_0x2e6cb2<=_0x213da1[BG_DotTotal]*0.7)return!![];continue;}if(lineLength(_0x213da1[BG_CenterX],_0x213da1[BG_CenterY],_0x46ed5d[BG_CenterX],_0x46ed5d[BG_CenterY])>=_0x213da1[BG_Radius])return!![];}return![];}function checkFrameBeginBalls(){const _0x58df57=_0x1a8361;let _0x519acb,_0x3e65b,_0x2dfcd4=[null,null,null,null,null,null,null,null];if(CurrentBallGroups['length']<0x8)return![];for(_0x519acb of CurrentBallGroups){if(Math['abs'](_0x519acb[BG_CenterX]-getLineX(TableLines[TAB_V_MID_LINE][0x0],TableLines[TAB_V_MID_LINE][0x1],TableLines[TAB_V_MID_LINE][0x2],TableLines[TAB_V_MID_LINE][0x3],_0x519acb[BG_CenterY]))<0x2*_0x519acb[BG_Radius]){_0x3e65b=_0x519acb[BG_CenterY]-getLineY(TableLines[TAB_H_MID_LINE][0x0],TableLines[TAB_H_MID_LINE][0x1],TableLines[TAB_H_MID_LINE][0x2],TableLines[TAB_H_MID_LINE][0x3],_0x519acb[BG_CenterX]);if(Math['abs'](_0x3e65b)<0x2*_0x519acb[BG_Radius]){_0x2dfcd4[0x5]=_0x519acb;continue;}else{if(-_0x3e65b>0x4*_0x519acb[BG_Radius]){if(_0x2dfcd4[0x4]==null)_0x2dfcd4[0x4]=_0x519acb;else _0x2dfcd4[0x4][BG_CenterY]<_0x519acb[BG_CenterY]&&(_0x2dfcd4[0x4]=_0x519acb);continue;}else{if(_0x3e65b>0xa*_0x519acb[BG_Radius]){if(_0x2dfcd4[0x7]==null)_0x2dfcd4[0x7]=_0x519acb;else _0x2dfcd4[0x7][BG_CenterY]<_0x519acb[BG_CenterY]&&(_0x2dfcd4[0x7]=_0x519acb);continue;}}}}}if(_0x2dfcd4[0x4]==null||_0x2dfcd4[0x5]==null||_0x2dfcd4[0x7]==null)return![];for(_0x519acb of CurrentBallGroups){if(_0x519acb==_0x2dfcd4[0x4]||_0x519acb==_0x2dfcd4[0x5]||_0x519acb==_0x2dfcd4[0x7])continue;if(_0x519acb[BG_CenterX]<_0x2dfcd4[0x4][BG_CenterX]-0x6*_0x519acb[BG_Radius]&&Math[_0x58df57(0x17d)](_0x519acb[BG_CenterY]-_0x2dfcd4[0x4][BG_CenterY])<0x2*_0x519acb[BG_Radius]){_0x2dfcd4[0x2]=_0x519acb;break;}}if(_0x2dfcd4[0x2]==null)return![];let _0x2721dc=_0x2dfcd4[0x4][BG_CenterX]-_0x2dfcd4[0x2][BG_CenterX],_0x107ac4=_0x2dfcd4[0x2][BG_CenterX]-_0x2dfcd4[0x2][BG_Radius],_0x42e598=_0x2dfcd4[0x4][BG_CenterX]+_0x2721dc+_0x2dfcd4[0x2][BG_Radius],_0x3718ae=_0x2dfcd4[0x7][BG_CenterY]-0x3*_0x2dfcd4[0x7][BG_Radius];for(_0x519acb of CurrentBallGroups){if(_0x519acb==_0x2dfcd4[0x2]||_0x519acb==_0x2dfcd4[0x4]||_0x519acb==_0x2dfcd4[0x5]||_0x519acb==_0x2dfcd4[0x7])continue;if(_0x519acb[BG_CenterX]<_0x107ac4||_0x519acb[BG_CenterX]>_0x42e598)return![];if(_0x519acb[BG_CenterY]>_0x3718ae)return![];}return!![];}function cueStickPointAt(_0x4061c3,_0x3ce2c7){const _0x2efd19=_0x1a8361;let _0x443867,_0x475990,_0x1e747e,_0x26ad30,_0x9dfef6,_0x22c5cb;_0x22c5cb=getLineSegmentAngle(_0x4061c3[BG_CenterX],_0x4061c3[BG_CenterY],_0x3ce2c7[BG_CenterX],_0x3ce2c7[BG_CenterY]);for(_0x443867 of CurrentCueSticks){let _0x5e6a18=BallWidthRange[_0x443867[BG_rect][0x1]];if(rectOverlap(_0x4061c3[BG_rect][0x0],_0x4061c3[BG_rect][0x1],_0x4061c3[BG_rect][0x2],_0x4061c3[BG_rect][0x3],_0x443867[BG_rect][0x0],_0x443867[BG_rect][0x1],_0x443867[BG_rect][0x2],_0x443867[BG_rect][0x3])!=0x1)continue;if(_0x443867[BG_rect][0x3]-_0x443867[BG_rect][0x1]<_0x5e6a18){_0x475990=_0x443867[BG_rect][0x0],_0x26ad30=_0x443867[BG_rect][0x2],_0x1e747e=Math[_0x2efd19(0x146)]((_0x443867[BG_rect][0x1]+_0x443867[BG_rect][0x3])/0x2),_0x9dfef6=_0x1e747e;if(Math[_0x2efd19(0x17d)](getLineSegmentAngle(_0x475990,_0x1e747e,_0x26ad30,_0x9dfef6)-_0x22c5cb)<0xa)return!![];}else{if(_0x443867[BG_rect][0x2]-_0x443867[BG_rect][0x0]<_0x5e6a18){_0x475990=Math[_0x2efd19(0x146)]((_0x443867[BG_rect][0x0]+_0x443867[BG_rect][0x2])/0x2),_0x26ad30=_0x26ad30,_0x1e747e=_0x443867[BG_rect][0x1],_0x9dfef6=_0x443867[BG_rect][0x3];if(Math[_0x2efd19(0x17d)](getLineSegmentAngle(_0x475990,_0x1e747e,_0x26ad30,_0x9dfef6)-_0x22c5cb)<0xa)return!![];}}_0x475990=_0x443867[BG_rect][0x0],_0x26ad30=_0x443867[BG_rect][0x2],_0x1e747e=_0x443867[BG_rect][0x1],_0x9dfef6=_0x443867[BG_rect][0x3];if(Math[_0x2efd19(0x17d)](getLineSegmentAngle(_0x475990,_0x1e747e,_0x26ad30,_0x9dfef6)-_0x22c5cb)<0xa)return!![];_0x475990=_0x443867[BG_rect][0x0],_0x26ad30=_0x443867[BG_rect][0x2],_0x1e747e=_0x443867[BG_rect][0x3],_0x9dfef6=_0x443867[BG_rect][0x1];if(Math['abs'](getLineSegmentAngle(_0x475990,_0x1e747e,_0x26ad30,_0x9dfef6)-_0x22c5cb)<0xa)return!![];}return![];}function _0x1b36(_0x272773,_0x1e6fca){_0x272773=_0x272773-0x12b;const _0x328f6a=_0x328f();let _0x1b361b=_0x328f6a[_0x272773];return _0x1b361b;}function getBallWidth(_0x6cda5a){const _0x1aad55=_0x1a8361;let _0x475a1b=TableLines[TAB_TOP_LINE][0x2]-TableLines[TAB_TOP_LINE][0x0];return TableLeftRightX[_0x6cda5a][0x1]>0x0&&(_0x475a1b=Math[_0x1aad55(0x177)](_0x475a1b,TableLeftRightX[_0x6cda5a][0x1]-TableLeftRightX[_0x6cda5a][0x0])),(_0x6cda5a>=TableLines[TAB_BOTTOM_LINE][0x1]||_0x6cda5a>=TableLines[TAB_BOTTOM_LINE][0x3])&&(_0x475a1b=Math['max'](_0x475a1b,TableLines[TAB_BOTTOM_LINE][0x2]-TableLines[TAB_BOTTOM_LINE][0x0])),Math['round'](_0x475a1b*BallDivWidth);}function initFullLetterBox(){const _0x41b3b9=_0x1a8361;let _0x54bdf5=VideoWidth,_0x47d48d=VideoHeight,_0x51bef7=Math[_0x41b3b9(0x130)](MODEL_SIZE/_0x54bdf5,MODEL_SIZE/_0x47d48d),_0x36cc34=Math[_0x41b3b9(0x146)](_0x54bdf5*_0x51bef7),_0x1ee210=Math['round'](_0x47d48d*_0x51bef7),_0x38729f=Math[_0x41b3b9(0x146)]((MODEL_SIZE-_0x36cc34)/0x2),_0x2b6380=Math['round']((MODEL_SIZE-_0x1ee210)/0x2);fullLetterBox=[_0x38729f,_0x2b6380,_0x36cc34,_0x1ee210],fillCanvasCrop=![],resetGlobalVariables();}function initTableLines(){const _0x3f960b=_0x1a8361;let _0x1eaf12;cropRect=[Math[_0x3f960b(0x130)](tableLineDef[0x0],tableLineDef[0x6]),Math[_0x3f960b(0x130)](tableLineDef[0x1],tableLineDef[0x3])-0x1e,Math[_0x3f960b(0x177)](tableLineDef[0x2],tableLineDef[0x4]),Math[_0x3f960b(0x177)](tableLineDef[0x5],tableLineDef[0x7])+0xa],cropRect[0x0]=Math['max'](cropRect[0x0],0x0),cropRect[0x1]=Math[_0x3f960b(0x177)](cropRect[0x1],0x0),cropRect[0x2]=Math[_0x3f960b(0x130)](cropRect[0x2],VideoWidth-0x1),cropRect[0x3]=Math['min'](cropRect[0x3],VideoHeight-0x1),cropRect[0x4]=cropRect[0x2]-cropRect[0x0],cropRect[0x5]=cropRect[0x3]-cropRect[0x1];let _0x4d879e=cropRect[0x4],_0xde1c03=cropRect[0x5],_0x149243=Math[_0x3f960b(0x130)](MODEL_SIZE/_0x4d879e,MODEL_SIZE/_0xde1c03),_0x982d3d=Math['round'](_0x4d879e*_0x149243),_0x1408af=Math['round'](_0xde1c03*_0x149243),_0x5f11cb=Math[_0x3f960b(0x146)]((MODEL_SIZE-_0x982d3d)/0x2),_0x725ed0=Math['round']((MODEL_SIZE-_0x1408af)/0x2);letterBox=[_0x5f11cb,_0x725ed0,_0x982d3d,_0x1408af],cropTableScaleX=cropRect[0x4]/letterBox[0x2],cropTableScaleY=cropRect[0x5]/letterBox[0x3],_0x4d879e=VideoWidth,_0xde1c03=VideoHeight,_0x149243=Math[_0x3f960b(0x130)](MODEL_SIZE/_0x4d879e,MODEL_SIZE/_0xde1c03),_0x982d3d=Math['round'](_0x4d879e*_0x149243),_0x1408af=Math[_0x3f960b(0x146)](_0xde1c03*_0x149243),_0x5f11cb=Math[_0x3f960b(0x146)]((MODEL_SIZE-_0x982d3d)/0x2),_0x725ed0=Math[_0x3f960b(0x146)]((MODEL_SIZE-_0x1408af)/0x2),fullLetterBox=[_0x5f11cb,_0x725ed0,_0x982d3d,_0x1408af],fillCanvasCrop=![],resetGlobalVariables(),TableClothAvgHue=0x0;TableBallType==TAB_BALL_TYPE_POOL?BallDivWidth=0x23b/(4.5*0xbe8):BallDivWidth=0x20d/(0x6*0xbe8);for(_0x1eaf12=0x0;_0x1eaf12<TAB_LINE_LENGTH;_0x1eaf12++){TableLines[_0x1eaf12]=[];}TableLines[TAB_TOP_LINE][0x0]=parseInt(tableLineDef[0x0]),TableLines[TAB_TOP_LINE][0x1]=parseInt(tableLineDef[0x1]),TableLines[TAB_LEFT_LINE][0x0]=parseInt(tableLineDef[0x0]),TableLines[TAB_LEFT_LINE][0x1]=parseInt(tableLineDef[0x1]),TableLines[TAB_TOP_LINE][0x2]=parseInt(tableLineDef[0x2]),TableLines[TAB_TOP_LINE][0x3]=parseInt(tableLineDef[0x3]),TableLines[TAB_RIGHT_LINE][0x0]=parseInt(tableLineDef[0x2]),TableLines[TAB_RIGHT_LINE][0x1]=parseInt(tableLineDef[0x3]),TableLines[TAB_BOTTOM_LINE][0x2]=parseInt(tableLineDef[0x4]),TableLines[TAB_BOTTOM_LINE][0x3]=parseInt(tableLineDef[0x5]),TableLines[TAB_RIGHT_LINE][0x2]=parseInt(tableLineDef[0x4]),TableLines[TAB_RIGHT_LINE][0x3]=parseInt(tableLineDef[0x5]),TableLines[TAB_BOTTOM_LINE][0x0]=parseInt(tableLineDef[0x6]),TableLines[TAB_BOTTOM_LINE][0x1]=parseInt(tableLineDef[0x7]),TableLines[TAB_LEFT_LINE][0x2]=parseInt(tableLineDef[0x6]),TableLines[TAB_LEFT_LINE][0x3]=parseInt(tableLineDef[0x7]),TableLines[TAB_LEFT_CROSS_LINE][0x0]=TableLines[TAB_TOP_LINE][0x0],TableLines[TAB_LEFT_CROSS_LINE][0x1]=TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_LEFT_CROSS_LINE][0x2]=TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_LEFT_CROSS_LINE][0x3]=TableLines[TAB_BOTTOM_LINE][0x3],TableLines[TAB_RIGHT_CROSS_LINE][0x0]=TableLines[TAB_TOP_LINE][0x2],TableLines[TAB_RIGHT_CROSS_LINE][0x1]=TableLines[TAB_TOP_LINE][0x3],TableLines[TAB_RIGHT_CROSS_LINE][0x2]=TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_RIGHT_CROSS_LINE][0x3]=TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_V_MID_LINE][0x0]=TableLines[TAB_TOP_LINE][0x0]+TableLines[TAB_TOP_LINE][0x2]>>0x1,TableLines[TAB_V_MID_LINE][0x1]=TableLines[TAB_TOP_LINE][0x1]+TableLines[TAB_TOP_LINE][0x3]>>0x1,TableLines[TAB_V_MID_LINE][0x2]=TableLines[TAB_BOTTOM_LINE][0x0]+TableLines[TAB_BOTTOM_LINE][0x2]>>0x1,TableLines[TAB_V_MID_LINE][0x3]=TableLines[TAB_BOTTOM_LINE][0x1]+TableLines[TAB_BOTTOM_LINE][0x3]>>0x1;let _0x5f472a=getCrossPoint(TableLines[TAB_RIGHT_CROSS_LINE][0x0],TableLines[TAB_RIGHT_CROSS_LINE][0x1],TableLines[TAB_RIGHT_CROSS_LINE][0x2],TableLines[TAB_RIGHT_CROSS_LINE][0x3],TableLines[TAB_LEFT_CROSS_LINE][0x0],TableLines[TAB_LEFT_CROSS_LINE][0x1],TableLines[TAB_LEFT_CROSS_LINE][0x2],TableLines[TAB_LEFT_CROSS_LINE][0x3]);if(_0x5f472a[0x0]==0x0){myLog('Err:\x20initTableLines\x20getCrossPoint\x20pt1');return;}let _0x272bf3=((TableLines[TAB_TOP_LINE][0x3]-TableLines[TAB_TOP_LINE][0x1])/(TableLines[TAB_TOP_LINE][0x2]-TableLines[TAB_TOP_LINE][0x0])+(TableLines[TAB_BOTTOM_LINE][0x3]-TableLines[TAB_BOTTOM_LINE][0x1])/(TableLines[TAB_BOTTOM_LINE][0x2]-TableLines[TAB_BOTTOM_LINE][0x0]))/0x2,_0x2e5b9a=_0x5f472a[0x1]-_0x272bf3*_0x5f472a[0x0],_0x617ef9=_0x5f472a[0x0]+0x32,_0x280e04=Math['round'](_0x272bf3*_0x617ef9+_0x2e5b9a),_0x2a18b8=getCrossPoint(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x5f472a[0x0],_0x5f472a[0x1],_0x617ef9,_0x280e04);if(_0x2a18b8[0x0]==0x0){myLog(_0x3f960b(0x160));return;}let _0x4b7915=getCrossPoint(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x5f472a[0x0],_0x5f472a[0x1],_0x617ef9,_0x280e04);if(_0x4b7915[0x0]==0x0){myLog(_0x3f960b(0x143));return;}TableLines[TAB_H_MID_LINE][0x0]=_0x2a18b8[0x0],TableLines[TAB_H_MID_LINE][0x1]=_0x2a18b8[0x1],TableLines[TAB_H_MID_LINE][0x2]=_0x4b7915[0x0],TableLines[TAB_H_MID_LINE][0x3]=_0x4b7915[0x1],TableLines[TAB_XY_RANGE][0x0]=Math[_0x3f960b(0x130)](Math['min'](Math[_0x3f960b(0x130)](TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x2]),TableLines[TAB_TOP_LINE][0x0]),TableLines[TAB_BOTTOM_LINE][0x0]),TableLines[TAB_XY_RANGE][0x2]=Math[_0x3f960b(0x177)](Math['max'](Math['max'](TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x2]),TableLines[TAB_TOP_LINE][0x2]),TableLines[TAB_BOTTOM_LINE][0x2]),TableLines[TAB_XY_RANGE][0x1]=Math[_0x3f960b(0x130)](Math['min'](Math[_0x3f960b(0x130)](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1]),TableLines[TAB_TOP_LINE][0x1]),TableLines[TAB_BOTTOM_LINE][0x1]),TableLines[TAB_XY_RANGE][0x3]=Math[_0x3f960b(0x177)](Math[_0x3f960b(0x177)](Math[_0x3f960b(0x177)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3]),TableLines[TAB_TOP_LINE][0x3]),TableLines[TAB_BOTTOM_LINE][0x3]),getTableLeftRightX(),getTableTopBottomY(),BallWidthRange=[];for(_0x280e04=0x0;_0x280e04<VideoHeight;_0x280e04++){BallWidthRange[_0x280e04]=getBallWidth(_0x280e04);}_0x1eaf12=Math['round'](BallWidthRange[TableLines[TAB_XY_RANGE][0x3]]/0x2),TableConvertRange=[],TableConvertRange[0x0]=Math[_0x3f960b(0x177)](TableLines[TAB_XY_RANGE][0x0]-_0x1eaf12,0x0),TableConvertRange[0x1]=Math['max'](TableLines[TAB_XY_RANGE][0x1]-_0x1eaf12,0x0),TableConvertRange[0x2]=Math['min'](TableLines[TAB_XY_RANGE][0x2]+_0x1eaf12,VideoWidth-0x1),TableConvertRange[0x3]=Math[_0x3f960b(0x130)](TableLines[TAB_XY_RANGE][0x3]+_0x1eaf12,VideoHeight-0x1);}function getTableLeftRightX(){const _0x5d9576=_0x1a8361;TableLeftRightX=[];let _0xe6e35b;for(_0xe6e35b=0x0;_0xe6e35b<VideoHeight;_0xe6e35b++){TableLeftRightX[_0xe6e35b]=[0x0,0x0];}for(_0xe6e35b=TableLines[TAB_XY_RANGE][0x1];_0xe6e35b<=TableLines[TAB_XY_RANGE][0x3];_0xe6e35b++){if(_0xe6e35b>=Math['min'](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0xe6e35b<=Math[_0x5d9576(0x177)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3])){if(_0xe6e35b>=TableLines[TAB_LEFT_LINE][0x1]&&_0xe6e35b<=TableLines[TAB_LEFT_LINE][0x3])TableLeftRightX[_0xe6e35b][0x0]=getLineX(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0xe6e35b);else{if(_0xe6e35b>=Math[_0x5d9576(0x130)](TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x3])&&_0xe6e35b<=Math[_0x5d9576(0x177)](TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x3]))TableLeftRightX[_0xe6e35b][0x0]=getLineX(TableLines[TAB_TOP_LINE][0x0],TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x2],TableLines[TAB_TOP_LINE][0x3],_0xe6e35b);else _0xe6e35b>=Math[_0x5d9576(0x130)](TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x3])&&_0xe6e35b<=Math[_0x5d9576(0x177)](TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x3])&&(TableLeftRightX[_0xe6e35b][0x0]=getLineX(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0xe6e35b));}if(_0xe6e35b>=TableLines[TAB_RIGHT_LINE][0x1]&&_0xe6e35b<=TableLines[TAB_RIGHT_LINE][0x3])TableLeftRightX[_0xe6e35b][0x1]=getLineX(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0xe6e35b);else{if(_0xe6e35b>=Math[_0x5d9576(0x130)](TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x3])&&_0xe6e35b<=Math['max'](TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x3]))TableLeftRightX[_0xe6e35b][0x1]=getLineX(TableLines[TAB_TOP_LINE][0x0],TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x2],TableLines[TAB_TOP_LINE][0x3],_0xe6e35b);else _0xe6e35b>=Math[_0x5d9576(0x130)](TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x3])&&_0xe6e35b<=Math['max'](TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x3])&&(TableLeftRightX[_0xe6e35b][0x1]=getLineX(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0xe6e35b));}TableLeftRightX[_0xe6e35b][0x0]=Math['max'](TableLeftRightX[_0xe6e35b][0x0],0x0),TableLeftRightX[_0xe6e35b][0x1]=Math[_0x5d9576(0x130)](TableLeftRightX[_0xe6e35b][0x1],VideoWidth-0x1);}}}function getTableTopBottomY(){TableTopBottomY=[];let _0x1932b3;for(_0x1932b3=0x0;_0x1932b3<VideoWidth;_0x1932b3++){TableTopBottomY[_0x1932b3]=[0x0,0x0];}for(_0x1932b3=TableLines[TAB_XY_RANGE][0x0];_0x1932b3<=TableLines[TAB_XY_RANGE][0x2];_0x1932b3++){if(_0x1932b3>=TableLines[TAB_TOP_LINE][0x0]&&_0x1932b3<=TableLines[TAB_TOP_LINE][0x2]){TableTopBottomY[_0x1932b3][0x0]=getLineY(TableLines[TAB_TOP_LINE][0x0],TableLines[TAB_TOP_LINE][0x1],TableLines[TAB_TOP_LINE][0x2],TableLines[TAB_TOP_LINE][0x3],_0x1932b3);if(_0x1932b3>=TableLines[TAB_BOTTOM_LINE][0x0]&&_0x1932b3<=TableLines[TAB_BOTTOM_LINE][0x2])TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0x1932b3);else{if(_0x1932b3>=TableLines[TAB_LEFT_LINE][0x0]&&_0x1932b3<=TableLines[TAB_LEFT_LINE][0x2])TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x1932b3);else _0x1932b3>=TableLines[TAB_RIGHT_LINE][0x0]&&_0x1932b3<=TableLines[TAB_RIGHT_LINE][0x2]&&(TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x1932b3));}}else{if(_0x1932b3>=TableLines[TAB_LEFT_LINE][0x0]&&_0x1932b3<=TableLines[TAB_LEFT_LINE][0x2]||_0x1932b3>=TableLines[TAB_LEFT_LINE][0x2]&&_0x1932b3<=TableLines[TAB_LEFT_LINE][0x0]){TableTopBottomY[_0x1932b3][0x0]=getLineY(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x1932b3);if(_0x1932b3>=TableLines[TAB_BOTTOM_LINE][0x0]&&_0x1932b3<=TableLines[TAB_BOTTOM_LINE][0x2])TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0x1932b3);else{if(_0x1932b3>=TableLines[TAB_LEFT_LINE][0x0]&&_0x1932b3<=TableLines[TAB_LEFT_LINE][0x2])TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x1932b3);else _0x1932b3>=TableLines[TAB_RIGHT_LINE][0x0]&&_0x1932b3<=TableLines[TAB_RIGHT_LINE][0x2]&&(TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x1932b3));}}else{if(_0x1932b3>=TableLines[TAB_RIGHT_LINE][0x0]&&_0x1932b3<=TableLines[TAB_RIGHT_LINE][0x2]){TableTopBottomY[_0x1932b3][0x0]=getLineY(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x1932b3);if(_0x1932b3>=TableLines[TAB_BOTTOM_LINE][0x0]&&_0x1932b3<=TableLines[TAB_BOTTOM_LINE][0x2])TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_BOTTOM_LINE][0x0],TableLines[TAB_BOTTOM_LINE][0x1],TableLines[TAB_BOTTOM_LINE][0x2],TableLines[TAB_BOTTOM_LINE][0x3],_0x1932b3);else{if(_0x1932b3>=TableLines[TAB_LEFT_LINE][0x0]&&_0x1932b3<=TableLines[TAB_LEFT_LINE][0x2])TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_LEFT_LINE][0x0],TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_LEFT_LINE][0x2],TableLines[TAB_LEFT_LINE][0x3],_0x1932b3);else _0x1932b3>=TableLines[TAB_RIGHT_LINE][0x0]&&_0x1932b3<=TableLines[TAB_RIGHT_LINE][0x2]&&(TableTopBottomY[_0x1932b3][0x1]=getLineY(TableLines[TAB_RIGHT_LINE][0x0],TableLines[TAB_RIGHT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x2],TableLines[TAB_RIGHT_LINE][0x3],_0x1932b3));}}}}}}function getCrossPoint(_0xdd9f17,_0x5ec533,_0x377a58,_0x563497,_0x3be95b,_0x1c7abd,_0x156545,_0x54c467){const _0x57765a=_0x1a8361;let _0x2c8c10=[0x0,0x0];if(_0x5ec533==_0x563497||_0x3be95b==_0x156545)return _0x2c8c10;let _0x12d0b6=(_0x377a58-_0xdd9f17)/(_0x563497-_0x5ec533),_0xae2adb=(_0x54c467-_0x1c7abd)/(_0x156545-_0x3be95b);if(_0x12d0b6*_0xae2adb==0x1)return myLog('Err:\x20no\x20cross\x20point:\x20'+_0xdd9f17+','+_0x5ec533+_0x57765a(0x153)+_0x377a58+','+_0x563497+'\x20and\x20'+_0x3be95b+','+_0x1c7abd+_0x57765a(0x153)+_0x156545+','+_0x54c467+_0x57765a(0x17a)),_0x2c8c10;_0x2c8c10[0x1]=Math[_0x57765a(0x146)]((_0xae2adb*_0x156545+_0x12d0b6*_0xae2adb*_0x563497-_0xae2adb*_0x377a58-_0x54c467)/(_0x12d0b6*_0xae2adb-0x1)),_0x2c8c10[0x0]=Math[_0x57765a(0x146)](_0x377a58-_0x12d0b6*_0x563497+_0x12d0b6*_0x2c8c10[0x1]);if(_0x2c8c10[0x0]<=0x0||_0x2c8c10[0x0]>=VideoWidth||_0x2c8c10[0x1]<=0x0||_0x2c8c10[0x1]>=VideoHeight)return myLog(_0x57765a(0x157)+_0xdd9f17+','+_0x5ec533+'\x20-\x20'+_0x377a58+','+_0x563497+_0x57765a(0x15b)+_0x3be95b+','+_0x1c7abd+'\x20-\x20'+_0x156545+','+_0x54c467+_0x57765a(0x12e)+_0x2c8c10[0x0]+_0x57765a(0x132)+_0x2c8c10[0x1]),[0x0,0x0];return _0x2c8c10;}function nonMaxSuppression(_0x3af283,_0xd2570e){const _0x4a0106=_0x1a8361;_0x3af283[_0x4a0106(0x176)]((_0x50e47a,_0x45f530)=>_0x45f530[0x4]-_0x50e47a[0x4]);const _0x1757af=[],_0xf69975=new Array(_0x3af283['length'])[_0x4a0106(0x144)](![]);for(let _0x3efda1=0x0;_0x3efda1<_0x3af283['length'];_0x3efda1++){if(_0xf69975[_0x3efda1])continue;const _0x31c4b7=_0x3af283[_0x3efda1];_0x1757af['push'](_0x31c4b7),_0xf69975[_0x3efda1]=!![];for(let _0x113250=_0x3efda1+0x1;_0x113250<_0x3af283[_0x4a0106(0x158)];_0x113250++){if(_0xf69975[_0x113250])continue;if(_0x31c4b7[0x5]!==_0x3af283[_0x113250][0x5])continue;computeIoU(_0x31c4b7,_0x3af283[_0x113250])>_0xd2570e&&(_0xf69975[_0x113250]=!![]);}}return _0x1757af;}function computeIoU(_0x339fef,_0x370c27){const _0x427ab9=_0x1a8361,_0x2281f9=Math['max'](_0x339fef[0x0],_0x370c27[0x0]),_0x4f3da2=Math['max'](_0x339fef[0x1],_0x370c27[0x1]),_0x4f4c30=Math[_0x427ab9(0x130)](_0x339fef[0x2],_0x370c27[0x2]),_0x520048=Math['min'](_0x339fef[0x3],_0x370c27[0x3]),_0x39b59c=Math[_0x427ab9(0x177)](0x0,_0x4f4c30-_0x2281f9)*Math[_0x427ab9(0x177)](0x0,_0x520048-_0x4f3da2),_0x4dd7cb=(_0x339fef[0x2]-_0x339fef[0x0])*(_0x339fef[0x3]-_0x339fef[0x1]),_0xd48cf2=(_0x370c27[0x2]-_0x370c27[0x0])*(_0x370c27[0x3]-_0x370c27[0x1]),_0x2cc77a=_0x4dd7cb+_0xd48cf2-_0x39b59c;if(_0x2cc77a===0x0)return 0x0;if(_0x39b59c>=_0x4dd7cb*0.9||_0x39b59c>=_0xd48cf2*0.9)return 0x1;return _0x39b59c/_0x2cc77a;}function ballIoU(_0x284db3,_0x174ce7){const _0x253f64=_0x1a8361,_0x13929d=Math[_0x253f64(0x177)](_0x284db3[0x0],_0x174ce7[0x0]),_0x1c3cf0=Math[_0x253f64(0x177)](_0x284db3[0x1],_0x174ce7[0x1]),_0xd602da=Math[_0x253f64(0x130)](_0x284db3[0x2],_0x174ce7[0x2]),_0x240ce0=Math[_0x253f64(0x130)](_0x284db3[0x3],_0x174ce7[0x3]),_0x499926=Math['max'](0x0,_0xd602da-_0x13929d)*Math[_0x253f64(0x177)](0x0,_0x240ce0-_0x1c3cf0),_0x4767ff=(_0x284db3[0x2]-_0x284db3[0x0])*(_0x284db3[0x3]-_0x284db3[0x1]),_0x512da4=(_0x174ce7[0x2]-_0x174ce7[0x0])*(_0x174ce7[0x3]-_0x174ce7[0x1]);if(_0x4767ff==0x0||_0x512da4==0x0)return 0x0;return _0x499926/Math[_0x253f64(0x130)](_0x4767ff,_0x512da4);}function processDetections(_0x5c78a0,_0x267235){const _0x4effd7=_0x1a8361,_0xe054ca=[],_0x1adbb3=_0x5c78a0[0x0]['length'];for(let _0xda9a93=0x0;_0xda9a93<_0x1adbb3;_0xda9a93++){const _0x5570c5=_0x5c78a0[_0x4effd7(0x12b)](0x4)['map'](_0x211353=>_0x211353[_0xda9a93]),_0x58b4e3=Math['max'](..._0x5570c5),_0x7d80de=_0x5570c5[_0x4effd7(0x140)](_0x58b4e3);if(_0x58b4e3>SCORE_THRESHOLD){const _0x52ea10=_0x5c78a0[0x0][_0xda9a93],_0x5651d0=_0x5c78a0[0x1][_0xda9a93],_0x3d0518=_0x5c78a0[0x2][_0xda9a93],_0x121602=_0x5c78a0[0x3][_0xda9a93],_0x5aca99=_0x52ea10-_0x3d0518/0x2,_0x569d7f=_0x5651d0-_0x121602/0x2,_0x361d57=_0x52ea10+_0x3d0518/0x2,_0xa18f69=_0x5651d0+_0x121602/0x2;_0xe054ca['push']([_0x5aca99,_0x569d7f,_0x361d57,_0xa18f69,_0x58b4e3,_0x7d80de]);}}return _0xe054ca;}function getBallAreaColor(_0x588499,_0x107870){let _0x545d9e,_0x4227d3,_0x12b644,_0x4f75cd,_0x53486e;const _0x36566c=_0x588499[BG_CenterX]-_0x107870,_0xd9ec09=_0x588499[BG_CenterX]+_0x107870,_0x1c1b6f=_0x588499[BG_CenterY]-_0x107870,_0x5bc4d6=_0x588499[BG_CenterY]+_0x107870,_0x1fa979=_0x107870*_0x107870;let _0x341057,_0x43a573,_0x8efb10,_0xf8d36b,_0x238f3e=0x0;for(_0x4227d3=_0x1c1b6f;_0x4227d3<=_0x5bc4d6;_0x4227d3++){_0x36566c>TableLines[TAB_LEFT_LINE][0x0]&&_0xd9ec09<TableLines[TAB_RIGHT_LINE][0x0]&&_0x4227d3-TableTopBottomY[_0x36566c][0x0]<_0x588499[BG_Radius]*0x3?_0x8efb10=TableClothAvgBright/0x3:_0x8efb10=TableClothMinBright;_0x43a573=_0x4227d3-_0x588499[BG_CenterY],_0x43a573=_0x43a573*_0x43a573;for(_0x545d9e=_0x36566c;_0x545d9e<=_0xd9ec09;_0x545d9e++){_0x341057=_0x545d9e-_0x588499[BG_CenterX],_0x341057*_0x341057+_0x43a573<=_0x1fa979&&([_0x12b644,_0x4f75cd,_0x53486e]=videoPixelRGB(_0x545d9e,_0x4227d3),_0xf8d36b=rgbToHsv(_0x12b644,_0x4f75cd,_0x53486e),!(_0xf8d36b[0x1]>=TableClothMinSat&&_0xf8d36b[0x2]>=_0x8efb10&&TableClothMinHue<=_0xf8d36b[0x0]&&_0xf8d36b[0x0]<=TableClothMaxHue)&&_0x238f3e++);}}return _0x238f3e;}function getBallColor(_0x250440,_0x530c75){const _0x41c6f4=_0x1a8361;let _0x5886b1,_0x607b08,_0x2df1bb,_0x1092c2,_0x461ddc,_0x47e703,_0x4506c4,_0x4989b2=0x0,_0x22c895=0x0,_0x1b428e=0x0,_0x407bfa=0x0,_0x170dae=0x0,_0xb76df4,_0x202441,_0xd4f8bc=[],_0x3b1094=[],_0x3b02dd=0x0,_0x1c3973=0x0;const _0x1e9547=_0x250440[BG_CenterX],_0x4ea4e6=_0x250440[BG_CenterY],_0x11079f=_0x1e9547-_0x530c75,_0x1bf416=_0x1e9547+_0x530c75,_0x5dbec0=_0x4ea4e6-_0x530c75,_0x1d87b9=_0x4ea4e6+_0x530c75,_0x539329=_0x530c75*_0x530c75;_0x250440[BG_DotTotal]=0x0;for(_0x607b08=_0x5dbec0;_0x607b08<=_0x1d87b9;_0x607b08++){_0x4506c4=_0x607b08-_0x4ea4e6,_0x4506c4=_0x4506c4*_0x4506c4;for(_0x5886b1=_0x11079f;_0x5886b1<=_0x1bf416;_0x5886b1++){_0x47e703=_0x5886b1-_0x1e9547;if(_0x47e703*_0x47e703+_0x4506c4<=_0x539329){[_0x2df1bb,_0x1092c2,_0x461ddc]=videoPixelRGB(_0x5886b1,_0x607b08),_0xb76df4=rgbToHsv(_0x2df1bb,_0x1092c2,_0x461ddc);if(!(_0xb76df4[0x1]>=TableClothMinSat&&_0xb76df4[0x2]>=TableClothMinBright&&TableClothMinHue<=_0xb76df4[0x0]&&_0xb76df4[0x0]<=TableClothMaxHue)){_0x250440[BG_DotTotal]++;if(_0x607b08<=_0x4ea4e6){if(_0xb76df4[0x0]<=0x14)_0x1c3973=0x1;else _0xb76df4[0x0]>=0xa0&&(_0x3b02dd=0x1);_0xd4f8bc[_0x41c6f4(0x170)](_0xb76df4);}}else _0x607b08<=_0x4ea4e6&&_0x3b1094[_0x41c6f4(0x170)](_0xb76df4);}}}_0x3b1094[_0x41c6f4(0x158)]>_0xd4f8bc['length']&&(_0xd4f8bc=_0x3b1094);_0x4989b2=_0xd4f8bc['length'];if(_0x4989b2>0x0){let _0xd606a,_0x54d101=0x0,_0xf5cc2d=0x0,_0xebc747=0x0,_0xd5b7b0=0x0;for(_0xb76df4 of _0xd4f8bc){_0x202441=_0xb76df4[0x0],_0x1c3973==0x1&&_0x3b02dd==0x1&&_0x202441<0x64&&(_0x202441=0xb4+_0x202441),_0x22c895=_0x22c895+_0x202441,_0x1b428e=_0x1b428e+_0xb76df4[0x1],_0x407bfa=_0x407bfa+_0xb76df4[0x2],_0xb76df4[0x1]>=0x2&&(_0x170dae=_0x170dae+_0x202441,_0xd5b7b0++);}_0x22c895=Math[_0x41c6f4(0x146)](_0x22c895/_0x4989b2),_0x1b428e=Math[_0x41c6f4(0x146)](_0x1b428e/_0x4989b2),_0x407bfa=Math[_0x41c6f4(0x146)](_0x407bfa/_0x4989b2),_0xd5b7b0<_0x4989b2&&_0xd5b7b0>_0x4989b2/0x2&&(_0x5886b1=Math[_0x41c6f4(0x146)](_0x170dae/_0xd5b7b0),_0x22c895!=_0x5886b1&&(_0x22c895=_0x5886b1)),_0x1c3973==0x1&&_0x3b02dd==0x1&&_0x22c895>=0xb4&&(_0x22c895=_0x22c895-0xb4),_0x250440[BG_AvgHue]=_0x22c895,_0x250440[BG_AvgSat]=_0x1b428e,_0x250440[BG_AvgBright]=_0x407bfa;}}function diffHSV(_0x328df6,_0x584a99,_0x13075e,_0x3977a1,_0x3be22b,_0x37f76a){const _0x16e8b3=_0x1a8361;return diffHue(_0x328df6,_0x3977a1)*0x2+Math[_0x16e8b3(0x17d)](_0x584a99-_0x3be22b)+Math[_0x16e8b3(0x17d)](_0x13075e-_0x37f76a);}function diffHue(_0x1035ef,_0x37f680){const _0x21ec2d=_0x1a8361;if(_0x1035ef<0x28&&_0x37f680>0x8c)return Math['abs'](_0x1035ef+0xb4-_0x37f680);else return _0x37f680<0x28&&_0x1035ef>0x8c?Math[_0x21ec2d(0x17d)](_0x37f680+0xb4-_0x1035ef):Math[_0x21ec2d(0x17d)](_0x1035ef-_0x37f680);}function rectOverlap(_0xd7f566,_0x567bc7,_0x4444fe,_0x194b1f,_0x13cc61,_0xb9cfcd,_0x3dc291,_0xde734d){return _0xd7f566>_0x3dc291||_0x4444fe<_0x13cc61||_0x567bc7>_0xde734d||_0x194b1f<_0xb9cfcd?0x0:0x1;}function rgbToHsv(_0x5b2420,_0x2c4850,_0x99c9cf){const _0x537ed6=_0x1a8361;_0x5b2420/=0xff,_0x2c4850/=0xff,_0x99c9cf/=0xff;const _0x340535=Math[_0x537ed6(0x177)](_0x5b2420,_0x2c4850,_0x99c9cf),_0xd16c4d=Math[_0x537ed6(0x130)](_0x5b2420,_0x2c4850,_0x99c9cf);let _0x2629f8,_0x2fcf51,_0x385e09=_0x340535;const _0x5d84d4=_0x340535-_0xd16c4d;_0x2fcf51=_0x340535==0x0?0x0:_0x5d84d4/_0x340535;if(_0x340535==_0xd16c4d)_0x2629f8=0x0;else{switch(_0x340535){case _0x5b2420:_0x2629f8=(_0x2c4850-_0x99c9cf)/_0x5d84d4+(_0x2c4850<_0x99c9cf?0x6:0x0);break;case _0x2c4850:_0x2629f8=(_0x99c9cf-_0x5b2420)/_0x5d84d4+0x2;break;case _0x99c9cf:_0x2629f8=(_0x5b2420-_0x2c4850)/_0x5d84d4+0x4;break;}_0x2629f8/=0x6;}return _0x2629f8=Math[_0x537ed6(0x146)](_0x2629f8*0xb4),_0x2629f8==0xb4&&(_0x2629f8=0x0),[_0x2629f8,Math[_0x537ed6(0x146)](_0x2fcf51*0xff),Math[_0x537ed6(0x146)](_0x385e09*0xff)];}function checkBallCenter(_0x1de8f6){const _0x5c63f0=_0x1a8361;let _0x329e2a=Math['round'](_0x1de8f6[BG_Radius]/0x2),_0x1b104e=_0x1de8f6[BG_CenterY]+0x1,_0x1e3128=_0x1b104e-_0x329e2a,_0x2bfeff=_0x1de8f6[BG_CenterX]-_0x329e2a,_0xa76db8=_0x1de8f6[BG_CenterX]+_0x329e2a,_0x12d579=[],_0xd89dcd=[],_0x3faf3b,_0x12dd6e,_0x5a2336,_0x319b7a,_0x19d434,_0x4a7542,_0x6582d3,_0x34bb82,_0x3cda5a,_0x775057=_0x1de8f6[BG_CenterX],_0xc9a3ae=_0x1de8f6[BG_CenterY];for(_0x12dd6e=_0x1e3128;_0x12dd6e<=_0x1b104e;_0x12dd6e++){_0x4a7542=_0x2bfeff-_0x1de8f6[BG_Radius];for(_0x3faf3b=_0x2bfeff;_0x3faf3b>=_0x4a7542;_0x3faf3b--){[_0x5a2336,_0x319b7a,_0x19d434]=videoPixelRGB(_0x3faf3b,_0x12dd6e),_0x3cda5a=rgbToHsv(_0x5a2336,_0x319b7a,_0x19d434);if(TableClothMinHue<=_0x3cda5a[0x0]&&_0x3cda5a[0x0]<=TableClothMaxHue&&_0x3cda5a[0x1]>=TableClothMinSat&&_0x3cda5a[0x2]>=TableClothMinBright){_0x12d579[_0x5c63f0(0x170)](_0x3faf3b);break;}}bytePos4=(_0x12dd6e*VideoWidth+_0xa76db8)*0x4,_0x4a7542=_0xa76db8+_0x1de8f6[BG_Radius];for(_0x3faf3b=_0xa76db8;_0x3faf3b<=_0x4a7542;_0x3faf3b++,bytePos4=bytePos4+0x4){[_0x5a2336,_0x319b7a,_0x19d434]=videoPixelRGB(_0x3faf3b,_0x12dd6e),_0x3cda5a=rgbToHsv(_0x5a2336,_0x319b7a,_0x19d434);if(TableClothMinHue<=_0x3cda5a[0x0]&&_0x3cda5a[0x0]<=TableClothMaxHue&&_0x3cda5a[0x1]>=TableClothMinSat&&_0x3cda5a[0x2]>=TableClothMinBright){_0xd89dcd[_0x5c63f0(0x170)](_0x3faf3b);break;}}}let _0x58d40f=0x0;if(_0x12d579[_0x5c63f0(0x158)]==_0xd89dcd[_0x5c63f0(0x158)]&&_0x12d579['length']==_0x1b104e-_0x1e3128+0x1){_0x3faf3b=0x0;for(_0x34bb82=0x0;_0x34bb82<_0x12d579[_0x5c63f0(0x158)];_0x34bb82++){_0x3faf3b=_0x3faf3b+(_0x12d579[_0x34bb82]+_0xd89dcd[_0x34bb82])/0x2,_0x58d40f=Math['max'](_0x58d40f,_0xd89dcd[_0x34bb82]-_0x12d579[_0x34bb82]+0x1);}_0x3faf3b=Math[_0x5c63f0(0x146)](_0x3faf3b/_0x12d579[_0x5c63f0(0x158)]),_0x3faf3b!=_0x1de8f6[BG_CenterX]&&_0x58d40f>=_0x1de8f6[BG_Radius]*0x2&&(_0x775057=_0x3faf3b);}return[_0x775057,_0xc9a3ae];}function lineLength(_0x26962b,_0x1527ec,_0x2ec843,_0x1272d9){const _0x19584a=_0x1a8361,_0x374f81=_0x2ec843-_0x26962b,_0x4221cf=_0x1272d9-_0x1527ec;return Math[_0x19584a(0x154)](_0x374f81*_0x374f81+_0x4221cf*_0x4221cf);}function dotToLineDistanceSign(_0x25e5cb,_0x4096f3,_0x2aae22,_0x485df7,_0x5a65b0,_0x49b334){const _0x142a81=_0x1a8361,_0x519ff7=_0x5a65b0-_0x25e5cb,_0x2c0fe7=_0x49b334-_0x4096f3,_0x3798ba=_0x2aae22-_0x25e5cb,_0x10d273=_0x485df7-_0x4096f3,_0x47ee9a=_0x519ff7*_0x10d273-_0x2c0fe7*_0x3798ba,_0x35adfd=Math[_0x142a81(0x154)](_0x3798ba*_0x3798ba+_0x10d273*_0x10d273);if(_0x35adfd===0x0)return Math['sqrt'](_0x519ff7*_0x519ff7+_0x2c0fe7*_0x2c0fe7);const _0x136008=_0x47ee9a/_0x35adfd;return _0x136008;}function diffLineSegmentAngle(_0x314d0b,_0x390104){const _0x18ea0a=_0x1a8361;let _0x227bba=Math[_0x18ea0a(0x17d)](_0x314d0b-_0x390104);return _0x227bba>0x5a&&(_0x227bba=0xb4-_0x227bba),_0x227bba;}function getLineSegmentAngle(_0x3a1e55,_0x2d885f,_0x4f6924,_0x5492cd){const _0x25f4b7=_0x1a8361,_0x16d4f9=_0x4f6924-_0x3a1e55,_0x27ccb5=_0x5492cd-_0x2d885f,_0x31ac07=Math[_0x25f4b7(0x147)](_0x27ccb5,_0x16d4f9);let _0x3121ae=_0x31ac07*(0xb4/Math['PI']);return _0x3121ae<0x0&&(_0x3121ae+=0xb4),_0x3121ae>=0xb4&&(_0x3121ae-=0xb4),_0x3121ae;}function getLineX(_0x4361d3,_0x3da048,_0x4c9c96,_0x3636a8,_0x219c7d){const _0x45ed6a=_0x1a8361,_0x4067f8=_0x3636a8-_0x3da048;if(_0x4067f8==0x0)return-0x1;return Math[_0x45ed6a(0x146)](((_0x4c9c96-_0x4361d3)*_0x219c7d-_0x4c9c96*_0x3da048+_0x4361d3*_0x3636a8)/_0x4067f8);}function getLineY(_0x59167c,_0xf5fa72,_0x4bd01d,_0x4ddc84,_0x5c9a40){const _0x6a219e=_0x4bd01d-_0x59167c;if(_0x6a219e==0x0)return-0x1;return Math['round'](((_0x4ddc84-_0xf5fa72)*_0x5c9a40-_0x4ddc84*_0x59167c+_0xf5fa72*_0x4bd01d)/_0x6a219e);}function locateGroupRect(_0x312ae7,_0x3ac36f,_0x2f457b){let _0x10c9eb;for(_0x10c9eb of _0x312ae7){if(_0x10c9eb==_0x2f457b)continue;if(rectOverlap(_0x10c9eb[BG_rect][0x0],_0x10c9eb[BG_rect][0x1],_0x10c9eb[BG_rect][0x2],_0x10c9eb[BG_rect][0x3],_0x3ac36f[0x0],_0x3ac36f[0x1],_0x3ac36f[0x2],_0x3ac36f[0x3])==0x1)return _0x10c9eb;}return null;}function locateCacheGroups(_0x4f9f6b,_0x2c557c,_0x3865ba){const _0x166cce=_0x1a8361;let _0x114b10=null;for(let _0x3939ef of _0x4f9f6b[BS_BALL_GROUPS]){if(_0x3939ef[0x0]==_0x2c557c)return _0x3939ef;else{if(Math[_0x166cce(0x17d)](_0x3939ef[0x0]-_0x2c557c)<=_0x3865ba)_0x114b10=_0x3939ef;else{if(_0x3939ef[0x0]>_0x2c557c)break;}}}if(_0x114b10!=null)return _0x114b10;return null;}function overlapWithStick(_0x55fa0,_0x49b371){for(let _0x38871e of _0x55fa0){if(rectOverlap(_0x49b371[BG_rect][0x0],_0x49b371[BG_rect][0x1],_0x49b371[BG_rect][0x2],_0x49b371[BG_rect][0x3],_0x38871e[BG_rect][0x0],_0x38871e[BG_rect][0x1],_0x38871e[BG_rect][0x2],_0x38871e[BG_rect][0x3])==0x1)return!![];}return![];}function ballInMiddle(_0x3cc53e,_0x4583dc,_0x5d358e){const _0x28d85c=lineLength(_0x3cc53e[BG_CenterX],_0x3cc53e[BG_CenterY],_0x5d358e[BG_CenterX],_0x5d358e[BG_CenterY]);if(_0x28d85c>lineLength(_0x3cc53e[BG_CenterX],_0x3cc53e[BG_CenterY],_0x4583dc[BG_CenterX],_0x4583dc[BG_CenterY])&&_0x28d85c>lineLength(_0x4583dc[BG_CenterX],_0x4583dc[BG_CenterY],_0x5d358e[BG_CenterX],_0x5d358e[BG_CenterY]))return!![];return![];}function linePassBall(_0x4d1f75,_0x42000d,_0x7c2182,_0x2843bc,_0x2deb6d){const _0x2ec259=_0x1a8361;if(Math[_0x2ec259(0x17d)](_0x4d1f75-_0x7c2182)>=Math[_0x2ec259(0x17d)](_0x42000d-_0x2843bc)){let _0x2967ba=getLineY(_0x4d1f75,_0x42000d,_0x7c2182,_0x2843bc,_0x2deb6d[BG_CenterX]);if(_0x2deb6d[BG_rect][0x1]<=_0x2967ba&&_0x2967ba<=_0x2deb6d[BG_rect][0x3])return!![];}else{let _0x26adc5=getLineX(_0x4d1f75,_0x42000d,_0x7c2182,_0x2843bc,_0x2deb6d[BG_CenterY]);if(_0x2deb6d[BG_rect][0x0]<=_0x26adc5&&_0x26adc5<=_0x2deb6d[BG_rect][0x2])return!![];}}function hasBallInMiddle(_0x377650,_0xaf09a1,_0x427de6,_0x3c815d,_0x576625,_0x451441){const _0x4c7b54=_0x1a8361;let _0x13824e;const _0x1231a2=[Math[_0x4c7b54(0x130)](_0xaf09a1,_0x3c815d),Math[_0x4c7b54(0x130)](_0x427de6,_0x576625),Math['max'](_0xaf09a1,_0x3c815d),Math[_0x4c7b54(0x177)](_0x427de6,_0x576625)];for(_0x13824e of _0x377650){if(_0x451441==_0x13824e)continue;if(_0x451441!=null){if(rectOverlap(_0x13824e[BG_rect][0x0],_0x13824e[BG_rect][0x1],_0x13824e[BG_rect][0x2],_0x13824e[BG_rect][0x3],_0x451441[BG_rect][0x0],_0x451441[BG_rect][0x1],_0x451441[BG_rect][0x2],_0x451441[BG_rect][0x3])==0x1)continue;}if(rectOverlap(_0x13824e[BG_rect][0x0],_0x13824e[BG_rect][0x1],_0x13824e[BG_rect][0x2],_0x13824e[BG_rect][0x3],_0x1231a2[0x0],_0x1231a2[0x1],_0x1231a2[0x2],_0x1231a2[0x3])==0x1){if(linePassBall(_0xaf09a1,_0x427de6,_0x3c815d,_0x576625,_0x13824e))return!![];}}return![];}function onCushion(_0xf905a1,_0x538515,_0xdd1683){const _0x420fa0=_0xdd1683>>0x1;if(_0xf905a1<TableLeftRightX[_0x538515][0x0]+_0xdd1683&&_0x538515>TableLines[TAB_TOP_LINE][0x1]+_0xdd1683&&_0x538515<TableLines[TAB_BOTTOM_LINE][0x1]-_0xdd1683)return 0x1;if(_0xf905a1>TableLeftRightX[_0x538515][0x1]-_0xdd1683&&_0x538515>TableLines[TAB_TOP_LINE][0x1]+_0xdd1683&&_0x538515<TableLines[TAB_BOTTOM_LINE][0x1]-_0xdd1683)return 0x1;if(_0x538515>TableTopBottomY[_0xf905a1][0x1]-_0x420fa0)return 0x1;}async function loadModel(_0x3cb511){const _0x316687=_0x1a8361;model=await tf['loadGraphModel'](MODEL_URL);if(_0x3cb511==0x1){const _0x462f66=performance[_0x316687(0x133)]();tf[_0x316687(0x163)](()=>{const _0x3ec4a9=_0x316687,_0x5920d3=tf[_0x3ec4a9(0x134)]([0x1,0x280,0x280,0x3]),_0x50be32=model[_0x3ec4a9(0x15d)](_0x5920d3),_0x105da7=_0x50be32[_0x3ec4a9(0x14d)]();}),myLog(_0x316687(0x13b)+Math[_0x316687(0x146)](performance[_0x316687(0x133)]()-_0x462f66)+'ms');}}async function loadPocketModel(_0x37217c){const _0x2d7a42=_0x1a8361;if(pocketModel!=null){_0x37217c();return;}try{pocketModel=await tf[_0x2d7a42(0x138)](POCKET_MODEL_URL),pocketModel!=null&&(_0x37217c!=null&&_0x37217c());}catch(_0x4bbe9a){myLog('Pocket\x20model\x20load\x20failed:\x20'+_0x4bbe9a),myLog(_0x4bbe9a[_0x2d7a42(0x142)]),pocketModel=null;}}function videoPixelRGB(_0x56478d,_0x57b5b3){const _0x125cfb=_0x1a8361,_0x3a7224=Math[_0x125cfb(0x146)]((_0x56478d-cropRect[0x0])/cropTableScaleX)+letterBox[0x0],_0x4bffe2=Math['round']((_0x57b5b3-cropRect[0x1])/cropTableScaleY)+letterBox[0x1],_0x2b4bd4=_0x4bffe2*0x280+_0x3a7224<<0x2;return[videoPixels640[_0x2b4bd4],videoPixels640[_0x2b4bd4+0x1],videoPixels640[_0x2b4bd4+0x2]];}function ScanTable(){const _0x2ec3ac=_0x1a8361;let _0x3667bf,_0x28c17f,_0x551923,_0x210e17,_0x2aebe7=0x0,_0x2b4230,_0x4420bf,_0x3e2c3c,_0x4d3a47,_0x5425dd,_0x493ecc,_0x5f2e71=[];_0x493ecc=BallWidthRange[TableLines[TAB_XY_RANGE][0x1]];for(_0x28c17f=TableLines[TAB_XY_RANGE][0x1]+_0x493ecc*0x2;_0x28c17f<=TableLines[TAB_XY_RANGE][0x3];_0x28c17f=_0x28c17f+0xa){if(TableLeftRightX[_0x28c17f][0x1]<=0x0)continue;_0x3667bf=TableLeftRightX[_0x28c17f][0x0];for(;_0x3667bf<=TableLeftRightX[_0x28c17f][0x1];_0x3667bf++){if(TableTopBottomY[_0x3667bf][0x1]>0x0&&(_0x28c17f<TableTopBottomY[_0x3667bf][0x0]||_0x28c17f>TableTopBottomY[_0x3667bf][0x1]))continue;[_0x3e2c3c,_0x5425dd,_0x4d3a47]=videoPixelRGB(_0x3667bf,_0x28c17f),_0x2aebe7++,_0x210e17=(_0x3e2c3c>>0x3<<0xa)+(_0x5425dd>>0x3<<0x5)+(_0x4d3a47>>0x3),_0x5f2e71[_0x210e17]?_0x5f2e71[_0x210e17]++:_0x5f2e71[_0x210e17]=0x1;}}_0x2b4230=0x0,_0x4420bf=0x0;for(_0x210e17=0x0;_0x210e17<_0x5f2e71[_0x2ec3ac(0x158)];_0x210e17++){_0x5f2e71[_0x210e17]&&(_0x5f2e71[_0x210e17]>_0x4420bf&&(_0x2b4230=_0x210e17,_0x4420bf=_0x5f2e71[_0x210e17]));}let _0xb7da89=_0x2b4230>>0xa<<0x3,_0x2890e5=(_0x2b4230>>0x5&0x1f)<<0x3,_0x5e5d55=(_0x2b4230&0x1f)<<0x3,_0x593cc4=_0xb7da89*_0x4420bf,_0x56ef9f=_0x2890e5*_0x4420bf,_0x4a4158=_0x5e5d55*_0x4420bf,_0x3c6095=_0x4420bf;for(_0x210e17=0x0;_0x210e17<_0x5f2e71[_0x2ec3ac(0x158)];_0x210e17++){if(_0x210e17==_0x2b4230)continue;_0x5f2e71[_0x210e17]&&(_0x4420bf=_0x5f2e71[_0x210e17],_0x3e2c3c=_0x210e17>>0xa<<0x3,_0x5425dd=(_0x210e17>>0x5&0x1f)<<0x3,_0x4d3a47=(_0x210e17&0x1f)<<0x3,Math[_0x2ec3ac(0x17d)](_0x3e2c3c-_0xb7da89)<0x32&&Math[_0x2ec3ac(0x17d)](_0x5425dd-_0x2890e5)<0x32&&Math[_0x2ec3ac(0x17d)](_0x4d3a47-_0x5e5d55)<0x32&&(_0x593cc4=_0x593cc4+_0x3e2c3c*_0x4420bf,_0x56ef9f=_0x56ef9f+_0x5425dd*_0x4420bf,_0x4a4158=_0x4a4158+_0x4d3a47*_0x4420bf,_0x3c6095=_0x3c6095+_0x4420bf));}_0x3e2c3c=Math[_0x2ec3ac(0x146)](_0x593cc4/_0x3c6095),_0x5425dd=Math[_0x2ec3ac(0x146)](_0x56ef9f/_0x3c6095),_0x4d3a47=Math['round'](_0x4a4158/_0x3c6095);if(_0x3c6095>_0x2aebe7*0.6){let _0x10cec3=rgbToHsv(_0x3e2c3c,_0x5425dd,_0x4d3a47);_0x10cec3[0x2]>TABLE_CLOTH_MIN_AVG_BRIGHT&&_0x10cec3[0x1]>TABLE_CLOTH_MIN_SAT&&(TableClothAvgRed=_0x3e2c3c,TableClothAvgGreen=_0x5425dd,TableClothAvgBlue=_0x4d3a47,TableClothAvgHue=_0x10cec3[0x0],TableClothAvgSat=_0x10cec3[0x1],TableClothAvgBright=_0x10cec3[0x2],TableClothMinBright=Math[_0x2ec3ac(0x177)](TableClothAvgBright/0x2,TABLE_CLOTH_MIN_BRIGHT),TableClothMinSat=Math[_0x2ec3ac(0x177)](TableClothAvgSat/0x2,TABLE_CLOTH_MIN_SAT),TableClothMaxHue=TableClothAvgHue+TableClothHueRange,TableClothMinHue=TableClothAvgHue-TableClothHueRange);}else return 0x1;return 0x0;}function checkWatchBall(_0x32ab6d){const _0x2989ae=_0x1a8361;let _0x15c12d=[],_0x3b938d=[],_0x13adf3=null,_0x462e39=null;for(g of CurrentBallGroups){g[BG_WhiteBall]==0x1&&g[BG_WhiteScore]>=SCORE_SURE_BALL&&(_0x13adf3=g);}for(g of WatchBallGroups){g[BG_WhiteBall]==0x1&&g[BG_WhiteScore]>=SCORE_SURE_BALL&&(_0x462e39=g);}CurrentNewBalls=[];for(g of WatchBallGroups){let _0x5b2f9f=BallWidthRange[g[BG_CenterY]],_0x2b0d45=Math[_0x2989ae(0x146)](_0x5b2f9f/0x2),_0x3b03e2=locateGroup(CurrentBallGroups,g[BG_CenterX],g[BG_CenterY]);if(_0x3b03e2!=null){let _0x32b8f7=lineLength(g[BG_CenterX],g[BG_CenterY],_0x3b03e2[BG_CenterX],_0x3b03e2[BG_CenterY]);if(_0x32b8f7>=_0x2b0d45)_0x3b03e2=null;else{if(g[BG_WhiteBall]==0x1&&g[BG_WhiteScore]>=SCORE_SURE_BALL&&_0x3b03e2[BG_WhiteBall]==0x0){if(_0x13adf3!=null){if(diffHSV(g[BG_AvgHue],g[BG_AvgSat],g[BG_AvgBright],_0x13adf3[BG_AvgHue],_0x13adf3[BG_AvgSat],_0x13adf3[BG_AvgBright])<diffHSV(g[BG_AvgHue],g[BG_AvgSat],g[BG_AvgBright],_0x3b03e2[BG_AvgHue],_0x3b03e2[BG_AvgSat],_0x3b03e2[BG_AvgBright]))continue;}}else{if(_0x3b03e2[BG_WhiteBall]==0x1&&_0x3b03e2[BG_WhiteScore]>=SCORE_SURE_BALL&&g[BG_WhiteBall]==0x0){if(_0x462e39!=null){if(diffHSV(_0x3b03e2[BG_AvgHue],_0x3b03e2[BG_AvgSat],_0x3b03e2[BG_AvgBright],_0x462e39[BG_AvgHue],_0x462e39[BG_AvgSat],_0x462e39[BG_AvgBright])<diffHSV(g[BG_AvgHue],g[BG_AvgSat],g[BG_AvgBright],_0x3b03e2[BG_AvgHue],_0x3b03e2[BG_AvgSat],_0x3b03e2[BG_AvgBright]))continue;}}}g[BG_LastTime]=_0x32ab6d,_0x3b03e2[BG_Found]=0x1;if(_0x32ab6d-g[BG_FirstTime]>SHOT_END_NO_MOVE_TIME&&diffHue(g[BG_AvgHue],_0x3b03e2[BG_AvgHue])<=0x5){g[BG_rect]=_0x3b03e2[BG_rect],g[BG_CenterX]=_0x3b03e2[BG_CenterX],g[BG_CenterY]=_0x3b03e2[BG_CenterY];let _0x422210=0x0;for(let _0x1da951 of WatchBallGroups){if(_0x1da951==g)continue;if(_0x1da951[BG_CenterX]==g[BG_CenterX]&&_0x1da951[BG_CenterY]==g[BG_CenterY]){_0x422210=0x1;break;}}if(_0x422210==0x1)continue;}_0x32b8f7<=_0x2b0d45/0x2&&g[BG_LastTime]>g[BG_FirstTime]&&(_0x3b03e2[BG_WhiteBall]==0x1&&g[BG_WhiteBall]==0x0&&(g[BG_WhiteBall]=0x1,g[BG_WhiteScore]=_0x3b03e2[BG_WhiteScore]),g[BG_Score]=Math[_0x2989ae(0x177)](_0x3b03e2[BG_Score],g[BG_Score]),g[BG_WhiteScore]=Math[_0x2989ae(0x177)](_0x3b03e2[BG_WhiteScore],g[BG_WhiteScore]));}}if(_0x3b03e2==null){let _0x536caa=getBallAreaColor(g,g[BG_Radius]);if(_0x536caa<=g[BG_DotTotal]*0.7){ShotStatus==0x0&&myLog(CurrentProcTime+'\x20Gone:\x20'+g[BG_CenterX]+','+g[BG_CenterY]+_0x2989ae(0x139)+_0x536caa+_0x2989ae(0x136)+g[BG_DotTotal]+_0x2989ae(0x149)+g[BG_Score]+_0x2989ae(0x152)+g[BG_FirstTime]+','+g[BG_LastTime]);g[BG_GoneTime]=_0x32ab6d,_0x15c12d[_0x2989ae(0x170)](g);continue;}if(_0x32ab6d-g[BG_LastTime]>MAX_WATCH_BALL_NOT_SEEN_TIME){if(locateGroup(CurrentCueSticks,g[BG_CenterX],g[BG_CenterY])==null)continue;}}_0x3b938d[_0x2989ae(0x170)](g);}WatchBallGroups=_0x3b938d;for(g of CurrentBallGroups){if(g[BG_Found]==0x1)continue;let _0xe49c6f=locateGroup(WatchBallGroups,g[BG_CenterX],g[BG_CenterY]);if(_0xe49c6f!=null){let _0x7557dc=BallWidthRange[g[BG_CenterY]],_0x50491e=Math['round'](_0x7557dc/0x2),_0x5d0373=lineLength(g[BG_CenterX],g[BG_CenterY],_0xe49c6f[BG_CenterX],_0xe49c6f[BG_CenterY]);if(_0x5d0373>=_0x50491e){if(ballIoU(g[BG_rect],_0xe49c6f[BG_rect])>MAX_BALL_IOU&&g[BG_Score]<SCORE_SURE_BALL)continue;_0xe49c6f=null;}}_0xe49c6f==null&&(g[BG_FirstTime]=_0x32ab6d,g[BG_LastTime]=_0x32ab6d,WatchBallGroups[_0x2989ae(0x170)](g),CurrentNewBalls['push'](g));}return _0x15c12d;}function detectPocket(){const _0x5c7358=_0x1a8361;let _0x116291=[];return contextCrop[_0x5c7358(0x16d)]='rgb(114,\x20114,\x20114)',contextCrop[_0x5c7358(0x15e)](0x0,0x0,MODEL_SIZE,MODEL_SIZE),fillCanvasCrop=![],contextCrop[_0x5c7358(0x12d)](videoObject,0x0,0x0,VideoWidth,VideoHeight,fullLetterBox[0x0],fullLetterBox[0x1],fullLetterBox[0x2],fullLetterBox[0x3]),tf[_0x5c7358(0x163)](()=>{const _0x734d34=_0x5c7358,_0x37bf75=tf[_0x734d34(0x14f)][_0x734d34(0x174)](canvasCrop)['toFloat']()[_0x734d34(0x145)](0xff)[_0x734d34(0x15c)](0x0),_0x125f50=pocketModel[_0x734d34(0x15d)](_0x37bf75),_0xc0678d=_0x125f50[_0x734d34(0x14d)](),_0x31d61b=_0x125f50[_0x734d34(0x16c)],_0x193cd7=_0x31d61b[0x1],_0x4e579e=_0x31d61b[0x2],_0x2a76ce=[];for(let _0x3064cf=0x0;_0x3064cf<_0x193cd7;_0x3064cf++){const _0x5b3cd0=_0xc0678d[_0x734d34(0x12b)](_0x3064cf*_0x4e579e,(_0x3064cf+0x1)*_0x4e579e);_0x2a76ce['push'](_0x5b3cd0);}const _0x16c0a5=_0x2a76ce[0x0][_0x734d34(0x158)]-0x4,_0x4a98b9=processDetections(_0x2a76ce,_0x16c0a5),_0xb84021=nonMaxSuppression(_0x4a98b9,IOU_THRESHOLD),_0x47d327=VideoWidth/fullLetterBox[0x2],_0x46e9c7=VideoHeight/fullLetterBox[0x3];_0xb84021[_0x734d34(0x13e)](_0x127234=>{const _0x351091=_0x734d34,[_0x4b3c07,_0x1b1c08,_0x631fcf,_0x403fa6,_0x1a8c2c,_0x7e28fa]=_0x127234;let _0x296cf7=Math['round']((_0x4b3c07-fullLetterBox[0x0])*_0x47d327),_0x23555e=Math['round']((_0x1b1c08-fullLetterBox[0x1])*_0x46e9c7),_0x3e01b3=Math[_0x351091(0x146)]((_0x631fcf-_0x4b3c07)*_0x47d327),_0x30a266=Math[_0x351091(0x146)]((_0x403fa6-_0x1b1c08)*_0x46e9c7);_0x296cf7=Math[_0x351091(0x177)](_0x296cf7,0x0),_0x3e01b3=Math['min'](_0x3e01b3,VideoWidth-_0x296cf7),_0x23555e=Math['max'](_0x23555e,0x0),_0x30a266=Math[_0x351091(0x130)](_0x30a266,VideoHeight-_0x23555e);let _0x1a5a3b=0x0,_0x463f78;for(_0x463f78=0x0;_0x463f78<_0x116291[_0x351091(0x158)];_0x463f78++){_0x116291[_0x463f78][0x5]==_0x7e28fa&&_0x1a5a3b++;}if(_0x1a5a3b>=0x2){for(_0x463f78=0x0;_0x463f78<_0x116291[_0x351091(0x158)];_0x463f78++){if(_0x116291[_0x463f78][0x5]==_0x7e28fa){if(_0x116291[_0x463f78][0x4]<_0x1a8c2c)break;}}if(_0x463f78>=_0x116291['length'])return;}_0x116291['push']([_0x296cf7,_0x23555e,_0x3e01b3,_0x30a266,_0x1a8c2c,_0x7e28fa]);});}),_0x116291;}function detectBall(_0x19cf67,_0x31e1fa,_0x4568b6){const _0x56c2af=_0x1a8361;CurrentBallGroups=[],CurrentCueSticks=[],videoPixels=null;if(BigJumpCache!=null){let _0x850d8e=Math[_0x56c2af(0x13d)](_0x19cf67[_0x56c2af(0x13c)]*FRAME_TIME_MULTIPLE);if(_0x850d8e==BigJumpCache[0x0])return CurrentBallGroups=BigJumpCache[0x1],CurrentCueSticks=BigJumpCache[0x2],BigJumpCache=null,BigJumpCacheHit++,0x0;}fillCanvasCrop==![]&&(contextCrop[_0x56c2af(0x16d)]=_0x56c2af(0x166),contextCrop[_0x56c2af(0x15e)](0x0,0x0,MODEL_SIZE,MODEL_SIZE),fillCanvasCrop=!![]);contextCrop[_0x56c2af(0x12d)](_0x19cf67,cropRect[0x0],cropRect[0x1],cropRect[0x4],cropRect[0x5],letterBox[0x0],letterBox[0x1],letterBox[0x2],letterBox[0x3]);if(_0x31e1fa==0x1){const _0x10c714=contextCrop[_0x56c2af(0x14e)](0x0,0x0,canvasCrop[_0x56c2af(0x172)],canvasCrop['height']);videoPixels640=_0x10c714['data'],(TableClothAvgHue==0x0||LastScanTableTime==0x0||Math[_0x56c2af(0x17d)](_0x19cf67[_0x56c2af(0x13c)]+_0x4568b6-LastScanTableTime)>0xa)&&(ScanTable(),LastScanTableTime=_0x19cf67[_0x56c2af(0x13c)]+_0x4568b6);}return tf[_0x56c2af(0x163)](()=>{const _0x137067=_0x56c2af,_0x11d974=tf[_0x137067(0x14f)][_0x137067(0x174)](canvasCrop)['toFloat']()[_0x137067(0x145)](0xff)['expandDims'](0x0),_0x51e0d9=model[_0x137067(0x15d)](_0x11d974),_0x20c9a7=_0x51e0d9['dataSync'](),_0x1ccc21=_0x51e0d9[_0x137067(0x16c)],_0xd26ddf=_0x1ccc21[0x1],_0x3409f6=_0x1ccc21[0x2],_0x46e09d=[];for(let _0x249b6b=0x0;_0x249b6b<_0xd26ddf;_0x249b6b++){const _0x39920b=_0x20c9a7[_0x137067(0x12b)](_0x249b6b*_0x3409f6,(_0x249b6b+0x1)*_0x3409f6);_0x46e09d[_0x137067(0x170)](_0x39920b);}const _0x3451e9=_0x46e09d[0x0][_0x137067(0x158)]-0x4,_0x155741=processDetections(_0x46e09d,_0x3451e9),_0x2282e5=nonMaxSuppression(_0x155741,IOU_THRESHOLD),_0x8ebf9a=cropTableScaleX,_0x5a6fdb=cropTableScaleY;_0x2282e5[_0x137067(0x13e)](_0x9217b9=>{const _0x439a9b=_0x137067,[_0x284596,_0x525891,_0x33b7cd,_0x2c2733,_0x3dfc3e,_0x10b6f3]=_0x9217b9,_0x6ce0aa=Math[_0x439a9b(0x146)]((_0x284596-letterBox[0x0])*_0x8ebf9a)+cropRect[0x0],_0xa44e1f=Math[_0x439a9b(0x146)]((_0x525891-letterBox[0x1])*_0x5a6fdb)+cropRect[0x1],_0x6b5ffb=Math['round']((_0x33b7cd-_0x284596)*_0x8ebf9a),_0x29de4c=Math['round']((_0x2c2733-_0x525891)*_0x5a6fdb);if(_0x6ce0aa<cropRect[0x0]||_0x6ce0aa+_0x6b5ffb>cropRect[0x2])return;if(_0xa44e1f<cropRect[0x1]||_0xa44e1f+_0x29de4c>cropRect[0x3])return;if(_0x10b6f3==0x1){if(_0x6ce0aa+_0x6b5ffb<TableLeftRightX[_0xa44e1f][0x0]&&_0x6ce0aa+_0x6b5ffb<TableLines[TAB_LEFT_LINE][0x0]||_0x6ce0aa>TableLeftRightX[_0xa44e1f][0x1]&&_0x6ce0aa>TableLines[TAB_RIGHT_LINE][0x0])return;let _0x329b1b=new_BallGroup();_0x329b1b[BG_rect]=[_0x6ce0aa,_0xa44e1f,_0x6ce0aa+_0x6b5ffb,_0xa44e1f+_0x29de4c],_0x329b1b[BG_CenterX]=_0x6ce0aa+Math[_0x439a9b(0x146)](_0x6b5ffb/0x2),_0x329b1b[BG_CenterY]=_0xa44e1f+Math[_0x439a9b(0x146)](_0x29de4c/0x2),_0x329b1b[BG_Score]=Math[_0x439a9b(0x146)](_0x3dfc3e*0x64),CurrentCueSticks[_0x439a9b(0x170)](_0x329b1b);return;}if(TableLeftRightX[_0xa44e1f][0x1]<=0x0||TableTopBottomY[_0x6ce0aa][0x1]<=0x0)return;if(_0x6ce0aa<TableLeftRightX[_0xa44e1f][0x0]&&_0x6ce0aa<TableLines[TAB_LEFT_LINE][0x0]||_0x6ce0aa+_0x6b5ffb/0x2>TableLeftRightX[_0xa44e1f][0x1]&&_0x6ce0aa+_0x6b5ffb>TableLines[TAB_RIGHT_LINE][0x0])return;if(_0xa44e1f<TableTopBottomY[_0x6ce0aa][0x0]-0x14||_0xa44e1f+_0x29de4c>TableTopBottomY[_0x6ce0aa][0x1]+0xa)return;const _0x3bec52=BallWidthRange[_0xa44e1f],_0x57ddf8=_0x3bec52>>0x1;if(_0x6b5ffb<_0x57ddf8+_0x57ddf8/0x2||_0x29de4c<_0x57ddf8+_0x57ddf8/0x2){if(onCushion(_0x6ce0aa+Math[_0x439a9b(0x146)](_0x6b5ffb/0x2),_0xa44e1f+Math[_0x439a9b(0x146)](_0x29de4c/0x2),_0x3bec52)==0x1)return;}let _0x29d18f=new_BallGroup();_0x29d18f[BG_rect]=[_0x6ce0aa,_0xa44e1f,_0x6ce0aa+_0x6b5ffb,_0xa44e1f+_0x29de4c],_0x29d18f[BG_CenterX]=_0x6ce0aa+Math[_0x439a9b(0x146)](_0x6b5ffb/0x2),_0x29d18f[BG_CenterY]=_0xa44e1f+_0x57ddf8,_0x29d18f[BG_Score]=Math[_0x439a9b(0x146)](_0x3dfc3e*0x64),_0x29d18f[BG_Radius]=_0x57ddf8;_0x10b6f3==0x2&&(_0x29d18f[BG_WhiteBall]=0x1,_0x29d18f[BG_WhiteScore]=_0x29d18f[BG_Score]);if(_0x31e1fa==0x1){getBallColor(_0x29d18f,_0x57ddf8);if(_0x6b5ffb<_0x3bec52&&_0x29de4c<_0x3bec52&&_0x29d18f[BG_Score]<SCORE_SURE_BALL){if(_0x29d18f[BG_DotTotal]<_0x57ddf8*_0x57ddf8*3.14/0x3)return;}}CurrentBallGroups[_0x439a9b(0x170)](_0x29d18f);});let _0x5edec4=0x0;for(let _0x5cd6c9=0x0;_0x5cd6c9<CurrentBallGroups[_0x137067(0x158)];_0x5cd6c9++){let _0x4b530d=CurrentBallGroups[_0x5cd6c9];if(_0x4b530d[BG_WhiteBall]==0x1)for(let _0x2a9830=0x0;_0x2a9830<CurrentBallGroups[_0x137067(0x158)];_0x2a9830++){let _0x287b6b=CurrentBallGroups[_0x2a9830];if(_0x287b6b[BG_WhiteBall]==0x0){if(ballIoU(_0x4b530d[BG_rect],_0x287b6b[BG_rect])>=MAX_BALL_IOU){_0x4b530d[BG_Score]=Math['max'](_0x4b530d[BG_Score],_0x287b6b[BG_Score]),_0x287b6b[BG_Found]=0x1,_0x5edec4++;break;}}}}if(_0x5edec4>0x0){let _0x1dcba4=[];for(let _0x51bc4a of CurrentBallGroups){_0x51bc4a[BG_Found]==0x0&&_0x1dcba4[_0x137067(0x170)](_0x51bc4a);}CurrentBallGroups=_0x1dcba4;}}),0x0;}function locateGroup(_0x4fddac,_0x59df7e,_0x2e9dad){let _0x5ddf1b,_0x45a025=null,_0x9a1e3a=0x0,_0x4e09e8;for(_0x5ddf1b of _0x4fddac){_0x5ddf1b[BG_rect][0x0]<=_0x59df7e&&_0x59df7e<=_0x5ddf1b[BG_rect][0x2]&&_0x5ddf1b[BG_rect][0x1]<=_0x2e9dad&&_0x2e9dad<=_0x5ddf1b[BG_rect][0x3]&&(_0x45a025==null?(_0x45a025=_0x5ddf1b,_0x9a1e3a=lineLength(_0x5ddf1b[BG_CenterX],_0x5ddf1b[BG_CenterY],_0x59df7e,_0x2e9dad)):(_0x4e09e8=lineLength(_0x5ddf1b[BG_CenterX],_0x5ddf1b[BG_CenterY],_0x59df7e,_0x2e9dad),_0x4e09e8<_0x9a1e3a&&(_0x45a025=_0x5ddf1b,_0x9a1e3a=_0x4e09e8)));}return _0x45a025;}function addPath(_0x334cbf,_0x7b6841,_0x5cd406){const _0x50969c=_0x1a8361;let _0x2993ce=copy_BallGroup(_0x7b6841);_0x2993ce[BG_PathBegin]=_0x5cd406,_0x334cbf[BS_CUE_BALL_PATH][_0x50969c(0x170)](_0x2993ce);}function searchCacheGroupsAfter(_0x54ff42,_0x30df7b){for(let _0x4092c6 of _0x54ff42[BS_BALL_GROUPS]){if(_0x4092c6[0x0]>_0x30df7b)return _0x4092c6;}return null;}function getPathTotalLength(_0x5900d3){let _0x13e4bc=0x0,_0x9767a2=null;for(let _0x3e429d of _0x5900d3[BS_CUE_BALL_PATH]){if(_0x9767a2==null){_0x9767a2=_0x3e429d;continue;}_0x13e4bc=_0x13e4bc+lineLength(_0x3e429d[BG_CenterX],_0x3e429d[BG_CenterY],_0x9767a2[BG_CenterX],_0x9767a2[BG_CenterY]),_0x9767a2=_0x3e429d;}return _0x13e4bc;}function bestMatchCueBall(_0x395720,_0x5ceb3c,_0x4647d9){let _0xe59f6e=0x0,_0xa91fb5,_0x29aeb1,_0x8860f0=null;for(_0x29aeb1 of _0x395720){_0xa91fb5=lineLength(_0x29aeb1[BG_CenterX],_0x29aeb1[BG_CenterY],_0x5ceb3c[BG_CenterX],_0x5ceb3c[BG_CenterY]),_0xa91fb5<=_0x4647d9&&(_0xe59f6e<_0x29aeb1[BG_WhiteScore]&&(_0xe59f6e=_0x29aeb1[BG_WhiteScore],_0x8860f0=_0x29aeb1));}return _0x8860f0;}function getLastCueBall2(_0x51b5ed,_0x2ba2b4){const _0x555433=_0x1a8361;let _0x1f6d3d=null;for(let _0x1c8262=_0x51b5ed[BS_CUE_BALL_PATH][_0x555433(0x158)]-0x2;_0x1c8262>=0x0;_0x1c8262--){_0x1f6d3d=_0x51b5ed[BS_CUE_BALL_PATH][_0x1c8262];if(lineLength(_0x1f6d3d[BG_CenterX],_0x1f6d3d[BG_CenterY],_0x2ba2b4[BG_CenterX],_0x2ba2b4[BG_CenterY])>=_0x2ba2b4[BG_Radius])break;}return _0x1f6d3d;}function nearCushion(_0x3f7a83,_0x29c34c,_0x24fcc7){const _0x4a53f6=_0x1a8361;if(_0x3f7a83<TableLines[TAB_LEFT_LINE][0x0]+0x6*_0x24fcc7&&_0x3f7a83-TableLeftRightX[_0x29c34c][0x0]<0x6*_0x24fcc7&&_0x29c34c>Math[_0x4a53f6(0x177)](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x29c34c<Math['min'](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3]))return!![];else{if(_0x3f7a83>TableLines[TAB_RIGHT_LINE][0x0]-0x6*_0x24fcc7&&TableLeftRightX[_0x29c34c][0x1]-_0x3f7a83<0x6*_0x24fcc7&&_0x29c34c>Math['max'](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x29c34c<Math[_0x4a53f6(0x130)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3]))return!![];else{if(_0x3f7a83>TableLines[TAB_TOP_LINE][0x0]&&_0x3f7a83<TableLines[TAB_TOP_LINE][0x2]&&_0x29c34c-TableTopBottomY[_0x3f7a83][0x0]<0x4*_0x24fcc7)return!![];else{if(TableTopBottomY[_0x3f7a83][0x1]-_0x29c34c<0x4*_0x24fcc7)return!![];}}}return![];}function hasBallChange(){const _0x254486=_0x1a8361;let _0xe88c94;for(_0xe88c94 of WatchBallGroups){let _0x41f9d1=BallWidthRange[_0xe88c94[BG_CenterY]],_0x3f1ad4=Math[_0x254486(0x146)](_0x41f9d1/0x2),_0x40872a=locateGroup(CurrentBallGroups,_0xe88c94[BG_CenterX],_0xe88c94[BG_CenterY]);if(_0x40872a!=null){if(_0xe88c94[BG_WhiteBall]!=_0x40872a[BG_WhiteBall])return!![];let _0x209e13=lineLength(_0xe88c94[BG_CenterX],_0xe88c94[BG_CenterY],_0x40872a[BG_CenterX],_0x40872a[BG_CenterY]);if(_0x209e13<_0x3f1ad4){_0x40872a[BG_Found]=0x1;continue;}}else{let _0x521664=getBallAreaColor(_0xe88c94,_0xe88c94[BG_Radius]);if(_0x521664>=_0xe88c94[BG_DotTotal]*0.7)continue;}return!![];}let _0x24d9b7=[],_0x253e0d=null;for(_0xe88c94 of CurrentBallGroups){if(_0xe88c94[BG_Found]!=0x1){if(_0xe88c94[BG_WhiteBall]==0x1)return!![];let _0x3918eb=0x0;for(let _0x2ce740 of CurrentBallGroups){if(_0x2ce740==_0xe88c94)continue;if(ballIoU(_0xe88c94[BG_rect],_0x2ce740[BG_rect])>=0.3){_0x3918eb=0x1;break;}}if(_0x3918eb==0x1)continue;if(_0xe88c94[BG_Score]>=SCORE_SURE_BALL)return!![];else _0x24d9b7[_0x254486(0x170)](_0xe88c94);}else _0xe88c94[BG_WhiteBall]==0x1&&_0xe88c94[BG_WhiteScore]>=SCORE_SURE_BALL&&(_0x253e0d=_0xe88c94);}if(_0x24d9b7[_0x254486(0x158)]>0x0){if(_0x253e0d!=null)return![];return!![];}return![];}function resetGlobalVariables(){CurrentProcTime=0x0,ProcStatus=0x0,ProcTotal=0x0,ProcSumTime=0x0,ShotStatus=0x0,ShotBeginMoveTime=0x0,LastBallMoveTime=0x0,PlayShotStatus=0x0,PlayShotNo=0x0,LastScanTableTime=0x0,LastProcTime=0x0,WatchBallGroups=[],ShotCacheGroups=[],TempShotBeginGoneGroups=[],FastMoveGroups=[],BallShots=[],CurrentBallGroups=[],CurrentCueSticks=[],LastBigJumpScan=![],LastBigJumpScanTime=0x0,BigJumpTotal=0x0,BigJumpFail=0x0,BigJumpCacheHit=0x0,BigJumpCache=null,FrameEndShotPos=0x0,LastCheckFrameBeginPos=0x0,IsFrameBegin=0x0;}function addWhiteBallPath(_0x13cc5a,_0x2fa89c,_0x16007b){const _0x23c939=_0x1a8361;let _0x369499=copy_BallGroup(_0x2fa89c);_0x369499[BG_FirstTime]=_0x16007b,_0x369499[BG_PathBegin]=0x1,_0x13cc5a[BS_CUE_BALL_PATH][_0x23c939(0x170)](_0x369499),_0x13cc5a[BS_CUE_BALL_PATH][_0x23c939(0x176)]((_0x4c5285,_0x43979a)=>_0x4c5285[BG_FirstTime]-_0x43979a[BG_FirstTime]);}function pushInitWhiteBallPath(_0x29fa72,_0x33c57d,_0x47d673){const _0xa846a=_0x1a8361;let _0x3ce8e5=copy_BallGroup(_0x33c57d);_0x3ce8e5[BG_FirstTime]=_0x47d673,_0x3ce8e5[BG_PathBegin]=0x1,_0x29fa72[BS_CUE_BALL_PATH][_0xa846a(0x170)](_0x3ce8e5);}function threeBallInPathLine(_0x37849c,_0x583958,_0x147120,_0x1f8d47){const _0x160370=_0x1a8361,_0x3946be=lineLength(_0x37849c[BG_CenterX],_0x37849c[BG_CenterY],_0x147120[BG_CenterX],_0x147120[BG_CenterY]),_0x84efd0=lineLength(_0x37849c[BG_CenterX],_0x37849c[BG_CenterY],_0x583958[BG_CenterX],_0x583958[BG_CenterY]),_0x42ffec=lineLength(_0x583958[BG_CenterX],_0x583958[BG_CenterY],_0x147120[BG_CenterX],_0x147120[BG_CenterY]);if(!(_0x3946be>_0x84efd0&&_0x3946be>_0x42ffec))return![];if(_0x84efd0<_0x37849c[BG_Radius]||_0x42ffec<_0x583958[BG_Radius])return![];const _0x29c119=_0x583958[BG_FirstTime]-_0x37849c[BG_FirstTime],_0x3d86a2=_0x147120[BG_FirstTime]-_0x583958[BG_FirstTime];if(_0x29c119<=0x0||_0x3d86a2<=0x0)return![];if(_0x84efd0/_0x29c119>_0x42ffec/_0x3d86a2*0x3)return myLog(_0x160370(0x179)+(_0x84efd0/_0x29c119)['toFixed'](0x4)+_0x160370(0x136)+(_0x42ffec/_0x3d86a2)[_0x160370(0x15f)](0x4)+'\x20'+[_0x37849c[BG_FirstTime],_0x37849c[BG_CenterX],_0x37849c[BG_CenterY]]+_0x160370(0x12f)+[_0x583958[BG_FirstTime],_0x37849c[BG_CenterX],_0x583958[BG_CenterY]]+_0x160370(0x12f)+[_0x147120[BG_FirstTime],_0x147120[BG_CenterX],_0x147120[BG_CenterY]]),![];const _0x2e93ed=getLineSegmentAngle(_0x37849c[BG_CenterX],_0x37849c[BG_CenterY],_0x147120[BG_CenterX],_0x147120[BG_CenterY]),_0x46b20a=getLineSegmentAngle(_0x37849c[BG_CenterX],_0x37849c[BG_CenterY],_0x583958[BG_CenterX],_0x583958[BG_CenterY]),_0x5ea3f1=getLineSegmentAngle(_0x583958[BG_CenterX],_0x583958[BG_CenterY],_0x147120[BG_CenterX],_0x147120[BG_CenterY]),_0x23e57f=0x2;if(diffLineSegmentAngle(_0x2e93ed,_0x5ea3f1)<=_0x23e57f&&diffLineSegmentAngle(_0x46b20a,_0x5ea3f1)<=_0x23e57f)return myLog([_0x37849c[BG_FirstTime],_0x37849c[BG_CenterX],_0x37849c[BG_CenterY]]+_0x160370(0x12f)+[_0x583958[BG_FirstTime],_0x37849c[BG_CenterX],_0x583958[BG_CenterY]]+'\x20->\x20'+[_0x147120[BG_FirstTime],_0x147120[BG_CenterX],_0x147120[BG_CenterY]]+_0x160370(0x164)+Math[_0x160370(0x146)](_0x2e93ed)+','+Math[_0x160370(0x146)](_0x46b20a)+','+Math[_0x160370(0x146)](_0x5ea3f1)),!![];if(_0x3946be<g[BG_Radius]*0x6){const _0xc1fdc7=Math[_0x160370(0x17d)](dotToLineDistanceSign(_0x37849c[BG_CenterX],_0x37849c[BG_CenterY],_0x147120[BG_CenterX],_0x147120[BG_CenterY],_0x583958[BG_CenterX],_0x583958[BG_CenterY])),_0x29c3a3=Math['max'](_0x583958[BG_Radius]/0x3,0x2);if(_0xc1fdc7<=_0x29c3a3)return myLog([_0x37849c[BG_FirstTime],_0x37849c[BG_CenterX],_0x37849c[BG_CenterY]]+'\x20->\x20'+[_0x583958[BG_FirstTime],_0x37849c[BG_CenterX],_0x583958[BG_CenterY]]+'\x20->\x20'+[_0x147120[BG_FirstTime],_0x147120[BG_CenterX],_0x147120[BG_CenterY]]+_0x160370(0x17b)+Math[_0x160370(0x146)](_0xc1fdc7)+_0x160370(0x13a)+_0x583958[BG_Radius]),!![];}return![];}function getTimeGap(_0x42b0da,_0x65f00,_0x1d2c68){const _0x1f51db=_0x1a8361;let _0x3164cb=[_0x65f00,_0x1d2c68];for(let _0x35a241 of _0x42b0da[BS_GEN_PATH_FRAME_TIMES]){_0x65f00<_0x35a241[0x0]&&_0x35a241[0x0]<_0x1d2c68&&_0x3164cb[_0x1f51db(0x170)](_0x35a241[0x0]);}_0x3164cb[_0x1f51db(0x176)]((_0x353d0f,_0x5dc1cd)=>_0x353d0f-_0x5dc1cd);let _0x5053f1,_0x41b62a,_0x1a95dd=0x0,_0x29ccc2=0x0,_0x56cea4=0x0;for(_0x5053f1=0x0;_0x5053f1<_0x3164cb[_0x1f51db(0x158)]-0x1;_0x5053f1++){_0x41b62a=_0x3164cb[_0x5053f1+0x1]-_0x3164cb[_0x5053f1];if(_0x41b62a<frameInSecondMultiple2)continue;_0x41b62a>_0x1a95dd&&(_0x1a95dd=_0x41b62a,_0x29ccc2=_0x3164cb[_0x5053f1],_0x56cea4=_0x3164cb[_0x5053f1+0x1]);}if(_0x1d2c68-_0x65f00>(_0x56cea4-_0x29ccc2)*0x5)return myLog('No\x20cue\x20balls\x20between\x20'+_0x65f00+'-'+_0x1d2c68),[0x0,0x0];let _0x23adaa=Math[_0x1f51db(0x146)]((_0x29ccc2+_0x56cea4)/0x2);return _0x23adaa>0x0&&(locatePathFrameTimes(_0x42b0da,_0x23adaa)!=null&&(_0x1a95dd=0x0,_0x23adaa=0x0)),[_0x1a95dd,_0x23adaa];}function locatePathFrameTimes(_0x5a8e85,_0x40e3bb){const _0x9e2e1=_0x1a8361;for(let _0x14e9e0 of _0x5a8e85[BS_GEN_PATH_FRAME_TIMES]){if(Math[_0x9e2e1(0x17d)](_0x14e9e0[0x0]-_0x40e3bb)<frameInSecondMultiple)return _0x14e9e0;}return null;}function connectCueBallPath(_0x1677fa){const _0x2d840a=_0x1a8361;let _0x589f96,_0x309db6,_0x576fcd,_0x9cb090,_0x38790a,_0x5267c2,_0x42ceeb,_0x330bc9,_0x2c9969,_0x76d853,_0x38e1d0,_0x386dee,_0x4ece78,_0x375d30,_0x3f7f6c,_0x20420e;for(_0x589f96=0x0;_0x589f96<_0x1677fa[BS_CUE_BALL_PATH][_0x2d840a(0x158)]-0x2;_0x589f96++){_0x576fcd=_0x1677fa[BS_CUE_BALL_PATH][_0x589f96],_0x9cb090=_0x1677fa[BS_CUE_BALL_PATH][_0x589f96+0x1],_0x38790a=_0x1677fa[BS_CUE_BALL_PATH][_0x589f96+0x2];if(_0x9cb090[BG_PathBegin]==0x0&&_0x38790a[BG_PathBegin]==0x0)continue;_0x38e1d0=lineLength(_0x576fcd[BG_CenterX],_0x576fcd[BG_CenterY],_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY]),_0x386dee=lineLength(_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY],_0x38790a[BG_CenterX],_0x38790a[BG_CenterY]),_0x20420e=0x0,_0x4ece78=-0x1,_0x375d30=-0x1;_0x38e1d0>_0x576fcd[BG_Radius]/0x2&&(_0x4ece78=getLineSegmentAngle(_0x576fcd[BG_CenterX],_0x576fcd[BG_CenterY],_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY]));_0x386dee>_0x9cb090[BG_Radius]/0x2&&(_0x375d30=getLineSegmentAngle(_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY],_0x38790a[BG_CenterX],_0x38790a[BG_CenterY]));_0x4ece78>=0x0&&_0x375d30>=0x0&&((diffLineSegmentAngle(_0x4ece78,_0x375d30)>0x14||ballInMiddle(_0x576fcd,_0x9cb090,_0x38790a)==![])&&(_0x20420e=0x1));_0x589f96>0x0&&_0x20420e==0x0&&(_0x5267c2=_0x1677fa[BS_CUE_BALL_PATH][_0x589f96-0x1],lineLength(_0x5267c2[BG_CenterX],_0x5267c2[BG_CenterY],_0x576fcd[BG_CenterX],_0x576fcd[BG_CenterY])>_0x576fcd[BG_Radius]/0x2&&(_0x3f7f6c=getLineSegmentAngle(_0x5267c2[BG_CenterX],_0x5267c2[BG_CenterY],_0x576fcd[BG_CenterX],_0x576fcd[BG_CenterY]),_0x375d30>=0x0&&(diffLineSegmentAngle(_0x375d30,_0x3f7f6c)>0x14&&(_0x20420e=0x2)),_0x4ece78>=0x0&&(diffLineSegmentAngle(_0x4ece78,_0x3f7f6c)>0x14&&(_0x20420e=0x2)),ballInMiddle(_0x5267c2,_0x576fcd,_0x38790a)==![]&&(_0x20420e=0x1)));_0x589f96+0x3<_0x1677fa[BS_CUE_BALL_PATH][_0x2d840a(0x158)]&&_0x20420e==0x0&&(_0x5267c2=_0x1677fa[BS_CUE_BALL_PATH][_0x589f96+0x3],lineLength(_0x38790a[BG_CenterX],_0x38790a[BG_CenterY],_0x5267c2[BG_CenterX],_0x5267c2[BG_CenterY])>_0x38790a[BG_Radius]/0x2&&(_0x3f7f6c=getLineSegmentAngle(_0x38790a[BG_CenterX],_0x38790a[BG_CenterY],_0x5267c2[BG_CenterX],_0x5267c2[BG_CenterY]),_0x4ece78>=0x0&&(diffLineSegmentAngle(_0x4ece78,_0x3f7f6c)>0x14&&(_0x20420e=0x2)),_0x375d30>=0x0&&(diffLineSegmentAngle(_0x375d30,_0x3f7f6c)>0x14&&(_0x20420e=0x2)),ballInMiddle(_0x576fcd,_0x38790a,_0x5267c2)==![]&&(_0x20420e=0x1)));(_0x38e1d0<_0x576fcd[BG_Radius]*0x2&&_0x20420e==0x0||_0x38e1d0<_0x576fcd[BG_Radius]*0x6&&_0x9cb090[BG_FirstTime]-_0x576fcd[BG_FirstTime]<frameInSecondMultiple2)&&(_0x9cb090[BG_PathBegin]=0x0);if(_0x386dee<_0x9cb090[BG_Radius]*0x2&&_0x20420e==0x0||_0x386dee<_0x9cb090[BG_Radius]*0x6&&_0x38790a[BG_FirstTime]-_0x9cb090[BG_FirstTime]<frameInSecondMultiple2)_0x38790a[BG_PathBegin]=0x0;else _0x386dee<_0x9cb090[BG_Radius]*0x4&&_0x589f96+0x2==_0x1677fa[BS_CUE_BALL_PATH][_0x2d840a(0x158)]-0x1&&_0x38790a[BG_PathBegin]==0x1&&(_0x38790a[BG_PathBegin]=0x0,myLog(_0x2d840a(0x14c)+[_0x9cb090[BG_FirstTime],_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY]]+_0x2d840a(0x12f)+[_0x38790a[BG_FirstTime],_0x38790a[BG_CenterX],_0x38790a[BG_CenterY]]));_0x76d853=locateCacheGroups(_0x1677fa,_0x576fcd[BG_FirstTime],0x0);if(_0x76d853==null)continue;_0x42ceeb=_0x76d853[0x1],_0x76d853=locateCacheGroups(_0x1677fa,_0x9cb090[BG_FirstTime],0x0);if(_0x76d853==null)continue;_0x330bc9=_0x76d853[0x1],_0x76d853=locateCacheGroups(_0x1677fa,_0x38790a[BG_FirstTime],0x0);if(_0x76d853==null)continue;groups2=_0x76d853[0x1];if(hasBallInMiddle(_0x42ceeb,_0x576fcd[BG_CenterX],_0x576fcd[BG_CenterY],_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY],_0x576fcd)||hasBallInMiddle(_0x330bc9,_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY],_0x576fcd[BG_CenterX],_0x576fcd[BG_CenterY],_0x9cb090))continue;if(_0x9cb090[BG_FirstTime]-_0x576fcd[BG_FirstTime]>=frameInSecondMultiple2||_0x38790a[BG_FirstTime]-_0x9cb090[BG_FirstTime]>=frameInSecondMultiple2){if(_0x20420e==0x1)continue;}if(_0x38790a[BG_FirstTime]-_0x9cb090[BG_FirstTime]>=frameInSecondMultiple2){if(hasBallInMiddle(_0x330bc9,_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY],_0x38790a[BG_CenterX],_0x38790a[BG_CenterY],_0x9cb090)&&hasBallInMiddle(groups2,_0x38790a[BG_CenterX],_0x38790a[BG_CenterY],_0x9cb090[BG_CenterX],_0x9cb090[BG_CenterY],_0x38790a))continue;if(hasBallInMiddle(_0x42ceeb,_0x576fcd[BG_CenterX],_0x576fcd[BG_CenterY],_0x38790a[BG_CenterX],_0x38790a[BG_CenterY],_0x576fcd)||hasBallInMiddle(groups2,_0x38790a[BG_CenterX],_0x38790a[BG_CenterY],_0x576fcd[BG_CenterX],_0x576fcd[BG_CenterY],_0x38790a))continue;}threeBallInPathLine(_0x576fcd,_0x9cb090,_0x38790a,_0x20420e)&&(_0x9cb090[BG_PathBegin]=0x0,_0x38790a[BG_PathBegin]=0x0);}}function captureWhoteImage(){const _0x4c8d12=_0x1a8361;contextCapture[_0x4c8d12(0x12d)](videoObject,0x0,0x0,canvasCapture[_0x4c8d12(0x172)],canvasCapture[_0x4c8d12(0x167)]);const _0x359f2d=contextCapture['getImageData'](0x0,0x0,canvasCapture[_0x4c8d12(0x172)],canvasCapture['height']);videoPixels=_0x359f2d['data'];}function doDetectTable(_0x29dcc5){const _0x3ed59d=_0x1a8361,_0xdae05f=[_0x3ed59d(0x150),_0x3ed59d(0x151)];let _0x2ba0fd,_0x56f133,_0x9dce3a,_0x129d31,_0x3548c9,_0x17b95b=0x0,_0x41e5a4,_0x4254c6,_0xa3e88d,_0x46360f,_0x37c927,_0xd26b7d,_0x23009b=[],_0x491f7d,_0x471932,_0x3f6520,_0x30d8d5,_0x197c60,_0xd50648=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],_0xa42306=[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0];captureWhoteImage();let _0x499577=detectPocket();if(_0x499577[_0x3ed59d(0x158)]!=0x4)return myLog('Only\x20'+_0x499577[_0x3ed59d(0x158)]+_0x3ed59d(0x135)),0x1;_0x2ba0fd=VideoWidth/0x2;for(_0xd26b7d=0x0;_0xd26b7d<_0x499577[_0x3ed59d(0x158)];_0xd26b7d++){if(_0x499577[_0xd26b7d][0x5]==0x0)_0x499577[_0xd26b7d][0x0]<_0x2ba0fd?(_0xa42306[0x0]=_0x499577[_0xd26b7d][0x0]+_0x499577[_0xd26b7d][0x2],_0xa42306[0x1]=_0x499577[_0xd26b7d][0x1]+_0x499577[_0xd26b7d][0x3],_0xd50648[0x0]=_0x499577[_0xd26b7d][0x0],_0xd50648[0x1]=_0x499577[_0xd26b7d][0x1]):(_0xa42306[0x2]=_0x499577[_0xd26b7d][0x0],_0xa42306[0x3]=_0x499577[_0xd26b7d][0x1]+_0x499577[_0xd26b7d][0x3],_0xd50648[0x2]=_0x499577[_0xd26b7d][0x0]+_0x499577[_0xd26b7d][0x2],_0xd50648[0x3]=_0x499577[_0xd26b7d][0x1]);else _0x499577[_0xd26b7d][0x5]==0x1&&(_0x499577[_0xd26b7d][0x0]<_0x2ba0fd?(_0xa42306[0x6]=_0x499577[_0xd26b7d][0x0]+_0x499577[_0xd26b7d][0x2],_0xa42306[0x7]=_0x499577[_0xd26b7d][0x1],_0xd50648[0x6]=_0x499577[_0xd26b7d][0x0],_0xd50648[0x7]=_0x499577[_0xd26b7d][0x1]+_0x499577[_0xd26b7d][0x3]):(_0xa42306[0x4]=_0x499577[_0xd26b7d][0x0],_0xa42306[0x5]=_0x499577[_0xd26b7d][0x1],_0xd50648[0x4]=_0x499577[_0xd26b7d][0x0]+_0x499577[_0xd26b7d][0x2],_0xd50648[0x5]=_0x499577[_0xd26b7d][0x1]+_0x499577[_0xd26b7d][0x3]));}_0x471932=Math[_0x3ed59d(0x177)](_0xa42306[0x1],_0xa42306[0x3])+0x1e,_0x30d8d5=Math[_0x3ed59d(0x130)](_0xa42306[0x5],_0xa42306[0x7])-0x1e,_0x491f7d=Math[_0x3ed59d(0x177)](_0xa42306[0x0],_0xa42306[0x6])+0x1e,_0x3f6520=Math[_0x3ed59d(0x130)](_0xa42306[0x2],_0xa42306[0x4])-0x1e;for(_0x56f133=_0x471932;_0x56f133<=_0x30d8d5;_0x56f133++){_0x2ba0fd=_0x491f7d,_0x129d31=(_0x56f133*VideoWidth+_0x2ba0fd)*0x4;for(;_0x2ba0fd<=_0x3f6520;_0x2ba0fd++,_0x129d31=_0x129d31+0x4){_0xa3e88d=videoPixels[_0x129d31],_0x37c927=videoPixels[_0x129d31+0x1],_0x46360f=videoPixels[_0x129d31+0x2],_0x17b95b++,_0x3548c9=(_0xa3e88d>>0x3<<0xa)+(_0x37c927>>0x3<<0x5)+(_0x46360f>>0x3),_0x23009b[_0x3548c9]?_0x23009b[_0x3548c9]++:_0x23009b[_0x3548c9]=0x1;}}_0x41e5a4=0x0,_0x4254c6=0x0;for(_0x3548c9=0x0;_0x3548c9<_0x23009b[_0x3ed59d(0x158)];_0x3548c9++){if(_0x23009b[_0x3548c9]){if(_0x23009b[_0x3548c9]>_0x4254c6){_0xa3e88d=_0x3548c9>>0xa<<0x3,_0x37c927=(_0x3548c9>>0x5&0x1f)<<0x3,_0x46360f=(_0x3548c9&0x1f)<<0x3,_0x197c60=rgbToHsv(_0xa3e88d,_0x37c927,_0x46360f);if(_0x197c60[0x1]<0x64||_0x197c60[0x2]<0x64)continue;_0x41e5a4=_0x3548c9,_0x4254c6=_0x23009b[_0x3548c9];}}}let _0x5a61b2=_0x41e5a4>>0xa<<0x3,_0x2b4091=(_0x41e5a4>>0x5&0x1f)<<0x3,_0x29cf43=(_0x41e5a4&0x1f)<<0x3,_0xf39e43=_0x5a61b2*_0x4254c6,_0x498637=_0x2b4091*_0x4254c6,_0x248172=_0x29cf43*_0x4254c6,_0x5573a4=_0x4254c6;for(_0x3548c9=0x0;_0x3548c9<_0x23009b[_0x3ed59d(0x158)];_0x3548c9++){if(_0x3548c9==_0x41e5a4)continue;_0x23009b[_0x3548c9]&&(_0x4254c6=_0x23009b[_0x3548c9],_0xa3e88d=_0x3548c9>>0xa<<0x3,_0x37c927=(_0x3548c9>>0x5&0x1f)<<0x3,_0x46360f=(_0x3548c9&0x1f)<<0x3,Math['abs'](_0xa3e88d-_0x5a61b2)<0x32&&Math[_0x3ed59d(0x17d)](_0x37c927-_0x2b4091)<0x32&&Math['abs'](_0x46360f-_0x29cf43)<0x32&&(_0xf39e43=_0xf39e43+_0xa3e88d*_0x4254c6,_0x498637=_0x498637+_0x37c927*_0x4254c6,_0x248172=_0x248172+_0x46360f*_0x4254c6,_0x5573a4=_0x5573a4+_0x4254c6));}_0xa3e88d=Math['round'](_0xf39e43/_0x5573a4),_0x37c927=Math['round'](_0x498637/_0x5573a4),_0x46360f=Math[_0x3ed59d(0x146)](_0x248172/_0x5573a4);let _0x4cf138,_0x174ee2,_0x3f8ae4,_0x1a245d;if(_0x5573a4>_0x17b95b*0.5){_0x197c60=rgbToHsv(_0xa3e88d,_0x37c927,_0x46360f);if(_0x197c60[0x2]>TABLE_CLOTH_MIN_AVG_BRIGHT&&_0x197c60[0x1]>TABLE_CLOTH_MIN_SAT)_0x4cf138=Math[_0x3ed59d(0x177)](_0x197c60[0x2]/0x2,TABLE_CLOTH_MIN_BRIGHT),_0x174ee2=Math[_0x3ed59d(0x177)](_0x197c60[0x1]/0x2,TABLE_CLOTH_MIN_SAT),_0x3f8ae4=_0x197c60[0x0]+TableClothHueRange,_0x1a245d=_0x197c60[0x0]-TableClothHueRange;else return[];}else return myLog(_0x3ed59d(0x178)+_0xa3e88d+','+_0x37c927+','+_0x46360f+_0x3ed59d(0x156)+_0x5573a4+'/'+_0x17b95b),[];let _0x17eb8c=[],_0x2b7e22=[],_0x21cbf3=[],_0x4ecbf2=[];for(_0x2ba0fd=0x0;_0x2ba0fd<VideoWidth;_0x2ba0fd++){_0x21cbf3[_0x2ba0fd]=0x0,_0x4ecbf2[_0x2ba0fd]=0x0;}for(_0x56f133=0x0;_0x56f133<VideoHeight;_0x56f133++){_0x17eb8c[_0x56f133]=0x0,_0x2b7e22[_0x56f133]=0x0;}let _0x1063ff=[_0xd50648[0x0],_0xd50648[0x1],_0xd50648[0x2],_0xd50648[0x3]],_0x3b93fc=[_0xd50648[0x0],_0xa42306[0x1],_0xd50648[0x2],_0xa42306[0x3]];_0x491f7d=Math['max'](_0xa42306[0x0],0x1),_0x3f6520=Math[_0x3ed59d(0x130)](_0xa42306[0x2],VideoWidth-0x1);for(_0x2ba0fd=_0x491f7d;_0x2ba0fd<=_0x3f6520;_0x2ba0fd++){_0x56f133=Math[_0x3ed59d(0x177)](getLineY(_0x1063ff[0x0],_0x1063ff[0x1],_0x1063ff[0x2],_0x1063ff[0x3],_0x2ba0fd),0x1),_0x30d8d5=getLineY(_0x3b93fc[0x0],_0x3b93fc[0x1],_0x3b93fc[0x2],_0x3b93fc[0x3],_0x2ba0fd),_0x129d31=(_0x56f133*VideoWidth+_0x2ba0fd)*0x4;for(;_0x56f133<=_0x30d8d5;_0x56f133++,_0x129d31=_0x129d31+VideoWidth4){_0xa3e88d=videoPixels[_0x129d31],_0x37c927=videoPixels[_0x129d31+0x1],_0x46360f=videoPixels[_0x129d31+0x2],_0x197c60=rgbToHsv(_0xa3e88d,_0x37c927,_0x46360f);if(_0x1a245d<=_0x197c60[0x0]&&_0x197c60[0x0]<=_0x3f8ae4&&_0x197c60[0x1]>=_0x174ee2&&_0x197c60[0x2]>=_0x4cf138){_0x21cbf3[_0x2ba0fd]=_0x56f133;break;}}}let _0x24833e=[_0xd50648[0x6],_0xd50648[0x7],_0xd50648[0x4],_0xd50648[0x5]],_0x4bd82b=[_0xd50648[0x6],_0xa42306[0x7],_0xd50648[0x4],_0xa42306[0x5]];_0x491f7d=Math[_0x3ed59d(0x177)](_0xa42306[0x6],0x1),_0x3f6520=Math[_0x3ed59d(0x130)](_0xa42306[0x4],VideoWidth-0x1);for(_0x2ba0fd=_0x491f7d;_0x2ba0fd<=_0x3f6520;_0x2ba0fd++){_0x56f133=Math[_0x3ed59d(0x130)](getLineY(_0x24833e[0x0],_0x24833e[0x1],_0x24833e[0x2],_0x24833e[0x3],_0x2ba0fd),VideoHeight-0x1),_0x30d8d5=getLineY(_0x4bd82b[0x0],_0x4bd82b[0x1],_0x4bd82b[0x2],_0x4bd82b[0x3],_0x2ba0fd),_0x129d31=(_0x56f133*VideoWidth+_0x2ba0fd)*0x4;for(;_0x56f133>=_0x30d8d5;_0x56f133--,_0x129d31=_0x129d31-VideoWidth4){_0xa3e88d=videoPixels[_0x129d31],_0x37c927=videoPixels[_0x129d31+0x1],_0x46360f=videoPixels[_0x129d31+0x2],_0x197c60=rgbToHsv(_0xa3e88d,_0x37c927,_0x46360f);if(_0x1a245d<=_0x197c60[0x0]&&_0x197c60[0x0]<=_0x3f8ae4&&_0x197c60[0x1]>=_0x174ee2&&_0x197c60[0x2]>=_0x4cf138){_0x4ecbf2[_0x2ba0fd]=_0x56f133;break;}}}let _0x5a8e31=[_0xd50648[0x0],_0xd50648[0x1],_0xd50648[0x6],_0xa42306[0x7]],_0x4253d0=[_0xa42306[0x0],_0xa42306[0x1],_0xa42306[0x6],_0xd50648[0x7]];_0x471932=Math[_0x3ed59d(0x177)](_0xa42306[0x1],0x1),_0x30d8d5=Math[_0x3ed59d(0x130)](_0xa42306[0x7],VideoHeight-0x1);for(_0x56f133=_0x471932;_0x56f133<=_0x30d8d5;_0x56f133++){_0x2ba0fd=Math[_0x3ed59d(0x177)](getLineX(_0x5a8e31[0x0],_0x5a8e31[0x1],_0x5a8e31[0x2],_0x5a8e31[0x3],_0x56f133),0x1),_0x3f6520=getLineX(_0x4253d0[0x0],_0x4253d0[0x1],_0x4253d0[0x2],_0x4253d0[0x3],_0x56f133),_0x129d31=(_0x56f133*VideoWidth+_0x2ba0fd)*0x4;for(;_0x2ba0fd<=_0x3f6520;_0x2ba0fd++,_0x129d31=_0x129d31+0x4){_0xa3e88d=videoPixels[_0x129d31],_0x37c927=videoPixels[_0x129d31+0x1],_0x46360f=videoPixels[_0x129d31+0x2],_0x197c60=rgbToHsv(_0xa3e88d,_0x37c927,_0x46360f);if(_0x1a245d<=_0x197c60[0x0]&&_0x197c60[0x0]<=_0x3f8ae4&&_0x197c60[0x1]>=_0x174ee2&&_0x197c60[0x2]>=_0x4cf138){_0x17eb8c[_0x56f133]=_0x2ba0fd;break;}}}let _0x18fa2f=[_0xd50648[0x2],_0xd50648[0x3],_0xd50648[0x4],_0xa42306[0x5]],_0x35e285=[_0xa42306[0x2],_0xa42306[0x3],_0xa42306[0x4],_0xd50648[0x5]];_0x471932=Math['max'](_0xa42306[0x1],0x1),_0x30d8d5=Math['min'](_0xa42306[0x7],VideoHeight-0x1);for(_0x56f133=_0x471932;_0x56f133<=_0x30d8d5;_0x56f133++){_0x2ba0fd=Math['min'](getLineX(_0x18fa2f[0x0],_0x18fa2f[0x1],_0x18fa2f[0x2],_0x18fa2f[0x3],_0x56f133),VideoWidth-0x1),_0x3f6520=getLineX(_0x35e285[0x0],_0x35e285[0x1],_0x35e285[0x2],_0x35e285[0x3],_0x56f133),_0x129d31=(_0x56f133*VideoWidth+_0x2ba0fd)*0x4;for(;_0x2ba0fd>=_0x3f6520;_0x2ba0fd--,_0x129d31=_0x129d31-0x4){_0xa3e88d=videoPixels[_0x129d31],_0x37c927=videoPixels[_0x129d31+0x1],_0x46360f=videoPixels[_0x129d31+0x2],_0x197c60=rgbToHsv(_0xa3e88d,_0x37c927,_0x46360f);if(_0x1a245d<=_0x197c60[0x0]&&_0x197c60[0x0]<=_0x3f8ae4&&_0x197c60[0x1]>=_0x174ee2&&_0x197c60[0x2]>=_0x4cf138){_0x2b7e22[_0x56f133]=_0x2ba0fd;break;}}}let _0x250cd5=[],_0x4aa0d1=0x0,_0x2579ef,_0x3c0428,_0x207b52=[];_0x3c0428=Math[_0x3ed59d(0x146)](VideoWidth/0x2);for(_0x2579ef=0x5a;_0x2579ef>0x1e;_0x2579ef--){line=[0x0,0x0,0x0,VideoHeight-0x1],line[0x2]=-Math['round'](VideoHeight/Math[_0x3ed59d(0x13f)](_0x2579ef*(Math['PI']/0xb4)));while(line[0x2]<_0x3c0428){for(_0x56f133=0x0;_0x56f133<VideoHeight;_0x56f133++){if(_0x17eb8c[_0x56f133]>0x0){if(getLineX(line[0x0],line[0x1],line[0x2],line[0x3],_0x56f133)>=_0x17eb8c[_0x56f133]){_0x207b52[_0x3ed59d(0x170)]([line,leftRightErrorSquare(_0x17eb8c,line),_0x2579ef]);break;}}}if(_0x56f133<VideoHeight)break;line[0x0]++,line[0x2]++;}}minY=-0x1,line=null;for(_0xd26b7d=0x0;_0xd26b7d<_0x207b52[_0x3ed59d(0x158)];_0xd26b7d++){if(minY<0x0)minY=_0x207b52[_0xd26b7d][0x1],line=_0x207b52[_0xd26b7d][0x0];else minY>_0x207b52[_0xd26b7d][0x1]&&(minY=_0x207b52[_0xd26b7d][0x1],line=_0x207b52[_0xd26b7d][0x0]);}if(line!=null)_0x250cd5[TAB_LEFT_LINE]=line,_0x4aa0d1=_0x4aa0d1+minY;else return myLog(_0x3ed59d(0x148)),[];_0x207b52=[],_0x3c0428=Math[_0x3ed59d(0x146)](VideoWidth/0x2);for(_0x2579ef=0x5a;_0x2579ef<0x96;_0x2579ef++){line=[VideoWidth-0x1,0x0,0x0,VideoHeight-0x1],line[0x2]=VideoWidth+Math[_0x3ed59d(0x17d)](Math[_0x3ed59d(0x146)](VideoHeight/Math['tan'](_0x2579ef*(Math['PI']/0xb4))));while(line[0x2]>_0x3c0428){for(_0x56f133=0x0;_0x56f133<VideoHeight;_0x56f133++){if(_0x2b7e22[_0x56f133]>0x0){if(getLineX(line[0x0],line[0x1],line[0x2],line[0x3],_0x56f133)<=_0x2b7e22[_0x56f133]){_0x207b52[_0x3ed59d(0x170)]([line,leftRightErrorSquare(_0x2b7e22,line),_0x2579ef]);break;}}}if(_0x56f133<VideoHeight)break;line[0x0]--,line[0x2]--;}}minY=-0x1,line=null;for(_0xd26b7d=0x0;_0xd26b7d<_0x207b52['length'];_0xd26b7d++){if(minY<0x0)minY=_0x207b52[_0xd26b7d][0x1],line=_0x207b52[_0xd26b7d][0x0];else minY>_0x207b52[_0xd26b7d][0x1]&&(minY=_0x207b52[_0xd26b7d][0x1],line=_0x207b52[_0xd26b7d][0x0]);}if(line!=null)_0x250cd5[TAB_RIGHT_LINE]=line,_0x4aa0d1=_0x4aa0d1+minY;else return myLog(_0x3ed59d(0x14b)),[];_0x207b52=[],_0x3c0428=Math[_0x3ed59d(0x146)](VideoHeight/0x2);for(_0x2579ef=-0x1e;_0x2579ef<=0x1e;_0x2579ef++){line=[0x0,0x0,VideoWidth-0x1,0x0];_0x2579ef<=0x0?line[0x1]=-Math[_0x3ed59d(0x17d)](Math[_0x3ed59d(0x146)](VideoWidth*Math[_0x3ed59d(0x13f)](_0x2579ef*(Math['PI']/0xb4)))):line[0x3]=-Math[_0x3ed59d(0x17d)](Math[_0x3ed59d(0x146)](VideoWidth*Math[_0x3ed59d(0x13f)](_0x2579ef*(Math['PI']/0xb4))));while(line[0x1]<_0x3c0428||line[0x3]<_0x3c0428){for(_0x2ba0fd=0x0;_0x2ba0fd<VideoWidth;_0x2ba0fd++){if(_0x21cbf3[_0x2ba0fd]>0x0){if(getLineY(line[0x0],line[0x1],line[0x2],line[0x3],_0x2ba0fd)>=_0x21cbf3[_0x2ba0fd]){_0x207b52['push']([line,topBottomErrorSquare(_0x21cbf3,line),_0x2579ef]);break;}}}if(_0x2ba0fd<VideoWidth)break;line[0x1]++,line[0x3]++;}}minY=-0x1,line=null;for(_0xd26b7d=0x0;_0xd26b7d<_0x207b52['length'];_0xd26b7d++){if(minY<0x0)minY=_0x207b52[_0xd26b7d][0x1],line=_0x207b52[_0xd26b7d][0x0];else minY>_0x207b52[_0xd26b7d][0x1]&&(minY=_0x207b52[_0xd26b7d][0x1],line=_0x207b52[_0xd26b7d][0x0]);}if(line!=null)_0x250cd5[TAB_TOP_LINE]=line,_0x4aa0d1=_0x4aa0d1+minY;else return myLog(_0x3ed59d(0x141)),[];_0x207b52=[],_0x3c0428=Math[_0x3ed59d(0x146)](VideoHeight/0x2);for(_0x2579ef=-0x1e;_0x2579ef<=0x1e;_0x2579ef++){line=[0x0,VideoHeight-0x1,VideoWidth-0x1,VideoHeight-0x1];_0x2579ef<=0x0?line[0x3]=VideoHeight+Math[_0x3ed59d(0x17d)](Math['round'](VideoWidth*Math[_0x3ed59d(0x13f)](_0x2579ef*(Math['PI']/0xb4)))):line[0x1]=VideoHeight+Math[_0x3ed59d(0x17d)](Math[_0x3ed59d(0x146)](VideoWidth*Math[_0x3ed59d(0x13f)](_0x2579ef*(Math['PI']/0xb4))));while(line[0x1]>_0x3c0428||line[0x3]>_0x3c0428){for(_0x2ba0fd=0x0;_0x2ba0fd<VideoWidth;_0x2ba0fd++){if(_0x4ecbf2[_0x2ba0fd]>0x0){if(getLineY(line[0x0],line[0x1],line[0x2],line[0x3],_0x2ba0fd)<=_0x4ecbf2[_0x2ba0fd]){_0x207b52['push']([line,topBottomErrorSquare(_0x4ecbf2,line),_0x2579ef]);break;}}}if(_0x2ba0fd<VideoWidth)break;line[0x1]--,line[0x3]--;}}minY=-0x1,line=null;for(_0xd26b7d=0x0;_0xd26b7d<_0x207b52['length'];_0xd26b7d++){if(minY<0x0)minY=_0x207b52[_0xd26b7d][0x1],line=_0x207b52[_0xd26b7d][0x0];else minY>_0x207b52[_0xd26b7d][0x1]&&(minY=_0x207b52[_0xd26b7d][0x1],line=_0x207b52[_0xd26b7d][0x0]);}if(line!=null)_0x250cd5[TAB_BOTTOM_LINE]=line,_0x4aa0d1=_0x4aa0d1+minY;else return myLog(_0x3ed59d(0x155)),[];_0x250cd5[TAB_TOP_LINE][0x1]=Math[_0x3ed59d(0x177)](_0x250cd5[TAB_TOP_LINE][0x1]-0x2,0x0),_0x250cd5[TAB_TOP_LINE][0x3]=Math['max'](_0x250cd5[TAB_TOP_LINE][0x3]-0x2,0x0);let _0x592445=getCrossPoint(_0x250cd5[TAB_RIGHT_LINE][0x0],_0x250cd5[TAB_RIGHT_LINE][0x1],_0x250cd5[TAB_RIGHT_LINE][0x2],_0x250cd5[TAB_RIGHT_LINE][0x3],_0x250cd5[TAB_TOP_LINE][0x0],_0x250cd5[TAB_TOP_LINE][0x1],_0x250cd5[TAB_TOP_LINE][0x2],_0x250cd5[TAB_TOP_LINE][0x3]);return _0x592445[0x0]!=0x0?(_0x250cd5[TAB_TOP_LINE][0x2]=_0x592445[0x0],_0x250cd5[TAB_TOP_LINE][0x3]=_0x592445[0x1],_0x250cd5[TAB_RIGHT_LINE][0x0]=_0x592445[0x0],_0x250cd5[TAB_RIGHT_LINE][0x1]=_0x592445[0x1]):_0x250cd5[TAB_TOP_LINE][0x3]<0x0&&(_0x250cd5[TAB_TOP_LINE][0x2]=getLineX(_0x250cd5[TAB_TOP_LINE][0x0],_0x250cd5[TAB_TOP_LINE][0x1],_0x250cd5[TAB_TOP_LINE][0x2],_0x250cd5[TAB_TOP_LINE][0x3],0x0),_0x250cd5[TAB_TOP_LINE][0x3]=0x0),_0x592445=getCrossPoint(_0x250cd5[TAB_LEFT_LINE][0x0],_0x250cd5[TAB_LEFT_LINE][0x1],_0x250cd5[TAB_LEFT_LINE][0x2],_0x250cd5[TAB_LEFT_LINE][0x3],_0x250cd5[TAB_TOP_LINE][0x0],_0x250cd5[TAB_TOP_LINE][0x1],_0x250cd5[TAB_TOP_LINE][0x2],_0x250cd5[TAB_TOP_LINE][0x3]),_0x592445[0x0]!=0x0?(_0x250cd5[TAB_TOP_LINE][0x0]=_0x592445[0x0],_0x250cd5[TAB_TOP_LINE][0x1]=_0x592445[0x1],_0x250cd5[TAB_LEFT_LINE][0x0]=_0x592445[0x0],_0x250cd5[TAB_LEFT_LINE][0x1]=_0x592445[0x1]):_0x250cd5[TAB_TOP_LINE][0x1]<0x0&&(_0x250cd5[TAB_TOP_LINE][0x0]=getLineX(_0x250cd5[TAB_TOP_LINE][0x0],_0x250cd5[TAB_TOP_LINE][0x1],_0x250cd5[TAB_TOP_LINE][0x2],_0x250cd5[TAB_TOP_LINE][0x3],0x0),_0x250cd5[TAB_TOP_LINE][0x1]=0x0),_0x592445=getCrossPoint(_0x250cd5[TAB_LEFT_LINE][0x0],_0x250cd5[TAB_LEFT_LINE][0x1],_0x250cd5[TAB_LEFT_LINE][0x2],_0x250cd5[TAB_LEFT_LINE][0x3],_0x250cd5[TAB_BOTTOM_LINE][0x0],_0x250cd5[TAB_BOTTOM_LINE][0x1],_0x250cd5[TAB_BOTTOM_LINE][0x2],_0x250cd5[TAB_BOTTOM_LINE][0x3]),_0x592445[0x0]!=0x0?(_0x250cd5[TAB_BOTTOM_LINE][0x0]=_0x592445[0x0],_0x250cd5[TAB_BOTTOM_LINE][0x1]=_0x592445[0x1],_0x250cd5[TAB_LEFT_LINE][0x2]=_0x592445[0x0],_0x250cd5[TAB_LEFT_LINE][0x3]=_0x592445[0x1]):(_0x250cd5[TAB_BOTTOM_LINE][0x1]>=VideoHeight&&(_0x250cd5[TAB_BOTTOM_LINE][0x0]=getLineX(_0x250cd5[TAB_BOTTOM_LINE][0x0],_0x250cd5[TAB_BOTTOM_LINE][0x1],_0x250cd5[TAB_BOTTOM_LINE][0x2],_0x250cd5[TAB_BOTTOM_LINE][0x3],VideoHeight-0x1),_0x250cd5[TAB_BOTTOM_LINE][0x1]=VideoHeight-0x1),_0x250cd5[TAB_LEFT_LINE][0x2]<0x0&&(_0x250cd5[TAB_LEFT_LINE][0x3]=getLineY(_0x250cd5[TAB_LEFT_LINE][0x0],_0x250cd5[TAB_LEFT_LINE][0x1],_0x250cd5[TAB_LEFT_LINE][0x2],_0x250cd5[TAB_LEFT_LINE][0x3],0x0),_0x250cd5[TAB_LEFT_LINE][0x2]=0x0)),_0x592445=getCrossPoint(_0x250cd5[TAB_RIGHT_LINE][0x0],_0x250cd5[TAB_RIGHT_LINE][0x1],_0x250cd5[TAB_RIGHT_LINE][0x2],_0x250cd5[TAB_RIGHT_LINE][0x3],_0x250cd5[TAB_BOTTOM_LINE][0x0],_0x250cd5[TAB_BOTTOM_LINE][0x1],_0x250cd5[TAB_BOTTOM_LINE][0x2],_0x250cd5[TAB_BOTTOM_LINE][0x3]),_0x592445[0x0]!=0x0?(_0x250cd5[TAB_BOTTOM_LINE][0x2]=_0x592445[0x0],_0x250cd5[TAB_BOTTOM_LINE][0x3]=_0x592445[0x1],_0x250cd5[TAB_RIGHT_LINE][0x2]=_0x592445[0x0],_0x250cd5[TAB_RIGHT_LINE][0x3]=_0x592445[0x1]):(_0x250cd5[TAB_BOTTOM_LINE][0x3]>=VideoHeight&&(_0x250cd5[TAB_BOTTOM_LINE][0x2]=getLineX(_0x250cd5[TAB_BOTTOM_LINE][0x0],_0x250cd5[TAB_BOTTOM_LINE][0x1],_0x250cd5[TAB_BOTTOM_LINE][0x2],_0x250cd5[TAB_BOTTOM_LINE][0x3],VideoHeight-0x1),_0x250cd5[TAB_BOTTOM_LINE][0x3]=VideoHeight-0x1),_0x250cd5[TAB_RIGHT_LINE][0x2]>=VideoWidth&&(_0x250cd5[TAB_RIGHT_LINE][0x3]=getLineY(_0x250cd5[TAB_RIGHT_LINE][0x0],_0x250cd5[TAB_RIGHT_LINE][0x1],_0x250cd5[TAB_RIGHT_LINE][0x2],_0x250cd5[TAB_RIGHT_LINE][0x3],VideoWidth-0x1),_0x250cd5[TAB_RIGHT_LINE][0x2]=VideoWidth-0x1)),myLog(_0x29dcc5+_0x3ed59d(0x17c)+_0x4aa0d1),[_0x250cd5,_0x4aa0d1];}function leftRightErrorSquare(_0x3bd6fe,_0xfca9d6){let _0x1a58cd,_0x1b756d=0x0,_0x404d63;for(_0x1a58cd=0x0;_0x1a58cd<_0x3bd6fe['length'];_0x1a58cd++){_0x3bd6fe[_0x1a58cd]>0x0&&(_0x404d63=getLineX(_0xfca9d6[0x0],_0xfca9d6[0x1],_0xfca9d6[0x2],_0xfca9d6[0x3],_0x1a58cd),_0x1b756d=_0x1b756d+(_0x404d63-_0x3bd6fe[_0x1a58cd])**0x2);}return _0x1b756d;}function topBottomErrorSquare(_0x2bf9a5,_0x19c2ff){const _0x564483=_0x1a8361;let _0x558190,_0xb00a9a=0x0,_0x43c6ca;for(_0x43c6ca=0x0;_0x43c6ca<_0x2bf9a5[_0x564483(0x158)];_0x43c6ca++){_0x2bf9a5[_0x43c6ca]>0x0&&(_0x558190=getLineY(_0x19c2ff[0x0],_0x19c2ff[0x1],_0x19c2ff[0x2],_0x19c2ff[0x3],_0x43c6ca),_0xb00a9a=_0xb00a9a+(_0x558190-_0x2bf9a5[_0x43c6ca])**0x2);}return _0xb00a9a;}function getSmoothPath(_0x23c193){const _0x1e3610=_0x1a8361;let _0x431233=[],_0x5d91f5,_0x1f7581,_0x27b8ec,_0x4d5d34,_0x4ee221,_0x4685ff,_0x251b86=[0x0,0x0];for(_0x5d91f5=0x0;_0x5d91f5<_0x23c193[BS_CUE_BALL_PATH][_0x1e3610(0x158)];_0x5d91f5++){_0x27b8ec=_0x23c193[BS_CUE_BALL_PATH][_0x5d91f5],_0x27b8ec[BG_Found]=0x0;if(_0x5d91f5==0x0||_0x27b8ec[BG_PathBegin]==0x1){_0x431233[_0x1e3610(0x170)](_0x27b8ec);continue;}if(_0x5d91f5>=0x3&&_0x5d91f5<_0x23c193[BS_CUE_BALL_PATH][_0x1e3610(0x158)]-0x1){_0x4ee221=_0x27b8ec[BG_CenterX],_0x4685ff=_0x27b8ec[BG_CenterY],balls=get3BallsFromPath(_0x23c193,_0x4ee221,_0x4685ff,_0x5d91f5);if(balls[_0x1e3610(0x158)]!=0x3){_0x431233[_0x1e3610(0x170)](_0x27b8ec);continue;}if(_0x4ee221<TableLines[TAB_LEFT_LINE][0x0]+0x6*_0x27b8ec[BG_Radius]&&_0x4ee221-TableLeftRightX[_0x4685ff][0x0]<0x6*_0x27b8ec[BG_Radius]&&_0x4685ff>Math[_0x1e3610(0x177)](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x4685ff<Math['min'](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3])){if(angleChangeInBounce(balls[0x0],balls[0x1],_0x27b8ec,balls[0x2],TAB_LEFT_LINE)){let _0x5bb413=getCrossPointBall(balls[0x0],balls[0x1],_0x27b8ec,balls[0x2]);_0x5bb413!=null&&(Math['abs'](_0x5bb413[BG_CenterX]-_0x4ee221)>0x1&&Math[_0x1e3610(0x17d)](_0x5bb413[BG_CenterY]-_0x4685ff)>0x1&&Math[_0x1e3610(0x17d)](_0x5bb413[BG_CenterX]-balls[0x1][BG_CenterX])>0x1&&Math['abs'](_0x5bb413[BG_CenterY]-balls[0x1][BG_CenterY])>0x1&&_0x5bb413[BG_CenterX]<_0x4ee221&&_0x5bb413[BG_CenterX]<balls[0x1][BG_CenterX]&&lineLength(_0x5bb413[BG_CenterX],_0x5bb413[BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])>lineLength(balls[0x1][BG_CenterX],balls[0x1][BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])&&lineLength(_0x5bb413[BG_CenterX],_0x5bb413[BG_CenterY],balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])>lineLength(_0x4ee221,_0x4685ff,balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])&&lineLength(_0x5bb413[BG_CenterX],_0x5bb413[BG_CenterY],_0x251b86[0x0],_0x251b86[0x1])>_0x27b8ec[BG_Radius]*0x4&&(_0x431233[_0x1e3610(0x170)](_0x5bb413),_0x251b86=[_0x5bb413[BG_CenterX],_0x5bb413[BG_CenterY]]));}}else{if(_0x4ee221>TableLines[TAB_RIGHT_LINE][0x0]-0x6*_0x27b8ec[BG_Radius]&&TableLeftRightX[_0x4685ff][0x1]-_0x4ee221<0x6*_0x27b8ec[BG_Radius]&&_0x4685ff>Math[_0x1e3610(0x177)](TableLines[TAB_LEFT_LINE][0x1],TableLines[TAB_RIGHT_LINE][0x1])&&_0x4685ff<Math[_0x1e3610(0x130)](TableLines[TAB_LEFT_LINE][0x3],TableLines[TAB_RIGHT_LINE][0x3])){if(angleChangeInBounce(balls[0x0],balls[0x1],_0x27b8ec,balls[0x2],TAB_RIGHT_LINE)){let _0xc3ac32=getCrossPointBall(balls[0x0],balls[0x1],_0x27b8ec,balls[0x2]);_0xc3ac32!=null&&(Math['abs'](_0xc3ac32[BG_CenterX]-_0x4ee221)>0x1&&Math[_0x1e3610(0x17d)](_0xc3ac32[BG_CenterY]-_0x4685ff)>0x1&&Math['abs'](_0xc3ac32[BG_CenterX]-balls[0x1][BG_CenterX])>0x1&&Math[_0x1e3610(0x17d)](_0xc3ac32[BG_CenterY]-balls[0x1][BG_CenterY])>0x1&&_0xc3ac32[BG_CenterX]>_0x4ee221&&_0xc3ac32[BG_CenterX]>balls[0x1][BG_CenterX]&&lineLength(_0xc3ac32[BG_CenterX],_0xc3ac32[BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])>lineLength(balls[0x1][BG_CenterX],balls[0x1][BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])&&lineLength(_0xc3ac32[BG_CenterX],_0xc3ac32[BG_CenterY],balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])>lineLength(_0x4ee221,_0x4685ff,balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])&&lineLength(_0xc3ac32[BG_CenterX],_0xc3ac32[BG_CenterY],_0x251b86[0x0],_0x251b86[0x1])>_0x27b8ec[BG_Radius]*0x4&&(_0x431233['push'](_0xc3ac32),_0x251b86=[_0xc3ac32[BG_CenterX],_0xc3ac32[BG_CenterY]]));}}else{if(TableTopBottomY[_0x4ee221][0x1]-_0x4685ff<0x4*_0x27b8ec[BG_Radius]){if(angleChangeInBounce(balls[0x0],balls[0x1],_0x27b8ec,balls[0x2],TAB_BOTTOM_LINE)){let _0x519934=getCrossPointBall(balls[0x0],balls[0x1],_0x27b8ec,balls[0x2]);_0x519934!=null&&(Math['abs'](_0x519934[BG_CenterX]-_0x4ee221)>0x1&&Math[_0x1e3610(0x17d)](_0x519934[BG_CenterY]-_0x4685ff)>0x1&&Math[_0x1e3610(0x17d)](_0x519934[BG_CenterX]-balls[0x1][BG_CenterX])>0x1&&Math['abs'](_0x519934[BG_CenterY]-balls[0x1][BG_CenterY])>0x1&&_0x519934[BG_CenterY]>_0x4685ff&&_0x519934[BG_CenterY]>balls[0x1][BG_CenterY]&&lineLength(_0x519934[BG_CenterX],_0x519934[BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])>lineLength(balls[0x1][BG_CenterX],balls[0x1][BG_CenterY],balls[0x0][BG_CenterX],balls[0x0][BG_CenterY])&&lineLength(_0x519934[BG_CenterX],_0x519934[BG_CenterY],balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])>lineLength(_0x4ee221,_0x4685ff,balls[0x2][BG_CenterX],balls[0x2][BG_CenterY])&&lineLength(_0x519934[BG_CenterX],_0x519934[BG_CenterY],_0x251b86[0x0],_0x251b86[0x1])>_0x27b8ec[BG_Radius]*0x4&&(_0x431233['push'](_0x519934),_0x251b86=[_0x519934[BG_CenterX],_0x519934[BG_CenterY]]));}}}}}_0x431233[_0x1e3610(0x170)](_0x27b8ec);}for(_0x5d91f5=0x0;_0x5d91f5<_0x431233[_0x1e3610(0x158)];_0x5d91f5++){_0x27b8ec=_0x431233[_0x5d91f5];if(_0x27b8ec[BG_PathBegin]==0x1||_0x27b8ec[BG_Found]!=0x0)continue;for(let _0xc4882f=_0x5d91f5+0x4;_0xc4882f<_0x431233[_0x1e3610(0x158)];_0xc4882f++){_0x4d5d34=_0x431233[_0xc4882f];if(_0x4d5d34[BG_PathBegin]==0x1||_0x4d5d34[BG_Found]!=0x0)continue;let _0x30af2e=ballsInStraightLine(_0x431233,_0x5d91f5,_0xc4882f);if(_0x30af2e==0x0)break;else{if(_0x30af2e==0x1)continue;else{if(_0x30af2e==0x2){for(let _0x1d04ee=_0x5d91f5+0x1;_0x1d04ee<_0xc4882f;_0x1d04ee++){_0x431233[_0x1d04ee][BG_Found]==0x0&&_0x431233[BG_PathBegin]==0x0&&(_0x431233[_0x1d04ee][BG_Found]=0x1);}_0xc4882f=_0xc4882f+0x3;}}}}}let _0x293523=[];_0x4ee221=0x0;for(_0x5d91f5=0x0;_0x5d91f5<_0x431233['length'];_0x5d91f5++){_0x27b8ec=_0x431233[_0x5d91f5];if(_0x27b8ec[BG_Found]==0x1){_0x4ee221++;continue;}_0x293523[_0x1e3610(0x170)](_0x27b8ec);}if(_0x4ee221>0x0){}return _0x431233=_0x293523,_0x431233;}function getBestCueBall(_0xe2ada4){let _0x52aca9=null;for(let _0x1697a2 of _0xe2ada4){if(_0x1697a2[BG_WhiteBall]==0x1){if(_0x52aca9==null)_0x52aca9=_0x1697a2;else _0x52aca9[BG_WhiteScore]<_0x1697a2[BG_WhiteScore]&&(_0x52aca9=_0x1697a2);}}return _0x52aca9;}function videoHasAudio(_0x30d178){const _0x5514f8=_0x1a8361;if(_0x30d178[_0x5514f8(0x169)]&&_0x30d178[_0x5514f8(0x169)]['length']>0x0)return!![];if(_0x30d178[_0x5514f8(0x16a)]){if(_0x30d178[_0x5514f8(0x16a)]>0x0)return!![];}if(_0x30d178['mozHasAudio'])return!![];return![];}